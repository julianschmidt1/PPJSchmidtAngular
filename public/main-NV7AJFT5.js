var dA=Object.defineProperty,hA=Object.defineProperties;var fA=Object.getOwnPropertyDescriptors;var S_=Object.getOwnPropertySymbols,pA=Object.getPrototypeOf,gA=Object.prototype.hasOwnProperty,mA=Object.prototype.propertyIsEnumerable,yA=Reflect.get;var A_=(t,e,n)=>e in t?dA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})gA.call(e,n)&&A_(t,n,e[n]);if(S_)for(var n of S_(e))mA.call(e,n)&&A_(t,n,e[n]);return t},he=(t,e)=>hA(t,fA(e));var Zn=(t,e,n)=>yA(pA(t),n,e);var S=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var R_=null;var gh=1,N_=Symbol("SIGNAL");function ue(t){let e=R_;return R_=t,e}var M_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vA(t){if(!(vh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gh)){if(!t.producerMustRecompute(t)&&!mh(t)){t.dirty=!1,t.lastCleanEpoch=gh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=gh}}function P_(t){return t&&(t.nextProducerIndex=0),ue(t)}function x_(t,e){if(ue(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)yh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mh(t){Tc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(vA(n),r!==n.version))return!0}return!1}function O_(t){if(Tc(t),vh(t))for(let e=0;e<t.producerNode.length;e++)yh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yh(t,e){if(_A(t),Tc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)yh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Tc(i),i.producerIndexOfThis[r]=e}}function vh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Tc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _A(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function wA(){throw new Error}var IA=wA;function k_(t){IA=t}function q(t){return typeof t=="function"}function Pi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dc=Pi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(q(r))try{r()}catch(s){e=s instanceof Dc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{F_(s)}catch(o){e=e??[],o instanceof Dc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Lr(n,e)}remove(e){let{_finalizers:n}=this;n&&Lr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var _h=Se.EMPTY;function bc(t){return t instanceof Se||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function F_(t){q(t)?t():t.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xi={setTimeout(t,e,...n){let{delegate:r}=xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Sc(t){xi.setTimeout(()=>{let{onUnhandledError:e}=$t;if(e)e(t);else throw t})}function Eo(){}var L_=wh("C",void 0,void 0);function V_(t){return wh("E",void 0,t)}function U_(t){return wh("N",t,void 0)}function wh(t,e,n){return{kind:t,value:e,error:n}}var Vr=null;function Oi(t){if($t.useDeprecatedSynchronousErrorHandling){let e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}function j_(t){$t.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}var Ur=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bc(e)&&e.add(this)):this.destination=TA}static create(e,n,r){return new ki(e,n,r)}next(e){this.isStopped?Eh(U_(e),this):this._next(e)}error(e){this.isStopped?Eh(V_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Eh(L_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EA=Function.prototype.bind;function Ih(t,e){return EA.call(t,e)}var Ch=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ac(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ac(r)}else Ac(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ac(n)}}},ki=class extends Ur{constructor(e,n,r){super();let i;if(q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&$t.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ih(e.next,s),error:e.error&&Ih(e.error,s),complete:e.complete&&Ih(e.complete,s)}):i=e}this.destination=new Ch(i)}};function Ac(t){$t.useDeprecatedSynchronousErrorHandling?j_(t):Sc(t)}function CA(t){throw t}function Eh(t,e){let{onStoppedNotification:n}=$t;n&&xi.setTimeout(()=>n(t,e))}var TA={closed:!0,next:Eo,error:CA,complete:Eo};var Fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function Th(...t){return Dh(t)}function Dh(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=bA(n)?n:new ki(n,r,i);return Oi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=B_(r),new r((i,s)=>{let o=new ki({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fi](){return this}pipe(...n){return Dh(n)(this)}toPromise(n){return n=B_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function B_(t){var e;return(e=t??$t.Promise)!==null&&e!==void 0?e:Promise}function DA(t){return t&&q(t.next)&&q(t.error)&&q(t.complete)}function bA(t){return t&&t instanceof Ur||DA(t)&&bc(t)}function bh(t){return q(t?.lift)}function te(t){return e=>{if(bh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,n,r,i){return new Sh(t,e,n,r,i)}var Sh=class extends Ur{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Li(){return te((t,e)=>{let n=null;t._refCount++;let r=Y(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vi=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(Y(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return Li()(this)}};var $_=Pi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $_}next(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?_h:(this.currentObservers=null,s.push(n),new Se(()=>{this.currentObservers=null,Lr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new Rc(e,n),t})(),Rc=class extends Qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:_h}};var Be=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ah={now(){return(Ah.delegate||Date).now()},delegate:void 0};var Nc=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var Co={setInterval(t,e,...n){let{delegate:r}=Co;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Co;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends Nc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Co.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Co.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ji=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ji.now=Ah.now;var Bi=class extends ji{constructor(e,n=ji.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Rh=new Bi(Ui);var Mc=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Pc=class extends Bi{};var Nh=new Pc(Mc);var It=new Q(t=>t.complete());function q_(t){return t&&q(t.schedule)}function H_(t){return t[t.length-1]}function xc(t){return q(H_(t))?t.pop():void 0}function er(t){return q_(H_(t))?t.pop():void 0}function Mh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function z_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function G_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jr(t){return this instanceof jr?(this.v=t,this):new jr(t)}function W_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(D){return new Promise(function(A,P){s.push([m,D,A,P])>1||a(m,D)})})}function a(m,D){try{u(r[m](D))}catch(A){p(s[0][3],A)}}function u(m){m.value instanceof jr?Promise.resolve(m.value.v).then(l,f):p(s[0][2],m)}function l(m){a("next",m)}function f(m){a("throw",m)}function p(m,D){m(D),s.shift(),s.length&&a(s[0][0],s[0][1])}}function K_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof G_=="function"?G_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Oc=t=>t&&typeof t.length=="number"&&typeof t!="function";function kc(t){return q(t?.then)}function Fc(t){return q(t[Fi])}function Lc(t){return Symbol.asyncIterator&&q(t?.[Symbol.asyncIterator])}function Vc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Uc=SA();function jc(t){return q(t?.[Uc])}function Bc(t){return W_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield jr(n.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{n.releaseLock()}})}function $c(t){return q(t?.getReader)}function Ae(t){if(t instanceof Q)return t;if(t!=null){if(Fc(t))return AA(t);if(Oc(t))return RA(t);if(kc(t))return NA(t);if(Lc(t))return Q_(t);if(jc(t))return MA(t);if($c(t))return PA(t)}throw Vc(t)}function AA(t){return new Q(e=>{let n=t[Fi]();if(q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RA(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function NA(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Sc)})}function MA(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Q_(t){return new Q(e=>{xA(t,e).catch(n=>e.error(n))})}function PA(t){return Q_(Bc(t))}function xA(t,e){var n,r,i,s;return z_(this,void 0,void 0,function*(){try{for(n=K_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function lt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function tr(t,e=0){return te((n,r)=>{n.subscribe(Y(r,i=>lt(r,t,()=>r.next(i),e),()=>lt(r,t,()=>r.complete(),e),i=>lt(r,t,()=>r.error(i),e)))})}function nr(t,e=0){return te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Y_(t,e){return Ae(t).pipe(nr(e),tr(e))}function J_(t,e){return Ae(t).pipe(nr(e),tr(e))}function X_(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Z_(t,e){return new Q(n=>{let r;return lt(n,e,()=>{r=t[Uc](),lt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}function qc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{lt(n,e,()=>{let r=t[Symbol.asyncIterator]();lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ew(t,e){return qc(Bc(t),e)}function tw(t,e){if(t!=null){if(Fc(t))return Y_(t,e);if(Oc(t))return X_(t,e);if(kc(t))return J_(t,e);if(Lc(t))return qc(t,e);if(jc(t))return Z_(t,e);if($c(t))return ew(t,e)}throw Vc(t)}function we(t,e){return e?tw(t,e):Ae(t)}function j(...t){let e=er(t);return we(t,e)}function $i(t,e){let n=q(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function Ph(t){return!!t&&(t instanceof Q||q(t.lift)&&q(t.subscribe))}var Rn=Pi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function H(t,e){return te((n,r)=>{let i=0;n.subscribe(Y(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:OA}=Array;function kA(t,e){return OA(e)?t(...e):t(e)}function Hc(t){return H(e=>kA(t,e))}var{isArray:FA}=Array,{getPrototypeOf:LA,prototype:VA,keys:UA}=Object;function Gc(t){if(t.length===1){let e=t[0];if(FA(e))return{args:e,keys:null};if(jA(e)){let n=UA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jA(t){return t&&typeof t=="object"&&LA(t)===VA}function zc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function To(...t){let e=er(t),n=xc(t),{args:r,keys:i}=Gc(t);if(r.length===0)return we([],e);let s=new Q(BA(r,e,i?o=>zc(i,o):wt));return n?s.pipe(Hc(n)):s}function BA(t,e,n=wt){return r=>{nw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)nw(e,()=>{let l=we(t[u],e),f=!1;l.subscribe(Y(r,p=>{s[u]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function nw(t,e,n){t?lt(n,t,e):e()}function rw(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},D=P=>l<r?A(P):u.push(P),A=P=>{s&&e.next(P),l++;let N=!1;Ae(n(P,f++)).subscribe(Y(e,k=>{i?.(k),s?D(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let k=u.shift();o?lt(e,o,()=>A(k)):A(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(Y(e,D,()=>{p=!0,m()})),()=>{a?.()}}function Re(t,e,n=1/0){return q(e)?Re((r,i)=>H((s,o)=>e(r,s,i,o))(Ae(t(r,i))),n):(typeof e=="number"&&(n=e),te((r,i)=>rw(r,i,t,n)))}function qi(t=1/0){return Re(wt,t)}function iw(){return qi(1)}function Hi(...t){return iw()(we(t,er(t)))}function Wc(t){return new Q(e=>{Ae(t()).subscribe(e)})}function xh(...t){let e=xc(t),{args:n,keys:r}=Gc(t),i=new Q(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;Ae(n[f]).subscribe(Y(s,m=>{p||(p=!0,l--),a[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?zc(r,a):a),s.complete())}))}});return e?i.pipe(Hc(e)):i}function dt(t,e){return te((n,r)=>{let i=0;n.subscribe(Y(r,s=>t.call(e,s,i++)&&r.next(s)))})}function rr(t){return te((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Y(n,void 0,void 0,o=>{s=Ae(t(o,rr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function sw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(Y(o,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Nn(t,e){return q(e)?Re(t,e,1):Re(t,1)}function ir(t){return te((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Mn(t){return t<=0?()=>It:te((e,n)=>{let r=0;e.subscribe(Y(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Oh(t){return H(()=>t)}function Kc(t=$A){return te((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $A(){return new Rn}function Br(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Zt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dt((i,s)=>t(i,s,r)):wt,Mn(1),n?ir(e):Kc(()=>new Rn))}function Gi(t){return t<=0?()=>It:te((e,n)=>{let r=[];e.subscribe(Y(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function kh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dt((i,s)=>t(i,s,r)):wt,Gi(1),n?ir(e):Kc(()=>new Rn))}function Fh(t,e){return te(sw(t,e,arguments.length>=2,!0))}function Lh(...t){let e=er(t);return te((n,r)=>{(e?Hi(t,n,e):Hi(t,n)).subscribe(r)})}function ht(t,e){return te((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Y(r,u=>{i?.unsubscribe();let l=0,f=s++;Ae(t(u,f)).subscribe(i=Y(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Vh(t){return te((e,n)=>{Ae(t).subscribe(Y(n,()=>n.complete(),Eo)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let r=q(t)||e||n?{next:t,error:e,complete:n}:t;return r?te((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Y(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var $w="https://g.co/ng/security#xss",V=class extends Error{constructor(e,n){super(Tu(e,n)),this.code=e}};function Tu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Fo(t){return{toString:t}.toString()}var Qc="__parameters__";function qA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qw(t,e,n){return Fo(()=>{let r=qA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let p=u.hasOwnProperty(Qc)?u[Qc]:Object.defineProperty(u,Qc,{value:[]})[Qc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var $r=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function HA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ct).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ow(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var GA=ye({__forward_ref__:ye});function Jr(t){return t.__forward_ref__=Jr,t.toString=function(){return ct(this())},t}function at(t){return Hw(t)?t():t}function Hw(t){return typeof t=="function"&&t.hasOwnProperty(GA)&&t.__forward_ref__===Jr}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Du(t){return aw(t,zw)||aw(t,Ww)}function Gw(t){return Du(t)!==null}function aw(t,e){return t.hasOwnProperty(e)?t[e]:null}function zA(t){let e=t&&(t[zw]||t[Ww]);return e||null}function cw(t){return t&&(t.hasOwnProperty(uw)||t.hasOwnProperty(WA))?t[uw]:null}var zw=ye({\u0275prov:ye}),uw=ye({\u0275inj:ye}),Ww=ye({ngInjectableDef:ye}),WA=ye({ngInjectorDef:ye}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kw(t){return t&&!!t.\u0275providers}var KA=ye({\u0275cmp:ye}),QA=ye({\u0275dir:ye}),YA=ye({\u0275pipe:ye}),JA=ye({\u0275mod:ye}),iu=ye({\u0275fac:ye}),Do=ye({__NG_ELEMENT_ID__:ye}),lw=ye({__NG_ENV_ID__:ye});function bu(t){return typeof t=="string"?t:t==null?"":String(t)}function XA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bu(t)}function ZA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new V(-200,t)}function Lf(t,e){throw new V(-201,!1)}var K=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(K||{}),ef;function Qw(){return ef}function Nt(t){let e=ef;return ef=t,e}function Yw(t,e,n){let r=Du(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&K.Optional)return null;if(e!==void 0)return e;Lf(t,"Injector")}var eR={},bo=eR,tf="__NG_DI_FLAG__",su="ngTempTokenPath",tR="ngTokenPath",nR=/\n/gm,rR="\u0275",dw="__source",Yi;function iR(){return Yi}function sr(t){let e=Yi;return Yi=t,e}function sR(t,e=K.Default){if(Yi===void 0)throw new V(-203,!1);return Yi===null?Yw(t,void 0,e):Yi.get(t,e&K.Optional?null:void 0,e)}function U(t,e=K.Default){return(Qw()||sR)(at(t),e)}function R(t,e=K.Default){return U(t,Su(e))}function Su(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nf(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,s=K.Default;for(let o=0;o<r.length;o++){let a=r[o],u=oR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function Jw(t,e){return t[tf]=e,t.prototype[tf]=e,t}function oR(t){return t[tf]}function aR(t,e,n,r){let i=t[su];throw e[dw]&&i.unshift(e[dw]),t.message=cR(`
`+t.message,i,n,r),t[tR]=i,t[su]=null,t}function cR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rR?t.slice(2):t;let i=ct(e);if(Array.isArray(e))i=e.map(ct).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ct(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nR,`
  `)}`}var Me=Jw(qw("Optional"),8);var Xw=Jw(qw("SkipSelf"),4);function Xi(t,e){let n=t.hasOwnProperty(iu);return n?t[iu]:null}function Vf(t,e){t.forEach(n=>Array.isArray(n)?Vf(n,e):e(n))}function Zw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ou(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function lR(t,e,n){let r=Lo(t,e);return r>=0?t[r|1]=n:(r=~r,uR(t,r,e,n)),r}function Uh(t,e){let n=Lo(t,e);if(n>=0)return t[n|1]}function Lo(t,e){return dR(t,e,1)}function dR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Zi={},Mt=[],es=new F(""),eI=new F("",-1),tI=new F(""),au=class{get(e,n=bo){if(n===bo){let r=new Error(`NullInjectorError: No provider for ${ct(e)}!`);throw r.name="NullInjectorError",r}return n}},nI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nI||{}),nn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nn||{}),Je=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Je||{});function hR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function rf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];fR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rI(t){return t===3||t===4||t===6}function fR(t){return t.charCodeAt(0)===64}function So(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hw(t,n,i,null,e[++r]):hw(t,n,i,null,null))}}return t}function hw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var iI="ng-template";function pR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Uf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Uf(t){return t.type===4&&t.value!==iI}function gR(t,e,n){let r=t.type===4&&!n?iI:t.value;return e===r}function mR(t,e,n){let r=4,i=t.attrs,s=i!==null?_R(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!qt(r)&&!qt(u))return!1;if(o&&qt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!gR(t,u,n)||u===""&&e.length===1){if(qt(r))return!1;o=!0}}else if(r&8){if(i===null||!pR(t,i,u,n)){if(qt(r))return!1;o=!0}}else{let l=e[++a],f=yR(u,i,Uf(t),n);if(f===-1){if(qt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(qt(r))return!1;o=!0}}}}return qt(r)||o}function qt(t){return(t&1)===0}function yR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return wR(e,t)}function vR(t,e,n=!1){for(let r=0;r<e.length;r++)if(mR(t,e[r],n))return!0;return!1}function _R(t){for(let e=0;e<t.length;e++){let n=t[e];if(rI(n))return e}return t.length}function wR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fw(t,e){return t?":not("+e.trim()+")":e}function IR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!qt(o)&&(e+=fw(s,i),i=""),r=o,s=s||!qt(r);n++}return i!==""&&(e+=fw(s,i)),e}function ER(t){return t.map(IR).join(",")}function CR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!qt(i))break;i=s}r++}return{attrs:e,classes:n}}function ln(t){return Fo(()=>{let e=uI(t),n=he(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nn.Emulated,styles:t.styles||Mt,_:null,schemas:t.schemas||null,tView:null,id:""});lI(n);let r=t.dependencies;return n.directiveDefs=gw(r,!1),n.pipeDefs=gw(r,!0),n.id=bR(n),n})}function TR(t){return ar(t)||sI(t)}function DR(t){return t!==null}function dn(t){return Fo(()=>({type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pw(t,e){if(t==null)return Zi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Je.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Je.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ut(t){return Fo(()=>{let e=uI(t);return lI(e),e})}function ar(t){return t[KA]||null}function sI(t){return t[QA]||null}function oI(t){return t[YA]||null}function aI(t){let e=ar(t)||sI(t)||oI(t);return e!==null?e.standalone:!1}function cI(t,e){let n=t[JA]||null;if(!n&&e===!0)throw new Error(`Type ${ct(t)} does not have '\u0275mod' property.`);return n}function uI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pw(t.inputs,e),outputs:pw(t.outputs),debugInfo:null}}function lI(t){t.features?.forEach(e=>e(t))}function gw(t,e){if(!t)return null;let n=e?oI:TR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(DR)}function bR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ft(t){return{\u0275providers:t}}function SR(...t){return{\u0275providers:dI(!0,t),\u0275fromNgModule:!0}}function dI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Vf(e,o=>{let a=o;sf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hI(i,s),n}function hI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jf(i,s=>{e(s,r)})}}function sf(t,e,n,r){if(t=at(t),!t)return!1;let i=null,s=cw(t),o=!s&&ar(t);if(!s&&!o){let u=t.ngModule;if(s=cw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)sf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Vf(s.imports,f=>{sf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&hI(l,e)}if(!a){let l=Xi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:tI,useValue:i,multi:!0},i),e({provide:es,useValue:()=>U(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;jf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function jf(t,e){for(let n of t)Kw(n)&&(n=n.\u0275providers),Array.isArray(n)?jf(n,e):e(n)}var AR=ye({provide:String,useValue:ye});function fI(t){return t!==null&&typeof t=="object"&&AR in t}function RR(t){return!!(t&&t.useExisting)}function NR(t){return!!(t&&t.useFactory)}function ts(t){return typeof t=="function"}function MR(t){return!!t.useClass}var Au=new F(""),Zc={},PR={},jh;function Bf(){return jh===void 0&&(jh=new au),jh}var Xe=class{},Ao=class extends Xe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,af(e,o=>this.processProvider(o)),this.records.set(eI,zi(void 0,this)),i.has("environment")&&this.records.set(Xe,zi(void 0,this));let s=this.records.get(Au);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tI,Mt,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=sr(this),r=Nt(void 0),i;try{return e()}finally{sr(n),Nt(r)}}get(e,n=bo,r=K.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lw))return e[lw](this);r=Su(r);let i,s=sr(this),o=Nt(void 0);try{if(!(r&K.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=LR(e)&&Du(e);l&&this.injectableDefInScope(l)?u=zi(of(e),Zc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&K.Self?Bf():this.parent;return n=r&K.Optional&&n===bo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[su]=a[su]||[]).unshift(ct(e)),s)throw a;return aR(a,e,"R3InjectorError",this.source)}else throw a}finally{Nt(o),sr(s)}}resolveInjectorInitializers(){let e=ue(null),n=sr(this),r=Nt(void 0),i;try{let s=this.get(es,Mt,K.Self);for(let o of s)o()}finally{sr(n),Nt(r),ue(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ct(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){e=at(e);let n=ts(e)?e:at(e&&e.provide),r=OR(e);if(!ts(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,Zc,!0),i.factory=()=>nf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ue(null);try{return n.value===Zc&&(n.value=PR,n.value=n.factory()),typeof n.value=="object"&&n.value&&FR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function of(t){let e=Du(t),n=e!==null?e.factory:Xi(t);if(n!==null)return n;if(t instanceof F)throw new V(204,!1);if(t instanceof Function)return xR(t);throw new V(204,!1)}function xR(t){if(t.length>0)throw new V(204,!1);let n=zA(t);return n!==null?()=>n.factory(t):()=>new t}function OR(t){if(fI(t))return zi(void 0,t.useValue);{let e=pI(t);return zi(e,Zc)}}function pI(t,e,n){let r;if(ts(t)){let i=at(t);return Xi(i)||of(i)}else if(fI(t))r=()=>at(t.useValue);else if(NR(t))r=()=>t.useFactory(...nf(t.deps||[]));else if(RR(t))r=()=>U(at(t.useExisting));else{let i=at(t&&(t.useClass||t.provide));if(kR(t))r=()=>new i(...nf(t.deps));else return Xi(i)||of(i)}return r}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kR(t){return!!t.deps}function FR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LR(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function af(t,e){for(let n of t)Array.isArray(n)?af(n,e):n&&Kw(n)?af(n.\u0275providers,e):e(n)}function zt(t,e){t instanceof Ao&&t.assertNotDestroyed();let n,r=sr(t),i=Nt(void 0);try{return e()}finally{sr(r),Nt(i)}}function gI(){return Qw()!==void 0||iR()!=null}function VR(t){if(!gI())throw new V(-203,!1)}function UR(t){return typeof t=="function"}var On=0,X=1,B=2,Ze=3,Ht=4,Wt=5,cu=6,Ro=7,rn=8,ns=9,Gt=10,Oe=11,No=12,mw=13,cs=14,sn=15,Ru=16,Wi=17,rs=18,Nu=19,mI=20,or=21,Bh=22,Gr=23,on=25,yI=1;var zr=7,uu=8,lu=9,Pt=10,$f=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($f||{});function qr(t){return Array.isArray(t)&&typeof t[yI]=="object"}function kn(t){return Array.isArray(t)&&t[yI]===!0}function qf(t){return(t.flags&4)!==0}function Mu(t){return t.componentOffset>-1}function Pu(t){return(t.flags&1)===1}function cr(t){return!!t.template}function jR(t){return(t[B]&512)!==0}var cf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function vI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function dr(){return _I}function _I(t){return t.type.prototype.ngOnChanges&&(t.setInput=$R),BR}dr.ngInherit=!0;function BR(){let t=II(this),e=t?.current;if(e){let n=t.previous;if(n===Zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $R(t,e,n,r,i){let s=this.declaredInputs[r],o=II(t)||qR(t,{previous:Zi,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new cf(l&&l.currentValue,n,u===Zi),vI(t,e,i,n)}var wI="__ngSimpleChanges__";function II(t){return t[wI]||null}function qR(t,e){return t[wI]=e}var yw=null;var en=function(t,e,n){yw?.(t,e,n)},HR="svg",GR="math",zR=!1;function WR(){return zR}function an(t){for(;Array.isArray(t);)t=t[On];return t}function EI(t,e){return an(e[t])}function xt(t,e){return an(e[t.index])}function CI(t,e){return t.data[e]}function KR(t,e){return t[e]}function hr(t,e){let n=e[t];return qr(n)?n:n[On]}function Hf(t){return(t[B]&128)===128}function QR(t){return kn(t[Ze])}function is(t,e){return e==null?null:t[e]}function TI(t){t[Wi]=0}function YR(t){t[B]&1024||(t[B]|=1024,Hf(t)&&Mo(t))}function JR(t,e){for(;t>0;)e=e[cs],t--;return e}function Gf(t){return!!(t[B]&9216||t[Gr]?.dirty)}function uf(t){t[Gt].changeDetectionScheduler?.notify(1),Gf(t)?Mo(t):t[B]&64&&(WR()?(t[B]|=1024,Mo(t)):t[Gt].changeDetectionScheduler?.notify())}function Mo(t){t[Gt].changeDetectionScheduler?.notify();let e=Po(t);for(;e!==null&&!(e[B]&8192||(e[B]|=8192,!Hf(e)));)e=Po(e)}function DI(t,e){if((t[B]&256)===256)throw new V(911,!1);t[or]===null&&(t[or]=[]),t[or].push(e)}function XR(t,e){if(t[or]===null)return;let n=t[or].indexOf(e);n!==-1&&t[or].splice(n,1)}function Po(t){let e=t[Ze];return kn(e)?e[Ze]:e}var Z={lFrame:PI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZR(){return Z.lFrame.elementDepthCount}function eN(){Z.lFrame.elementDepthCount++}function tN(){Z.lFrame.elementDepthCount--}function bI(){return Z.bindingsEnabled}function nN(){return Z.skipHydrationRootTNode!==null}function rN(t){return Z.skipHydrationRootTNode===t}function iN(){Z.skipHydrationRootTNode=null}function Ce(){return Z.lFrame.lView}function Et(){return Z.lFrame.tView}function pt(){let t=SI();for(;t!==null&&t.type===64;)t=t.parent;return t}function SI(){return Z.lFrame.currentTNode}function sN(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xr(t,e){let n=Z.lFrame;n.currentTNode=t,n.isParent=e}function zf(){return Z.lFrame.isParent}function AI(){Z.lFrame.isParent=!1}function oN(){return Z.lFrame.contextLView}function aN(t){return Z.lFrame.bindingIndex=t}function Wf(){return Z.lFrame.bindingIndex++}function cN(t){let e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function uN(){return Z.lFrame.inI18n}function lN(t,e){let n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,lf(e)}function dN(){return Z.lFrame.currentDirectiveIndex}function lf(t){Z.lFrame.currentDirectiveIndex=t}function hN(t){let e=Z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function RI(t){Z.lFrame.currentQueryIndex=t}function fN(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[Wt]:null}function NI(t,e,n){if(n&K.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&K.Host);)if(i=fN(s),i===null||(s=s[cs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Z.lFrame=MI();return r.currentTNode=e,r.lView=t,!0}function Kf(t){let e=MI(),n=t[X];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MI(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?PI(t):e}function PI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xI(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OI=xI;function Qf(){let t=xI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pN(t){return(Z.lFrame.contextLView=JR(t,Z.lFrame.contextLView))[rn]}function us(){return Z.lFrame.selectedIndex}function Wr(t){Z.lFrame.selectedIndex=t}function kI(){let t=Z.lFrame;return CI(t.tView,t.selectedIndex)}function gN(){return Z.lFrame.currentNamespace}var FI=!0;function xu(){return FI}function Ou(t){FI=t}function mN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=_I(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ku(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function eu(t,e,n){LI(t,e,3,n)}function tu(t,e,n,r){(t[B]&3)===n&&LI(t,e,n,r)}function $h(t,e){let n=t[B];(n&3)===e&&(n&=16383,n+=1,t[B]=n)}function LI(t,e,n,r){let i=r!==void 0?t[Wi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Wi]+=65536),(a<s||s==-1)&&(yN(t,n,e,u),t[Wi]=(t[Wi]&4294901760)+u+2),u++}function vw(t,e){en(4,t,e);let n=ue(null);try{e.call(t)}finally{ue(n),en(5,t,e)}}function yN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[B]>>14<t[Wi]>>16&&(t[B]&3)===e&&(t[B]+=16384,vw(a,s)):vw(a,s)}var Ji=-1,Kr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function vN(t){return t instanceof Kr}function _N(t){return(t.flags&8)!==0}function wN(t){return(t.flags&16)!==0}function VI(t){return t!==Ji}function du(t){return t&32767}function IN(t){return t>>16}function hu(t,e){let n=IN(t),r=e;for(;n>0;)r=r[cs],n--;return r}var df=!0;function _w(t){let e=df;return df=t,e}var EN=256,UI=EN-1,jI=5,CN=0,tn={};function TN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Do)&&(r=n[Do]),r==null&&(r=n[Do]=CN++);let i=r&UI,s=1<<i;e.data[t+(i>>jI)]|=s}function fu(t,e){let n=BI(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,qh(r.data,t),qh(e,null),qh(r.blueprint,null));let i=Yf(t,e),s=t.injectorIndex;if(VI(i)){let o=du(i),a=hu(i,e),u=a[X].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function qh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=zI(i),r===null)return Ji;if(n++,i=i[cs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function hf(t,e,n){TN(t,e,n)}function DN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(rI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function $I(t,e,n){if(n&K.Optional||t!==void 0)return t;Lf(e,"NodeInjector")}function qI(t,e,n,r){if(n&K.Optional&&r===void 0&&(r=null),!(n&(K.Self|K.Host))){let i=t[ns],s=Nt(void 0);try{return i?i.get(e,r,n&K.Optional):Yw(e,r,n&K.Optional)}finally{Nt(s)}}return $I(r,e,n)}function HI(t,e,n,r=K.Default,i){if(t!==null){if(e[B]&2048&&!(r&K.Self)){let o=NN(t,e,n,r,tn);if(o!==tn)return o}let s=GI(t,e,n,r,tn);if(s!==tn)return s}return qI(e,n,r,i)}function GI(t,e,n,r,i){let s=AN(n);if(typeof s=="function"){if(!NI(e,t,r))return r&K.Host?$I(i,n,r):qI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&K.Optional))Lf(n);else return o}finally{OI()}}else if(typeof s=="number"){let o=null,a=BI(t,e),u=Ji,l=r&K.Host?e[sn][Wt]:null;for((a===-1||r&K.SkipSelf)&&(u=a===-1?Yf(t,e):e[a+8],u===Ji||!Iw(r,!1)?a=-1:(o=e[X],a=du(u),e=hu(u,e)));a!==-1;){let f=e[X];if(ww(s,a,f.data)){let p=bN(a,e,n,o,r,l);if(p!==tn)return p}u=e[a+8],u!==Ji&&Iw(r,e[X].data[a+8]===l)&&ww(s,a,e)?(o=f,a=du(u),e=hu(u,e)):a=-1}}return i}function bN(t,e,n,r,i,s){let o=e[X],a=o.data[t+8],u=r==null?Mu(a)&&df:r!=o&&(a.type&3)!==0,l=i&K.Host&&s===a,f=SN(a,o,n,u,l);return f!==null?ss(e,o,f,a):tn}function SN(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?a:a+f,m=i?a+f:l;for(let D=p;D<m;D++){let A=o[D];if(D<u&&n===A||D>=u&&A.type===n)return D}if(i){let D=o[u];if(D&&cr(D)&&D.type===n)return u}return null}function ss(t,e,n,r){let i=t[n],s=e.data;if(vN(i)){let o=i;o.resolving&&ZA(XA(s[n]));let a=_w(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Nt(o.injectImpl):null,f=NI(t,r,K.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&mN(n,s[n],e)}finally{l!==null&&Nt(l),_w(a),o.resolving=!1,OI()}}return i}function AN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Do)?t[Do]:void 0;return typeof e=="number"?e>=0?e&UI:RN:e}function ww(t,e,n){let r=1<<t;return!!(n[e+(t>>jI)]&r)}function Iw(t,e){return!(t&K.Self)&&!(t&K.Host&&e)}var Hr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HI(this._tNode,this._lView,e,Su(r),n)}};function RN(){return new Hr(pt(),Ce())}function ls(t){return Fo(()=>{let e=t.prototype.constructor,n=e[iu]||ff(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[iu]||ff(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ff(t){return Hw(t)?()=>{let e=ff(at(t));return e&&e()}:Xi(t)}function NN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[B]&2048&&!(o[B]&512);){let a=GI(s,o,n,r|K.Self,tn);if(a!==tn)return a;let u=s.parent;if(!u){let l=o[mI];if(l){let f=l.get(n,tn,r);if(f!==tn)return f}u=zI(o),o=o[cs]}s=u}return i}function zI(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[Wt]:null}function Jf(t){return DN(pt(),t)}function Ew(t,e=null,n=null,r){let i=WI(t,e,n,r);return i.resolveInjectorInitializers(),i}function WI(t,e=null,n=null,r,i=new Set){let s=[n||Mt,SR(t)];return r=r||(typeof t=="object"?void 0:ct(t)),new Ao(s,e||Bf(),r||null,i)}var $e=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Ew({name:""},i,r,"");{let s=r.name??"";return Ew({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=bo,e.NULL=new au,e.\u0275prov=L({token:e,providedIn:"any",factory:()=>U(eI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var MN="ngOriginalError";function Hh(t){return t[MN]}var cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hh(e);for(;n&&Hh(n);)n=Hh(n);return n||null}},KI=new F("",{providedIn:"root",factory:()=>R(cn).handleError.bind(void 0)}),Xf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),pf=class extends Xf{constructor(e){super(),this._lView=e}onDestroy(e){return DI(this._lView,e),()=>XR(this._lView,e)}};function PN(){return new pf(Ce())}function xN(){return Fu(pt(),Ce())}function Fu(t,e){return new fr(xt(t,e))}var fr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=xN;let t=e;return t})();var gf=class extends Qe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,gI()&&(this.destroyRef=R(Xf,{optional:!0})??void 0)}emit(e){let n=ue(null);try{super.next(e)}finally{ue(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Gh(s),i&&(i=Gh(i)),o&&(o=Gh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Se&&e.add(a),a}};function Gh(t){return e=>{setTimeout(t,void 0,e)}}var Ye=gf;function QI(t){return(t.flags&128)===128}var YI=new Map,ON=0;function kN(){return ON++}function FN(t){YI.set(t[Nu],t)}function LN(t){YI.delete(t[Nu])}var Cw="__ngContext__";function ur(t,e){qr(e)?(t[Cw]=e[Nu],FN(e)):t[Cw]=e}function JI(t){return ZI(t[No])}function XI(t){return ZI(t[Ht])}function ZI(t){for(;t!==null&&!kn(t);)t=t[Ht];return t}var mf;function eE(t){mf=t}function VN(){if(mf!==void 0)return mf;if(typeof document<"u")return document;throw new V(210,!1)}var Zf=new F("",{providedIn:"root",factory:()=>UN}),UN="ng",ep=new F(""),Ot=new F("",{providedIn:"platform",factory:()=>"unknown"});var tp=new F("",{providedIn:"root",factory:()=>VN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jN="h",BN="b";var $N=()=>null;function np(t,e,n=!1){return $N(t,e,n)}var tE=!1,qN=new F("",{providedIn:"root",factory:()=>tE});var Yc;function HN(){if(Yc===void 0&&(Yc=null,$r.trustedTypes))try{Yc=$r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yc}function Tw(t){return HN()?.createScriptURL(t)||t}var pu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$w})`}};function Vo(t){return t instanceof pu?t.changingThisBreaksApplicationSecurity:t}function rp(t,e){let n=GN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$w})`)}return n===e}function GN(t){return t instanceof pu&&t.getTypeName()||null}var zN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nE(t){return t=String(t),t.match(zN)?t:"unsafe:"+t}var Lu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lu||{});function ip(t){let e=iE();return e?e.sanitize(Lu.URL,t)||"":rp(t,"URL")?Vo(t):nE(bu(t))}function WN(t){let e=iE();if(e)return Tw(e.sanitize(Lu.RESOURCE_URL,t)||"");if(rp(t,"ResourceURL"))return Tw(Vo(t));throw new V(904,!1)}function KN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?WN:ip}function rE(t,e,n){return KN(e,n)(t)}function iE(){let t=Ce();return t&&t[Gt].sanitizer}var QN=/^>|^->|<!--|-->|--!>|<!-$/g,YN=/(<|>)/g,JN="\u200B$1\u200B";function XN(t){return t.replace(QN,e=>e.replace(YN,JN))}function sE(t){return t instanceof Function?t():t}function ZN(t){return(t??R($e)).get(Ot)==="browser"}var Pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Pn||{}),eM;function sp(t,e){return eM(t,e)}function Ki(t,e,n,r,i){if(r!=null){let s,o=!1;kn(r)?s=r:qr(r)&&(o=!0,r=r[On]);let a=an(r);t===0&&n!==null?i==null?lE(e,n,a):gu(e,n,a,i||null,!0):t===1&&n!==null?gu(e,n,a,i||null,!0):t===2?vM(e,a,o):t===3&&e.destroyNode(a),s!=null&&wM(e,t,s,n,i)}}function tM(t,e){return t.createText(e)}function nM(t,e,n){t.setValue(e,n)}function rM(t,e){return t.createComment(XN(e))}function oE(t,e,n){return t.createElement(e,n)}function iM(t,e){aE(t,e),e[On]=null,e[Wt]=null}function sM(t,e,n,r,i,s){r[On]=i,r[Wt]=e,Uu(t,r,n,1,i,s)}function aE(t,e){e[Gt].changeDetectionScheduler?.notify(1),Uu(t,e,e[Oe],2,null,null)}function oM(t){let e=t[No];if(!e)return zh(t[X],t);for(;e;){let n=null;if(qr(e))n=e[No];else{let r=e[Pt];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)qr(e)&&zh(e[X],e),e=e[Ze];e===null&&(e=t),qr(e)&&zh(e[X],e),n=e&&e[Ht]}e=n}}function aM(t,e,n,r){let i=Pt+r,s=n.length;r>0&&(n[i-1][Ht]=e),r<s-Pt?(e[Ht]=n[i],Zw(n,Pt+r,e)):(n.push(e),e[Ht]=null),e[Ze]=n;let o=e[Ru];o!==null&&n!==o&&cM(o,e);let a=e[rs];a!==null&&a.insertView(t),uf(e),e[B]|=128}function cM(t,e){let n=t[lu],i=e[Ze][Ze][sn];e[sn]!==i&&(t[B]|=$f.HasTransplantedViews),n===null?t[lu]=[e]:n.push(e)}function cE(t,e){let n=t[lu],r=n.indexOf(e);n.splice(r,1)}function yf(t,e){if(t.length<=Pt)return;let n=Pt+e,r=t[n];if(r){let i=r[Ru];i!==null&&i!==t&&cE(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let s=ou(t,Pt+e);iM(r[X],r);let o=s[rs];o!==null&&o.detachView(s[X]),r[Ze]=null,r[Ht]=null,r[B]&=-129}return r}function uE(t,e){if(!(e[B]&256)){let n=e[Oe];n.destroyNode&&Uu(t,e,n,3,null,null),oM(e)}}function zh(t,e){if(e[B]&256)return;let n=ue(null);try{e[B]&=-129,e[B]|=256,e[Gr]&&O_(e[Gr]),lM(t,e),uM(t,e),e[X].type===1&&e[Oe].destroy();let r=e[Ru];if(r!==null&&kn(e[Ze])){r!==e[Ze]&&cE(r,e);let i=e[rs];i!==null&&i.detachView(t)}LN(e)}finally{ue(n)}}function uM(t,e){let n=t.cleanup,r=e[Ro];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ro]=null);let i=e[or];if(i!==null){e[or]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function lM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Kr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];en(4,a,u);try{u.call(a)}finally{en(5,a,u)}}else{en(4,i,s);try{s.call(i)}finally{en(5,i,s)}}}}}function dM(t,e,n){return hM(t,e.parent,n)}function hM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[On];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===nn.None||s===nn.Emulated)return null}return xt(r,n)}}function gu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lE(t,e,n){t.appendChild(e,n)}function Dw(t,e,n,r,i){r!==null?gu(t,e,n,r,i):lE(t,e,n)}function fM(t,e,n,r){t.removeChild(e,n,r)}function op(t,e){return t.parentNode(e)}function pM(t,e){return t.nextSibling(e)}function gM(t,e,n){return yM(t,e,n)}function mM(t,e,n){return t.type&40?xt(t,n):null}var yM=mM,bw;function Vu(t,e,n,r){let i=dM(t,r,e),s=e[Oe],o=r.parent||e[Wt],a=gM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Dw(s,i,n[u],a,!1);else Dw(s,i,n,a,!1);bw!==void 0&&bw(s,r,e,n,i)}function nu(t,e){if(e!==null){let n=e.type;if(n&3)return xt(e,t);if(n&4)return vf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return nu(t,r);{let i=t[e.index];return kn(i)?vf(-1,i):an(i)}}else{if(n&32)return sp(e,t)()||an(t[e.index]);{let r=dE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Po(t[sn]);return nu(i,r)}else return nu(t,e.next)}}}return null}function dE(t,e){if(e!==null){let r=t[sn][Wt],i=e.projection;return r.projection[i]}return null}function vf(t,e){let n=Pt+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return nu(r,i)}return e[zr]}function vM(t,e,n){let r=op(t,e);r&&fM(t,r,e,n)}function ap(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&ur(an(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)ap(t,e,n.child,r,i,s,!1),Ki(e,t,i,a,s);else if(u&32){let l=sp(n,r),f;for(;f=l();)Ki(e,t,i,f,s);Ki(e,t,i,a,s)}else u&16?_M(t,e,r,n,i,s):Ki(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Uu(t,e,n,r,i,s){ap(n,r,t.firstChild,e,i,s,!1)}function _M(t,e,n,r,i,s){let o=n[sn],u=o[Wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Ki(e,t,i,f,s)}else{let l=u,f=o[Ze];QI(r)&&(l.flags|=128),ap(t,e,l,f,i,s,!0)}}function wM(t,e,n,r,i){let s=n[zr],o=an(n);s!==o&&Ki(e,t,r,s,i);for(let a=Pt;a<n.length;a++){let u=n[a];Uu(u[X],u,t,e,r,s)}}function IM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Pn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),t.setStyle(n,r,i,s))}}function EM(t,e,n){t.setAttribute(e,"style",n)}function hE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&rf(t,e,r),i!==null&&hE(t,e,i),s!==null&&EM(t,e,s)}var ds={};function qe(t=1){pE(Et(),Ce(),us()+t,!1)}function pE(t,e,n,r){if(!r)if((e[B]&3)===3){let s=t.preOrderCheckHooks;s!==null&&eu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&tu(e,s,0,n)}Wr(n)}function pe(t,e=K.Default){let n=Ce();if(n===null)return U(t,e);let r=pt();return HI(r,n,at(t),e)}function gE(){let t="invalid";throw new Error(t)}function mE(t,e,n,r,i,s){let o=ue(null);try{let a=null;i&Je.SignalBased&&(a=e[r][N_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Je.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):vI(e,a,r,s)}finally{ue(o)}}function CM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wr(~i);else{let s=i,o=n[++r],a=n[++r];lN(o,s);let u=e[s];a(2,u)}}}finally{Wr(-1)}}function ju(t,e,n,r,i,s,o,a,u,l,f){let p=e.blueprint.slice();return p[On]=i,p[B]=r|4|128|8|64,(l!==null||t&&t[B]&2048)&&(p[B]|=2048),TI(p),p[Ze]=p[cs]=t,p[rn]=n,p[Gt]=o||t&&t[Gt],p[Oe]=a||t&&t[Oe],p[ns]=u||t&&t[ns]||null,p[Wt]=s,p[Nu]=kN(),p[cu]=f,p[mI]=l,p[sn]=e.type==2?t[sn]:p,p}function Uo(t,e,n,r,i){let s=t.data[e];if(s===null)s=TM(t,e,n,r,i),uN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=sN();s.injectorIndex=o===null?-1:o.injectorIndex}return Xr(s,!0),s}function TM(t,e,n,r,i){let s=SI(),o=zf(),a=o?s:s&&s.parent,u=t.data[e]=RM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function yE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vE(t,e,n,r,i){let s=us(),o=r&2;try{Wr(-1),o&&e.length>on&&pE(t,e,on,!1),en(o?2:0,i),n(r,i)}finally{Wr(s),en(o?3:1,i)}}function cp(t,e,n){if(qf(e)){let r=ue(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ue(r)}}}function up(t,e,n){bI()&&(FM(t,e,n,xt(n,e)),(n.flags&64)===64&&IE(t,e,n))}function lp(t,e,n=xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function _E(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dp(t,e,n,r,i,s,o,a,u,l,f){let p=on+r,m=p+i,D=DM(p,m),A=typeof l=="function"?l():l;return D[X]={type:t,blueprint:D,template:n,queries:null,viewQuery:a,declTNode:e,data:D.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function DM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ds);return n}function bM(t,e,n,r){let s=r.get(qN,tE)||n===nn.ShadowDom,o=t.selectRootElement(e,s);return SM(o),o}function SM(t){AM(t)}var AM=()=>null;function RM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return nN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Sw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Je.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Aw(r,n,l,a,u):Aw(r,n,l,a)}return r}function Aw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function NM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],m=n?n.get(p):null,D=m?m.inputs:null,A=m?m.outputs:null;u=Sw(0,p.inputs,f,u,D),l=Sw(1,p.outputs,f,l,A);let P=u!==null&&o!==null&&!Uf(e)?WM(u,f,o):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function MM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function PM(t,e,n,r,i,s,o,a){let u=xt(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(fp(t,n,f,r,i),Mu(e)&&xM(n,e.index)):e.type&3?(r=MM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function xM(t,e){let n=hr(e,t);n[B]&16||(n[B]|=64)}function hp(t,e,n,r){if(bI()){let i=r===null?null:{"":-1},s=VM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&wE(t,e,n,o,i,a),i&&UM(n,r,i)}n.mergedAttrs=So(n.mergedAttrs,n.attrs)}function wE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)hf(fu(n,e),t,r[l].type);BM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=yE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=So(n.mergedAttrs,f.hostAttrs),$M(t,n,e,u,f),jM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}NM(t,n,s)}function OM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;kM(o)!=a&&o.push(a),o.push(n,r,s)}}function kM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function FM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Mu(n)&&qM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fu(n,e),ur(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ss(e,t,a,n);if(ur(l,e),o!==null&&zM(e,a-i,l,u,n,o),cr(u)){let f=hr(n.index,e);f[rn]=ss(e,t,a,n)}}}function IE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=dN();try{Wr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];lf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&LM(u,l)}}finally{Wr(-1),lf(o)}}function LM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function VM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(vR(e,o.selectors,!1))if(r||(r=[]),cr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;_f(t,e,u)}else r.unshift(o),_f(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function _f(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new V(-301,!1);r.push(e[i],s)}}}function jM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cr(e)&&(n[""]=t)}}function BM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $M(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Xi(i.type,!0)),o=new Kr(s,cr(i),pe);t.blueprint[r]=o,n[r]=o,OM(t,e,r,yE(t,n,i.hostVars,ds),i)}function qM(t,e,n){let r=xt(e,t),i=_E(n),s=t[Gt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Bu(t,ju(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function HM(t,e,n,r,i,s){let o=xt(t,e);GM(e[Oe],o,s,t.value,n,r,i)}function GM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?bu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function zM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],p=o[a++];mE(r,n,u,l,f,p)}}function WM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function EE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function CE(t,e){let n=t.contentQueries;if(n!==null){let r=ue(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];RI(s),a.contentQueries(2,e[o],o)}}}finally{ue(r)}}}function Bu(t,e){return t[No]?t[mw][Ht]=e:t[No]=e,t[mw]=e,e}function wf(t,e,n){RI(0);let r=ue(null);try{e(t,n)}finally{ue(r)}}function KM(t){return t[Ro]||(t[Ro]=[])}function QM(t){return t.cleanup||(t.cleanup=[])}function TE(t,e){let n=t[ns],r=n?n.get(cn,null):null;r&&r.handleError(e)}function fp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];mE(f,l,r,a,u,i)}}function YM(t,e,n){let r=EI(e,t);nM(t[Oe],r,n)}function JM(t,e){let n=hr(e,t),r=n[X];XM(r,n);let i=n[On];i!==null&&n[cu]===null&&(n[cu]=np(i,n[ns])),pp(r,n,n[rn])}function XM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function pp(t,e,n){Kf(e);try{let r=t.viewQuery;r!==null&&wf(1,r,n);let i=t.template;i!==null&&vE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[rs]?.finishViewCreation(t),t.staticContentQueries&&CE(t,e),t.staticViewQueries&&wf(2,t.viewQuery,n);let s=t.components;s!==null&&ZM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[B]&=-5,Qf()}}function ZM(t,e){for(let n=0;n<e.length;n++)JM(t,e[n])}function eP(t,e,n,r){let i=ue(null);try{let s=e.tView,a=t[B]&4096?4096:16,u=ju(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ru]=l;let f=t[rs];return f!==null&&(u[rs]=f.createEmbeddedView(s)),pp(s,u,n),u}finally{ue(i)}}function Rw(t,e){return!e||e.firstChild===null||QI(t)}function tP(t,e,n,r=!0){let i=e[X];if(aM(i,e,t,n),r){let o=vf(n,t),a=e[Oe],u=op(a,t[zr]);u!==null&&sM(i,t[Wt],a,e,u,o)}let s=e[cu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function mu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(an(s)),kn(s)&&nP(s,r);let o=n.type;if(o&8)mu(t,e,n.child,r);else if(o&32){let a=sp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=dE(e,n);if(Array.isArray(a))r.push(...a);else{let u=Po(e[sn]);mu(u[X],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nP(t,e){for(let n=Pt;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&mu(r[X],r,i,e)}t[zr]!==t[On]&&e.push(t[zr])}var DE=[];function rP(t){return t[Gr]??iP(t)}function iP(t){let e=DE.pop()??Object.create(oP);return e.lView=t,e}function sP(t){t.lView[Gr]!==t&&(t.lView=null,DE.push(t))}var oP=he(O({},M_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Mo(t.lView)},consumerOnSignalRead(){this.lView[Gr]=this}}),bE=100;function SE(t,e=!0,n=0){let r=t[Gt],i=r.rendererFactory,s=!1;s||i.begin?.();try{aP(t,n)}catch(o){throw e&&TE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function aP(t,e){If(t,e);let n=0;for(;Gf(t);){if(n===bE)throw new V(103,!1);n++,If(t,1)}}function cP(t,e,n,r){let i=e[B];if((i&256)===256)return;let s=!1;!s&&e[Gt].inlineEffectRunner?.flush(),Kf(e);let o=null,a=null;!s&&uP(t)&&(a=rP(e),o=P_(a));try{TI(e),aN(t.bindingStartIndex),n!==null&&vE(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&eu(e,p,null)}else{let p=t.preOrderHooks;p!==null&&tu(e,p,0,null),$h(e,0)}if(lP(e),AE(e,0),t.contentQueries!==null&&CE(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&eu(e,p)}else{let p=t.contentHooks;p!==null&&tu(e,p,1),$h(e,1)}CM(t,e);let l=t.components;l!==null&&NE(e,l,0);let f=t.viewQuery;if(f!==null&&wf(2,f,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&eu(e,p)}else{let p=t.viewHooks;p!==null&&tu(e,p,2),$h(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bh]){for(let p of e[Bh])p();e[Bh]=null}s||(e[B]&=-73)}catch(u){throw Mo(e),u}finally{a!==null&&(x_(a,o),sP(a)),Qf()}}function uP(t){return t.type!==2}function AE(t,e){for(let n=JI(t);n!==null;n=XI(n))for(let r=Pt;r<n.length;r++){let i=n[r];RE(i,e)}}function lP(t){for(let e=JI(t);e!==null;e=XI(e)){if(!(e[B]&$f.HasTransplantedViews))continue;let n=e[lu];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ze];YR(i)}}}function dP(t,e,n){let r=hr(e,t);RE(r,n)}function RE(t,e){Hf(t)&&If(t,e)}function If(t,e){let r=t[X],i=t[B],s=t[Gr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&mh(s)),s&&(s.dirty=!1),t[B]&=-9217,o)cP(r,t,r.template,t[rn]);else if(i&8192){AE(t,1);let a=r.components;a!==null&&NE(t,a,1)}}function NE(t,e,n){for(let r=0;r<e.length;r++)dP(t,e[r],n)}function gp(t){for(t[Gt].changeDetectionScheduler?.notify();t;){t[B]|=64;let e=Po(t);if(jR(t)&&!e)return t;t=e}return null}var Qr=class{get rootNodes(){let e=this._lView,n=e[X];return mu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[B]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ze];if(kn(e)){let n=e[uu],r=n?n.indexOf(this):-1;r>-1&&(yf(e,r),ou(n,r))}this._attachedToViewContainer=!1}uE(this._lView[X],this._lView)}onDestroy(e){DI(this._lView,e)}markForCheck(){gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){uf(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,SE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,aE(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e,uf(this._lView)}},mp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pP;let t=e;return t})(),hP=mp,fP=class extends hP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=eP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Qr(i)}};function pP(){return ME(pt(),Ce())}function ME(t,e){return t.type&4?new fP(e,t,Fu(t,e)):null}var M4=new RegExp(`^(\\d+)*(${BN}|${jN})*(.*)`);var gP=()=>null;function Nw(t,e){return gP(t,e)}var yu=class{},Ef=class{},vu=class{};function mP(t){let e=Error(`No component factory found for ${ct(t)}.`);return e[yP]=t,e}var yP="ngComponent";var Cf=class{resolveComponentFactory(e){throw mP(e)}},$u=(()=>{let e=class e{};e.NULL=new Cf;let t=e;return t})(),xo=class{},Zr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>vP();let t=e;return t})();function vP(){let t=Ce(),e=pt(),n=hr(e.index,t);return(qr(n)?n:t)[Oe]}var _P=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Wh={};var Mw=new Set;function qu(t){Mw.has(t)||(Mw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Pw(...t){}function wP(){let t=typeof $r.requestAnimationFrame=="function",e=$r[t?"requestAnimationFrame":"setTimeout"],n=$r[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ne=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=wP().nativeRequestAnimationFrame,CP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,IP,Pw,Pw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},IP={};function yp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($r,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tf(t),t.isCheckStableRunning=!0,yp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tf(t))}function CP(t){let e=()=>{EP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(TP(a))return n.invokeTask(i,s,o,a);try{return xw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ow(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return xw(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ow(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Tf(t),yp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Tf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ow(t){t._nesting--,yp(t)}function TP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Qi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qi||{}),DP={destroy(){}};function Hu(t,e){!e&&VR(Hu);let n=e?.injector??R($e);if(!ZN(n))return DP;qu("NgAfterNextRender");let r=n.get(vp),i=r.handler??=new bf,s=e?.phase??Qi.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(Xf).onDestroy(o),u=zt(n,()=>new Df(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Df=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=R(ne),this.errorHandler=R(cn,{optional:!0}),R(yu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},bf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Qi.EarlyRead]:new Set,[Qi.Write]:new Set,[Qi.MixedReadWrite]:new Set,[Qi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},vp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function _u(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ow(i,a);else if(s==2){let u=a,l=e[++o];r=ow(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wu=class extends $u{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ar(e);return new os(n,this.ngModule)}};function kw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function bP(t){let e=t.toLowerCase();return e==="svg"?HR:e==="math"?GR:null}var Sf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Su(r);let i=this.injector.get(e,Wh,r);return i!==Wh||n===Wh?i:this.parentInjector.get(e,n,r)}},os=class extends vu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=kw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return kw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ER(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ue(null);try{i=i||this.ngModule;let o=i instanceof Xe?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Sf(e,o):e,u=a.get(xo,null);if(u===null)throw new V(407,!1);let l=a.get(_P,null),f=a.get(vp,null),p=a.get(yu,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},D=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",P=r?bM(D,r,this.componentDef.encapsulation,a):oE(D,A,bP(A)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let k=null;P!==null&&(k=np(P,a,!0));let J=dp(0,null,null,1,0,null,null,null,null,null,null),z=ju(null,J,null,N,null,null,m,D,a,null,k);Kf(z);let W,xe;try{let fe=this.componentDef,I,y=null;fe.findHostDirectiveDefs?(I=[],y=new Map,fe.findHostDirectiveDefs(fe,I,y),I.push(fe)):I=[fe];let _=SP(z,P),w=AP(_,P,fe,I,z,m,D);xe=CI(J,on),P&&MP(D,fe,P,r),n!==void 0&&PP(xe,this.ngContentSelectors,n),W=NP(w,fe,I,y,z,[xP]),pp(J,z,null)}finally{Qf()}return new Af(this.componentType,W,Fu(xe,z),z,xe)}finally{ue(s)}}},Af=class extends Ef{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;fp(s[X],s,i,e,n),this.previousInputValues.set(e,n);let o=hr(this._tNode.index,s);gp(o)}}get injector(){return new Hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function SP(t,e){let n=t[X],r=on;return t[r]=e,Uo(n,r,2,"#host",null)}function AP(t,e,n,r,i,s,o){let a=i[X];RP(r,t,e,o);let u=null;e!==null&&(u=np(e,i[ns]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=ju(i,_E(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&_f(a,t,r.length-1),Bu(i,p),i[t.index]=p}function RP(t,e,n,r){for(let i of t)e.mergedAttrs=So(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(_u(e,e.mergedAttrs,!0),n!==null&&fE(r,n,e))}function NP(t,e,n,r,i,s){let o=pt(),a=i[X],u=xt(o,i);wE(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,m=ss(i,a,p,o);ur(m,i)}IE(a,i,o),u&&ur(u,i);let l=ss(i,a,o.directiveStart+o.componentOffset,o);if(t[rn]=i[rn]=l,s!==null)for(let f of s)f(l,e);return cp(a,o,i),l}function MP(t,e,n,r){if(r)rf(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:s}=CR(e.selectors[0]);i&&rf(t,n,i),s&&s.length>0&&hE(t,n,s.join(" "))}}function PP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function xP(){let t=pt();ku(Ce()[X],t)}var jo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OP;let t=e;return t})();function OP(){let t=pt();return FP(t,Ce())}var kP=jo,PE=class extends kP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new Hr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yf(this._hostTNode,this._hostLView);if(VI(e)){let n=hu(e,this._hostLView),r=du(e),i=n[X].data[r+8];return new Hr(i,n)}else return new Hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Fw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Nw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Rw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!UR(e),a;if(o)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new os(ar(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let P=(o?l:this.parentInjector).get(Xe,null);P&&(s=P)}let f=ar(u.componentType??{}),p=Nw(this._lContainer,f?.id??null),m=p?.firstChild??null,D=u.create(l,i,m,s);return this.insertImpl(D.hostView,a,Rw(this._hostTNode,p)),D}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(QR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ze],l=new PE(u,u[Wt],u[Ze]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return tP(o,i,s,r),e.attachToViewContainerRef(),Zw(Kh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Fw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yf(this._lContainer,n);r&&(ou(Kh(this._lContainer),n),uE(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=yf(this._lContainer,n);return r&&ou(Kh(this._lContainer),n)!=null?new Qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Fw(t){return t[uu]}function Kh(t){return t[uu]||(t[uu]=[])}function FP(t,e){let n,r=e[t.index];return kn(r)?n=r:(n=EE(r,e,null,t),e[t.index]=n,Bu(e,n)),VP(n,e,t,r),new PE(n,t,e)}function LP(t,e){let n=t[Oe],r=n.createComment(""),i=xt(e,t),s=op(n,i);return gu(n,s,r,pM(n,i),!1),r}var VP=BP,UP=()=>!1;function jP(t,e,n){return UP(t,e,n)}function BP(t,e,n,r){if(t[zr])return;let i;n.type&8?i=an(r):i=LP(e,n),t[zr]=i}function $P(t){return Object.getPrototypeOf(t.prototype).constructor}function Fn(t){let e=$P(t.type),n=!0,r=[t];for(;e;){let i;if(cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Jc(t.inputs),o.inputTransforms=Jc(t.inputTransforms),o.declaredInputs=Jc(t.declaredInputs),o.outputs=Jc(t.outputs);let a=i.hostBindings;a&&WP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&GP(t,u),l&&zP(t,l),qP(t,i),HA(t.outputs,i.outputs),cr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Fn&&(n=!1)}}e=Object.getPrototypeOf(e)}HP(r)}function qP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function HP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=So(i.hostAttrs,n=So(n,i.hostAttrs))}}function Jc(t){return t===Zi?{}:t===Mt?[]:t}function GP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function zP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function WP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function _p(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var lr=class{},Oo=class{};var Rf=class extends lr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wu(this);let i=cI(e);this._bootstrapComponents=sE(i.bootstrap),this._r3Injector=WI(e,n,[{provide:lr,useValue:this},{provide:$u,useValue:this.componentFactoryResolver},...r],ct(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nf=class extends Oo{constructor(e){super(),this.moduleType=e}create(e){return new Rf(this.moduleType,e,[])}};var Iu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new wu(this),this.instance=null;let n=new Ao([...e.providers,{provide:lr,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],e.parent||Bf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gu(t,e,n=null){return new Iu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var hs=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zu(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function KP(t){return(t.flags&32)===32}function QP(t,e,n,r,i,s,o,a,u){let l=e.consts,f=Uo(e,t,4,o||null,is(l,a));hp(e,n,f,is(l,u)),ku(e,f);let p=f.tView=dp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function kt(t,e,n,r,i,s,o,a){let u=Ce(),l=Et(),f=t+on,p=l.firstCreatePass?QP(f,l,u,e,n,r,i,s,o):l.data[f];Xr(p,!1);let m=YP(l,u,p,t);xu()&&Vu(l,u,m,p),ur(m,u);let D=EE(m,u,m,p);return u[f]=D,Bu(u,D),jP(D,p,u),Pu(p)&&up(l,u,p),o!=null&&lp(u,p,a),kt}var YP=JP;function JP(t,e,n,r){return Ou(!0),e[Oe].createComment("")}function Wu(t,e,n,r){let i=Ce(),s=Wf();if(zu(i,s,e)){let o=Et(),a=kI();HM(a,i,t,e,n,r)}return Wu}function XP(t,e,n,r){return zu(t,Wf(),n)?e+bu(n)+r:ds}function Xc(t,e){return t<<17|e<<2}function Yr(t){return t>>17&32767}function ZP(t){return(t&2)==2}function ex(t,e){return t&131071|e<<17}function Mf(t){return t|2}function as(t){return(t&131068)>>2}function Qh(t,e){return t&-131069|e<<2}function tx(t){return(t&1)===1}function Pf(t){return t|1}function nx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yr(o),u=as(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Lo(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Yr(t[a+1]);t[r+1]=Xc(m,a),m!==0&&(t[m+1]=Qh(t[m+1],r)),t[a+1]=ex(t[a+1],r)}else t[r+1]=Xc(a,0),a!==0&&(t[a+1]=Qh(t[a+1],r)),a=r;else t[r+1]=Xc(u,0),a===0?a=r:t[u+1]=Qh(t[u+1],r),u=r;l&&(t[r+1]=Mf(t[r+1])),Lw(t,f,r,!0),Lw(t,f,r,!1),rx(e,f,t,r,s),o=Xc(a,u),s?e.classBindings=o:e.styleBindings=o}function rx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Lo(s,e)>=0&&(n[r+1]=Pf(n[r+1]))}function Lw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Yr(i):as(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];ix(u,e)&&(a=!0,t[o+1]=r?Pf(l):Mf(l)),o=r?Yr(l):as(l)}a&&(t[n+1]=r?Mf(i):Pf(i))}function ix(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Lo(t,e)>=0:!1}function et(t,e,n){let r=Ce(),i=Wf();if(zu(r,i,e)){let s=Et(),o=kI();PM(s,o,r,t,e,r[Oe],n,!1)}return et}function Vw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";fp(t,n,s[o],o,r)}function Ku(t,e){return sx(t,e,null,!0),Ku}function sx(t,e,n,r){let i=Ce(),s=Et(),o=cN(2);if(s.firstUpdatePass&&ax(s,t,o,r),e!==ds&&zu(i,o,e)){let a=s.data[us()];hx(s,a,i,i[Oe],t,i[o+1]=fx(e,n),r,o)}}function ox(t,e){return e>=t.expandoStartIndex}function ax(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[us()],o=ox(t,n);px(s,r)&&e===null&&!o&&(e=!1),e=cx(i,s,e,r),nx(i,s,e,n,o,r)}}function cx(t,e,n,r){let i=hN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yh(null,t,e,n,r),n=ko(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Yh(i,t,e,n,r),s===null){let u=ux(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Yh(null,t,e,u[1],r),u=ko(u,e.attrs,r),lx(t,e,r,u))}else s=dx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ux(t,e,n){let r=n?e.classBindings:e.styleBindings;if(as(r)!==0)return t[Yr(r)]}function lx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yr(i)]=r}function dx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ko(r,o,n)}return ko(r,e.attrs,n)}function Yh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ko(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ko(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),lR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function hx(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=tx(l)?Uw(u,e,n,i,as(l),o):void 0;if(!Eu(f)){Eu(s)||ZP(l)&&(s=Uw(u,null,n,i,a,o));let p=EI(us(),n);IM(r,o,p,i,s)}}function Uw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===ds&&(m=p?Mt:void 0);let D=p?Uh(m,r):f===r?m:void 0;if(l&&!Eu(D)&&(D=Uh(u,r)),Eu(D)&&(a=D,o))return a;let A=t[i+1];i=o?Yr(A):as(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Uh(u,r))}return a}function Eu(t){return t!==void 0}function fx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ct(Vo(t)))),t}function px(t,e){return(t.flags&(e?8:16))!==0}function gx(t,e,n,r,i,s){let o=e.consts,a=is(o,i),u=Uo(e,t,2,r,a);return hp(e,n,u,is(o,s)),u.attrs!==null&&_u(u,u.attrs,!1),u.mergedAttrs!==null&&_u(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function le(t,e,n,r){let i=Ce(),s=Et(),o=on+t,a=i[Oe],u=s.firstCreatePass?gx(o,s,i,e,n,r):s.data[o],l=mx(s,i,u,a,e,t);i[o]=l;let f=Pu(u);return Xr(u,!0),fE(a,l,u),!KP(u)&&xu()&&Vu(s,i,l,u),ZR()===0&&ur(l,i),eN(),f&&(up(s,i,u),cp(s,u,i)),r!==null&&lp(i,u),le}function ce(){let t=pt();zf()?AI():(t=t.parent,Xr(t,!1));let e=t;rN(e)&&iN(),tN();let n=Et();return n.firstCreatePass&&(ku(n,t),qf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_N(e)&&Vw(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wN(e)&&Vw(n,e,Ce(),e.stylesWithoutHost,!1),ce}function gt(t,e,n,r){return le(t,e,n,r),ce(),gt}var mx=(t,e,n,r,i,s)=>(Ou(!0),oE(r,i,gN()));function yx(t,e,n,r,i){let s=e.consts,o=is(s,r),a=Uo(e,t,8,"ng-container",o);o!==null&&_u(a,o,!0);let u=is(s,i);return hp(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function wp(t,e,n){let r=Ce(),i=Et(),s=t+on,o=i.firstCreatePass?yx(s,i,r,e,n):i.data[s];Xr(o,!0);let a=vx(i,r,o,t);return r[s]=a,xu()&&Vu(i,r,a,o),ur(a,r),Pu(o)&&(up(i,r,o),cp(i,o,r)),n!=null&&lp(r,o),wp}function Ip(){let t=pt(),e=Et();return zf()?AI():(t=t.parent,Xr(t,!1)),e.firstCreatePass&&(ku(e,t),qf(t)&&e.queries.elementEnd(t)),Ip}var vx=(t,e,n,r)=>(Ou(!0),rM(e[Oe],""));var Cu="en-US";var _x=Cu;function wx(t){typeof t=="string"&&(_x=t.toLowerCase().replace(/_/g,"-"))}function Ct(t,e,n,r){let i=Ce(),s=Et(),o=pt();return Ex(s,i,i[Oe],o,t,e,r),Ct}function Ix(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ro],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function Ex(t,e,n,r,i,s,o){let a=Pu(r),l=t.firstCreatePass&&QM(t),f=e[rn],p=KM(e),m=!0;if(r.type&3||o){let P=xt(r,e),N=o?o(P):P,k=p.length,J=o?W=>o(an(W[r.index])):r.index,z=null;if(!o&&a&&(z=Ix(t,e,i,r.index)),z!==null){let W=z.__ngLastListenerFn__||z;W.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1}else{s=Bw(r,e,f,s,!1);let W=n.listen(N,i,s);p.push(s,W),l&&l.push(i,J,k,k+1)}}else s=Bw(r,e,f,s,!1);let D=r.outputs,A;if(m&&D!==null&&(A=D[i])){let P=A.length;if(P)for(let N=0;N<P;N+=2){let k=A[N],J=A[N+1],xe=e[k][J].subscribe(s),fe=p.length;p.push(s,xe),l&&l.push(i,r.index,fe,-(fe+1))}}}function jw(t,e,n,r){let i=ue(null);try{return en(6,e,n),n(r)!==!1}catch(s){return TE(t,s),!1}finally{en(7,e,n),ue(i)}}function Bw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?hr(t.index,e):e;gp(a);let u=jw(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=jw(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function Bo(t=1){return pN(t)}function xE(t){let e=oN();return KR(e,on+t)}function be(t,e=""){let n=Ce(),r=Et(),i=t+on,s=r.firstCreatePass?Uo(r,i,1,e,null):r.data[i],o=Cx(r,n,s,e,t);n[i]=o,xu()&&Vu(r,n,o,s),Xr(s,!1)}var Cx=(t,e,n,r,i)=>(Ou(!0),tM(e[Oe],r));function Ep(t){return Qu("",t,""),Ep}function Qu(t,e,n){let r=Ce(),i=XP(r,t,e,n);return i!==ds&&YM(r,us(),i),Qu}function Tx(t,e,n){let r=Et();if(r.firstCreatePass){let i=cr(t);xf(n,r.data,r.blueprint,i,!0),xf(e,r.data,r.blueprint,i,!1)}}function xf(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let s=0;s<t.length;s++)xf(t[s],e,n,r,i);else{let s=Et(),o=Ce(),a=pt(),u=ts(t)?t:at(t.provide),l=pI(t),f=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ts(t)||!t.multi){let D=new Kr(l,i,pe),A=Xh(u,e,i?f:f+m,p);A===-1?(hf(fu(a,o),s,u),Jh(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)):(n[A]=D,o[A]=D)}else{let D=Xh(u,e,f+m,p),A=Xh(u,e,f,f+m),P=D>=0&&n[D],N=A>=0&&n[A];if(i&&!N||!i&&!P){hf(fu(a,o),s,u);let k=Sx(i?bx:Dx,n.length,i,r,l);!i&&N&&(n[A].providerFactory=k),Jh(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=OE(n[i?A:D],l,!i&&r);Jh(s,t,D>-1?D:A,k)}!i&&r&&N&&n[A].componentProviders++}}}function Jh(t,e,n,r){let i=ts(e),s=MR(e);if(i||s){let u=(s?at(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function OE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Dx(t,e,n,r){return Of(this.multi,[])}function bx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ss(n,n[X],this.providerFactory.index,r);s=a.slice(0,o),Of(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Of(i,s);return s}function Of(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Sx(t,e,n,r,i){let s=new Kr(t,n,pe);return s.multi=[],s.index=e,s.componentProviders=0,OE(s,i,r&&!n),s}function $o(t,e=[]){return n=>{n.providersResolver=(r,i)=>Tx(r,i?i(t):t,e)}}var Ax=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=dI(!1,r.type),s=i.length>0?Gu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(U(Xe))});let t=e;return t})();function hn(t){qu("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ax).getOrCreateStandaloneInjector(t)}function kE(t,e){return ME(t,e)}var xn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},FE=new xn("17.3.10"),Yu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var LE=new F("");function ei(t){return!!t&&typeof t.then=="function"}function VE(t){return!!t&&typeof t.subscribe=="function"}var Ju=new F(""),UE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(Ju,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ei(o))r.push(o);else if(VE(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qo=new F("");function Rx(){k_(()=>{throw new V(600,!1)})}function Nx(t){return t.isBoundToModule}function Mx(t,e,n){try{let r=n();return ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var fs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(KI),this.afterRenderEffectManager=R(vp),this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=R(hs).hasPendingTasks.pipe(H(r=>!r)),this._injector=R(Xe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof vu;if(!this._injector.get(UE).done){let D=!s&&aI(r),A=!1;throw new V(405,A)}let a;s?a=r:a=this._injector.get($u).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=Nx(a)?void 0:this._injector.get(lr),l=i||a.selector,f=a.create($e.NULL,[],l,u),p=f.location.nativeElement,m=f.injector.get(LE,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Zh(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new V(101,!1);let i=ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ue(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===bE)throw new V(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)Px(a,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>kf(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>kf(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Zh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(qo,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Zh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new V(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Px(t,e,n){!e&&!kf(t)||xx(t,n,e)}function kf(t){return Gf(t)}function xx(t,e,n){let r;n?(r=0,t[B]|=1024):t[B]&64?r=0:r=1,SE(t,e,r)}var Ff=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Xu=(()=>{let e=class e{compileModuleSync(r){return new Nf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=cI(r),o=sE(s.declarations).reduce((a,u)=>{let l=ar(u);return l&&a.push(new os(l)),a},[]);return new Ff(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ox=(()=>{let e=class e{constructor(){this.zone=R(ne),this.applicationRef=R(fs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kx(t){return[{provide:ne,useFactory:t},{provide:es,multi:!0,useFactory:()=>{let e=R(Ox,{optional:!0});return()=>e.initialize()}},{provide:es,multi:!0,useFactory:()=>{let e=R(Ux);return()=>{e.initialize()}}},{provide:KI,useFactory:Fx}]}function Fx(){let t=R(ne),e=R(cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Lx(t){let e=kx(()=>new ne(Vx(t)));return ft([[],e])}function Vx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Ux=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=R(ne),this.pendingTasks=R(hs)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jx(){return typeof $localize<"u"&&$localize.locale||Cu}var Cp=new F("",{providedIn:"root",factory:()=>R(Cp,K.Optional|K.SkipSelf)||jx()});var jE=new F("");var ru=null;function Bx(t=[],e){return $e.create({name:e,providers:[{provide:Au,useValue:"platform"},{provide:jE,useValue:new Set([()=>ru=null])},...t]})}function $x(t=[]){if(ru)return ru;let e=Bx(t);return ru=e,Rx(),qx(e),e}function qx(t){t.get(ep,null)?.forEach(n=>n())}var ps=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Hx;let t=e;return t})();function Hx(t){return Gx(pt(),Ce(),(t&16)===16)}function Gx(t,e,n){if(Mu(t)&&!n){let r=hr(t.index,e);return new Qr(r,r)}else if(t.type&47){let r=e[sn];return new Qr(r,e)}return null}function BE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=$x(r),s=[Lx(),...n||[]],a=new Iu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(ne);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(cn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:D=>{l.handleError(D)}})});let p=()=>a.destroy(),m=i.get(jE);return m.add(p),a.onDestroy(()=>{f.unsubscribe(),m.delete(p)}),Mx(l,u,()=>{let D=a.get(UE);return D.runInitializers(),D.donePromise.then(()=>{let A=a.get(Cp,Cu);wx(A||Cu);let P=a.get(fs);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function gs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $E(t){let e=ar(t);if(!e)return null;let n=new os(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zE=null;function Vn(){return zE}function WE(t){zE??=t}var Zu=class{};var tt=new F(""),Sp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(zx),providedIn:"platform"});let t=e;return t})(),KE=new F(""),zx=(()=>{let e=class e extends Sp{constructor(){super(),this._doc=R(tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(r){let i=Vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ap(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function qE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ln(t){return t&&t[0]!=="?"?"?"+t:t}var Un=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(Rp),providedIn:"root"});let t=e;return t})(),QE=new F(""),Rp=(()=>{let e=class e extends Un{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ap(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ln(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ln(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ln(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(Sp),U(QE,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YE=(()=>{let e=class e extends Un{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ap(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ln(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ln(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(Sp),U(QE,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),ys=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Qx(qE(HE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ln(i))}normalize(r){return e.stripTrailingSlash(Kx(this._basePath,HE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ln(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ln(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Ln,e.joinWithSlash=Ap,e.stripTrailingSlash=qE,e.\u0275fac=function(i){return new(i||e)(U(Un))},e.\u0275prov=L({token:e,factory:()=>Wx(),providedIn:"root"});let t=e;return t})();function Wx(){return new ys(U(Un))}function Kx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function HE(t){return t.replace(/\/index.html$/,"")}function Qx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function el(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var vs=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Tp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){GE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){GE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(pe(jo),pe(mp))},e.\u0275dir=ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Tp=class{constructor(){this.$implicit=null,this.ngIf=null}};function GE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ct(e)}'.`)}var ti=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=un({});let t=e;return t})(),Np="browser",Yx="server";function Jx(t){return t===Np}function tl(t){return t===Yx}var JE=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>Jx(R(Ot))?new Dp(R(tt),window):new bp});let t=e;return t})(),Dp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Xx(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Xx(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var bp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ms=class{};var zo=class{},rl=class{},ni=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Pp=class{encodeKey(e){return XE(e)}encodeValue(e){return XE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function tO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var nO=/%(\d[a-f0-9])/gi,rO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XE(t){return encodeURIComponent(t).replace(nO,(e,n)=>rO[n]??e)}function nl(t){return`${t}`}var pr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=tO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(nl):[nl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(nl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(nl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function iO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ZE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function eC(t){return typeof Blob<"u"&&t instanceof Blob}function tC(t){return typeof FormData<"u"&&t instanceof FormData}function sO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Go=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(iO(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ni,this.context??=new xp,!this.params)this.params=new pr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ZE(this.body)||eC(this.body)||tC(this.body)||sO(this.body)?this.body:this.body instanceof pr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tC(this.body)?null:eC(this.body)?this.body.type||null:ZE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof pr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,D)=>m.set(D,e.setHeaders[D]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((m,D)=>m.set(D,e.setParams[D]),f)),new t(n,r,o,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},_s=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(_s||{}),Wo=class{constructor(e,n=ol.Ok,r="OK"){this.headers=e.headers||new ni,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Op=class t extends Wo{constructor(e={}){super(e),this.type=_s.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},il=class t extends Wo{constructor(e={}){super(e),this.type=_s.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},sl=class extends Wo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ol=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ol||{});function Mp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var kp=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Go)o=r;else{let l;s.headers instanceof ni?l=s.headers:l=new ni(s.headers);let f;s.params&&(s.params instanceof pr?f=s.params:f=new pr({fromObject:s.params})),o=new Go(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:f,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=j(o).pipe(Nn(l=>this.handler.handle(l)));if(r instanceof Go||s.observe==="events")return a;let u=a.pipe(dt(l=>l instanceof il));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(H(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(H(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(H(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(H(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new pr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Mp(s,i))}post(r,i,s={}){return this.request("POST",r,Mp(s,i))}put(r,i,s={}){return this.request("PUT",r,Mp(s,i))}};e.\u0275fac=function(i){return new(i||e)(U(zo))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function oO(t,e){return e(t)}function aO(t,e,n){return(r,i)=>zt(n,()=>e(r,s=>t(s,i)))}var iC=new F(""),cO=new F(""),uO=new F("");var nC=(()=>{let e=class e extends zo{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=R(hs);let s=R(uO,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(iC),...this.injector.get(cO,[])]));this.chain=s.reduceRight((o,a)=>aO(o,a,this.injector),oO)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Br(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(U(rl),U(Xe))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var lO=/^\)\]\}',?\n/;function dO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var rC=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new V(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?we(i.\u0275loadImpl()):j(null)).pipe(ht(()=>new Q(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((N,k)=>a.setRequestHeader(N,k.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let N=r.detectContentTypeHeader();N!==null&&a.setRequestHeader("Content-Type",N)}if(r.responseType){let N=r.responseType.toLowerCase();a.responseType=N!=="json"?N:"text"}let u=r.serializeBody(),l=null,f=()=>{if(l!==null)return l;let N=a.statusText||"OK",k=new ni(a.getAllResponseHeaders()),J=dO(a)||r.url;return l=new Op({headers:k,status:a.status,statusText:N,url:J}),l},p=()=>{let{headers:N,status:k,statusText:J,url:z}=f(),W=null;k!==ol.NoContent&&(W=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=W?ol.Ok:0);let xe=k>=200&&k<300;if(r.responseType==="json"&&typeof W=="string"){let fe=W;W=W.replace(lO,"");try{W=W!==""?JSON.parse(W):null}catch(I){W=fe,xe&&(xe=!1,W={error:I,text:W})}}xe?(o.next(new il({body:W,headers:N,status:k,statusText:J,url:z||void 0})),o.complete()):o.error(new sl({error:W,headers:N,status:k,statusText:J,url:z||void 0}))},m=N=>{let{url:k}=f(),J=new sl({error:N,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});o.error(J)},D=!1,A=N=>{D||(o.next(f()),D=!0);let k={type:_s.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),r.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),o.next(k)},P=N=>{let k={type:_s.UploadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),o.next(k)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",A),u!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(u),o.next({type:_s.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",A),u!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(U(ms))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),sC=new F(""),hO="XSRF-TOKEN",fO=new F("",{providedIn:"root",factory:()=>hO}),pO="X-XSRF-TOKEN",gO=new F("",{providedIn:"root",factory:()=>pO}),al=class{},mO=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=el(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(U(tt),U(Ot),U(fO))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function yO(t,e){let n=t.url.toLowerCase();if(!R(sC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(al).getToken(),i=R(gO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function oC(...t){let e=[kp,rC,nC,{provide:zo,useExisting:nC},{provide:rl,useExisting:rC},{provide:iC,useValue:yO,multi:!0},{provide:sC,useValue:!0},{provide:al,useClass:mO}];for(let n of t)e.push(...n.\u0275providers);return ft(e)}var Vp=class extends Zu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Up=class t extends Vp{static makeCurrent(){WE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=vO();return n==null?null:_O(n)}resetBaseElement(){Ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return el(document.cookie,e)}},Ko=null;function vO(){return Ko=Ko||document.querySelector("base"),Ko?Ko.getAttribute("href"):null}function _O(t){return new URL(t,document.baseURI).pathname}var wO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),jp=new F(""),lC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(U(jp),U(ne))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),cl=class{constructor(e){this._doc=e}},Fp="ng-app-id",dC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tl(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Fp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Fp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Fp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(U(tt),U(Zf),U(tp,8),U(Ot))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Lp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$p=/%COMP%/g,hC="%COMP%",IO=`_nghost-${hC}`,EO=`_ngcontent-${hC}`,CO=!0,TO=new F("",{providedIn:"root",factory:()=>CO});function DO(t){return EO.replace($p,t)}function bO(t){return IO.replace($p,t)}function fC(t,e){return e.map(n=>n.replace($p,t))}var aC=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=tl(u),this.defaultRenderer=new Qo(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===nn.ShadowDom&&(i=he(O({},i),{encapsulation:nn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ul?s.applyToHost(r):s instanceof Yo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case nn.Emulated:o=new ul(l,f,i,this.appId,p,a,u,m);break;case nn.ShadowDom:return new Bp(l,f,r,i,a,u,this.nonce,m);default:o=new Yo(l,f,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(U(lC),U(dC),U(Zf),U(TO),U(tt),U(Ot),U(ne),U(tp))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Qo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Lp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Lp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(n,r,i&Pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bp=class extends Qo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fC(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yo=class extends Qo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ul=class extends Yo{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=DO(l),this.hostAttr=bO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},SO=(()=>{let e=class e extends cl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(U(tt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),uC=["alt","control","meta","shift"],AO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NO=(()=>{let e=class e extends cl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),uC.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),a+=f+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=AO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),uC.forEach(a=>{if(a!==s){let u=RO[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(U(tt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function pC(t,e){return BE(O({rootComponent:t},MO(e)))}function MO(t){return{appProviders:[...FO,...t?.providers??[]],platformProviders:kO}}function PO(){Up.makeCurrent()}function xO(){return new cn}function OO(){return eE(document),document}var kO=[{provide:Ot,useValue:Np},{provide:ep,useValue:PO,multi:!0},{provide:tt,useFactory:OO,deps:[]}];var FO=[{provide:Au,useValue:"root"},{provide:cn,useFactory:xO,deps:[]},{provide:jp,useClass:SO,multi:!0,deps:[tt,ne,Ot]},{provide:jp,useClass:NO,multi:!0,deps:[tt]},aC,dC,lC,{provide:xo,useExisting:aC},{provide:ms,useClass:wO,deps:[]},[]];var gC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(U(tt))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G="primary",ha=Symbol("RouteTitle"),Wp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ts(t){return new Wp(t)}function VO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fn(t[n],e[n]))return!1;return!0}function fn(t,e){let n=t?Kp(t):void 0,r=e?Kp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!TC(t[i],e[i]))return!1;return!0}function Kp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function DC(t){return t.length>0?t[t.length-1]:null}function _r(t){return Ph(t)?t:ei(t)?we(Promise.resolve(t)):j(t)}var jO={exact:SC,subset:AC},bC={exact:BO,subset:$O,ignored:()=>!0};function mC(t,e,n){return jO[n.paths](t.root,e.root,n.matrixParams)&&bC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BO(t,e){return fn(t,e)}function SC(t,e,n){if(!ii(t.segments,e.segments)||!hl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SC(t.children[r],e.children[r],n))return!1;return!0}function $O(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TC(t[n],e[n]))}function AC(t,e,n){return RC(t,e,e.segments,n)}function RC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ii(i,n)||e.hasChildren()||!hl(i,n,r))}else if(t.segments.length===n.length){if(!ii(t.segments,n)||!hl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ii(t.segments,i)||!hl(t.segments,i,r)||!t.children[G]?!1:RC(t.children[G],e,s,r)}}function hl(t,e,n){return e.every((r,i)=>bC[n](t[i].parameters,r.parameters))}var gr=class{constructor(e=new de([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return GO.serialize(this)}},de=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fl(this)}},ri=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return MC(this)}};function qO(t,e){return ii(t,e)&&t.every((n,r)=>fn(n.parameters,e[r].parameters))}function ii(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===G&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==G&&(n=n.concat(e(i,r)))}),n}var fa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new ra,providedIn:"root"});let t=e;return t})(),ra=class{parse(e){let n=new Yp(e);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Jo(e.root,!0)}`,r=KO(e.queryParams),i=typeof e.fragment=="string"?`#${zO(e.fragment)}`:"";return`${n}${r}${i}`}},GO=new ra;function fl(t){return t.segments.map(e=>MC(e)).join("/")}function Jo(t,e){if(!t.hasChildren())return fl(t);if(e){let n=t.children[G]?Jo(t.children[G],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==G&&r.push(`${i}:${Jo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HO(t,(r,i)=>i===G?[Jo(t.children[G],!1)]:[`${i}:${Jo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[G]!=null?`${fl(t)}/${n[0]}`:`${fl(t)}/(${n.join("//")})`}}function NC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(t){return NC(t).replace(/%3B/gi,";")}function zO(t){return encodeURI(t)}function Qp(t){return NC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pl(t){return decodeURIComponent(t)}function yC(t){return pl(t.replace(/\+/g,"%20"))}function MC(t){return`${Qp(t.path)}${WO(t.parameters)}`}function WO(t){return Object.entries(t).map(([e,n])=>`;${Qp(e)}=${Qp(n)}`).join("")}function KO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ll(n)}=${ll(i)}`).join("&"):`${ll(n)}=${ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var QO=/^[^\/()?;#]+/;function qp(t){let e=t.match(QO);return e?e[0]:""}var YO=/^[^\/()?;=#]+/;function JO(t){let e=t.match(YO);return e?e[0]:""}var XO=/^[^=?&#]+/;function ZO(t){let e=t.match(XO);return e?e[0]:""}var ek=/^[^&#]+/;function tk(t){let e=t.match(ek);return e?e[0]:""}var Yp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[G]=new de(e,n)),r}parseSegment(){let e=qp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ri(pl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=JO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=qp(this.remaining);i&&(r=i,this.capture(r))}e[pl(n)]=pl(r)}parseQueryParam(e){let n=ZO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=tk(this.remaining);o&&(r=o,this.capture(r))}let i=yC(n),s=yC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=G);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[G]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function PC(t){return t.segments.length>0?new de([],{[G]:t}):t}function xC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=xC(i);if(r===G&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new de(t.segments,e);return nk(n)}function nk(t){if(t.numberOfChildren===1&&t.children[G]){let e=t.children[G];return new de(t.segments.concat(e.segments),e.children)}return t}function Ds(t){return t instanceof gr}function rk(t,e,n=null,r=null){let i=OC(t);return kC(i,e,n,r)}function OC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new de(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=PC(r);return e??i}function kC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Hp(i,i,i,n,r);let s=ik(e);if(s.toRoot())return Hp(i,i,new de([],{}),n,r);let o=sk(s,i,t),a=o.processChildren?ea(o.segmentGroup,o.index,s.commands):LC(o.segmentGroup,o.index,s.commands);return Hp(i,o.segmentGroup,a,n,r)}function gl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ia(t){return typeof t=="object"&&t!=null&&t.outlets}function Hp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=FC(t,e,n);let a=PC(xC(o));return new gr(a,s,i)}function FC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=FC(s,e,n)}),new de(t.segments,r)}var ml=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gl(r[0]))throw new V(4003,!1);let i=r.find(ia);if(i&&i!==DC(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ik(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ml(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ml(n,e,r)}var Es=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sk(t,e,n){if(t.isAbsolute)return new Es(e,!0,0);if(!n)return new Es(e,!1,NaN);if(n.parent===null)return new Es(n,!0,0);let r=gl(t.commands[0])?0:1,i=n.segments.length-1+r;return ok(n,i,t.numberOfDoubleDots)}function ok(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Es(r,!1,i-s)}function ak(t){return ia(t[0])?t[0].outlets:{[G]:t}}function LC(t,e,n){if(t??=new de([],{}),t.segments.length===0&&t.hasChildren())return ea(t,e,n);let r=ck(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[G]=new de(t.segments.slice(r.pathIndex),t.children),ea(s,0,i)}else return r.match&&i.length===0?new de(t.segments,{}):r.match&&!t.hasChildren()?Jp(t,e,n):r.match?ea(t,0,i):Jp(t,e,n)}function ea(t,e,n){if(n.length===0)return new de(t.segments,{});{let r=ak(n),i={};if(Object.keys(r).some(s=>s!==G)&&t.children[G]&&t.numberOfChildren===1&&t.children[G].segments.length===0){let s=ea(t.children[G],e,n);return new de(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=LC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new de(t.segments,i)}}function ck(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ia(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_C(u,l,o))return s;r+=2}else{if(!_C(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Jp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ia(s)){let u=uk(s.outlets);return new de(r,u)}if(i===0&&gl(n[0])){let u=t.segments[e];r.push(new ri(u.path,vC(n[0]))),i++;continue}let o=ia(s)?s.outlets[G]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&gl(a)?(r.push(new ri(o,vC(a))),i+=2):(r.push(new ri(o,{})),i++)}return new de(r,{})}function uk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Jp(new de([],{}),0,r))}),e}function vC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _C(t,e,n){return t==n.path&&fn(e,n.parameters)}var ta="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),Lt=class{constructor(e,n){this.id=e,this.url=n}},bs=class extends Lt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends Lt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dt||{}),yl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(yl||{}),mr=class extends Lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yr=class extends Lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationSkipped}},sa=class extends Lt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vl=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xp=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class extends Lt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},eg=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rg=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ig=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sg=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},og=class{constructor(e){this.snapshot=e,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ag=class{constructor(e){this.snapshot=e,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_l=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},oa=class{},aa=class{constructor(e){this.url=e}};var cg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pa,this.attachRef=null}},pa=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ug(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ug(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=lg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lg(e,this._root).map(n=>n.value)}};function ug(t,e){if(t===e.value)return e;for(let n of e.children){let r=ug(t,n);if(r)return r}return null}function lg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=lg(t,n);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Is(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Il=class extends wl{constructor(e,n){super(e),this.snapshot=n,wg(this,e)}toString(){return this.snapshot.toString()}};function VC(t){let e=lk(t),n=new Be([new ri("",{})]),r=new Be({}),i=new Be({}),s=new Be({}),o=new Be(""),a=new vr(n,r,s,o,i,G,t,e.root);return a.snapshot=e.root,new Il(new Tt(a,[]),e)}function lk(t){let e={},n={},r={},i="",s=new ca([],e,r,i,n,G,t,null,{});return new El("",new Tt(s,[]))}var vr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(H(l=>l[ha]))??j(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(e=>Ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(e=>Ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _g(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&jC(i)&&(r.resolve[ha]=i.title),r}var ca=class{get title(){return this.data?.[ha]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},El=class extends wl{constructor(e,n){super(n),this.url=e,wg(this,n)}toString(){return UC(this._root)}};function wg(t,e){e.value._routerState=t,e.children.forEach(n=>wg(t,n))}function UC(t){let e=t.children.length>0?` { ${t.children.map(UC).join(", ")} } `:"";return`${t.value}${e}`}function Gp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fn(e.params,n.params)||t.paramsSubject.next(n.params),UO(e.url,n.url)||t.urlSubject.next(n.url),fn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function dg(t,e){let n=fn(t.params,e.params)&&qO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||dg(t.parent,e.parent))}function jC(t){return typeof t.title=="string"||t.title===null}var Ig=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=G,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=R(pa),this.location=R(jo),this.changeDetector=R(ps),this.environmentInjector=R(Xe),this.inputBinder=R(bl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new hg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dr]});let t=e;return t})(),hg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vr?this.route:e===pa?this.childContexts:this.parent.get(e,n)}},bl=new F(""),wC=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=To([i.queryParams,i.params,i.data]).pipe(ht(([o,a,u],l)=>(u=O(O(O({},o),a),u),l===0?j(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=$E(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function dk(t,e,n){let r=ua(t,e._root,n?n._root:void 0);return new Il(r,e)}function ua(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hk(t,e,n);return new Tt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ua(t,a)),o}}let r=fk(e.value),i=e.children.map(s=>ua(t,s));return new Tt(r,i)}}function hk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ua(t,r,i);return ua(t,r)})}function fk(t){return new vr(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var BC="ngNavigationCancelingError";function $C(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qC(!1,Dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function qC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[BC]=!0,n.cancellationCode=e,n}function pk(t){return HC(t)&&Ds(t.url)}function HC(t){return!!t&&t[BC]}var gk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ln({type:e,selectors:[["ng-component"]],standalone:!0,features:[hn],decls:1,vars:0,template:function(i,s){i&1&&gt(0,"router-outlet")},dependencies:[Ig],encapsulation:2});let t=e;return t})();function mk(t,e){return t.providers&&!t._injector&&(t._injector=Gu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Eg(t){let e=t.children&&t.children.map(Eg),n=e?he(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==G&&(n.component=gk),n}function gn(t){return t.outlet||G}function yk(t,e){let n=t.filter(r=>gn(r)===e);return n.push(...t.filter(r=>gn(r)!==e)),n}function ga(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vk=(t,e,n,r)=>H(i=>(new fg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Gp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ag(s.value.snapshot))}),e.children.length&&this.forwardEvent(new sg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Gp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ga(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Cl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cs=class{constructor(e,n){this.component=e,this.route=n}};function _k(t,e,n){let r=t._root,i=e?e._root:null;return Xo(r,i,n,[r.value])}function wk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function As(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Gw(t)?t:e.get(t):r}function Xo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Is(e);return t.children.forEach(o=>{Ik(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>na(a,n.getContext(o),i)),i}function Ik(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Ek(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Xo(t,e,a?a.children:null,r,i):Xo(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cs(a.outlet.component,o))}else o&&na(e,a,i),i.canActivateChecks.push(new Cl(r)),s.component?Xo(t,null,a?a.children:null,r,i):Xo(t,null,n,r,i);return i}function Ek(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ii(t.url,e.url)||!fn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dg(t,e)||!fn(t.queryParams,e.queryParams);case"paramsChange":default:return!dg(t,e)}}function na(t,e,n){let r=Is(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?na(o,e.children.getContext(s),n):na(o,null,n):na(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Cs(e.outlet.component,i)):n.canDeactivateChecks.push(new Cs(null,i)):n.canDeactivateChecks.push(new Cs(null,i))}function ma(t){return typeof t=="function"}function Ck(t){return typeof t=="boolean"}function Tk(t){return t&&ma(t.canLoad)}function Dk(t){return t&&ma(t.canActivate)}function bk(t){return t&&ma(t.canActivateChild)}function Sk(t){return t&&ma(t.canDeactivate)}function Ak(t){return t&&ma(t.canMatch)}function GC(t){return t instanceof Rn||t?.name==="EmptyError"}var dl=Symbol("INITIAL_VALUE");function Ss(){return ht(t=>To(t.map(e=>e.pipe(Mn(1),Lh(dl)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===dl)return dl;if(n===!1||n instanceof gr)return n}return!0}),dt(e=>e!==dl),Mn(1)))}function Rk(t,e){return Re(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?j(he(O({},n),{guardsResult:!0})):Nk(o,r,i,t).pipe(Re(a=>a&&Ck(a)?Mk(r,s,t,e):j(a)),H(a=>he(O({},n),{guardsResult:a})))})}function Nk(t,e,n,r){return we(t).pipe(Re(i=>Fk(i.component,i.route,n,e,r)),Zt(i=>i!==!0,!0))}function Mk(t,e,n,r){return we(e).pipe(Nn(i=>Hi(xk(i.route.parent,r),Pk(i.route,r),kk(t,i.path,n),Ok(t,i.route,n))),Zt(i=>i!==!0,!0))}function Pk(t,e){return t!==null&&e&&e(new og(t)),j(!0)}function xk(t,e){return t!==null&&e&&e(new ig(t)),j(!0)}function Ok(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return j(!0);let i=r.map(s=>Wc(()=>{let o=ga(e)??n,a=As(s,o),u=Dk(a)?a.canActivate(e,t):zt(o,()=>a(e,t));return _r(u).pipe(Zt())}));return j(i).pipe(Ss())}function kk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>wk(o)).filter(o=>o!==null).map(o=>Wc(()=>{let a=o.guards.map(u=>{let l=ga(o.node)??n,f=As(u,l),p=bk(f)?f.canActivateChild(r,t):zt(l,()=>f(r,t));return _r(p).pipe(Zt())});return j(a).pipe(Ss())}));return j(s).pipe(Ss())}function Fk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return j(!0);let o=s.map(a=>{let u=ga(e)??i,l=As(a,u),f=Sk(l)?l.canDeactivate(t,e,n,r):zt(u,()=>l(t,e,n,r));return _r(f).pipe(Zt())});return j(o).pipe(Ss())}function Lk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return j(!0);let s=i.map(o=>{let a=As(o,t),u=Tk(a)?a.canLoad(e,n):zt(t,()=>a(e,n));return _r(u)});return j(s).pipe(Ss(),zC(r))}function zC(t){return Th(Ne(e=>{if(Ds(e))throw $C(t,e)}),H(e=>e===!0))}function Vk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return j(!0);let s=i.map(o=>{let a=As(o,t),u=Ak(a)?a.canMatch(e,n):zt(t,()=>a(e,n));return _r(u)});return j(s).pipe(Ss(),zC(r))}var la=class{constructor(e){this.segmentGroup=e||null}},Tl=class extends Error{constructor(e){super(),this.urlTree=e}};function ws(t){return $i(new la(t))}function Uk(t){return $i(new V(4e3,!1))}function jk(t){return $i(qC(!1,Dt.GuardRejected))}var pg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return j(r);if(i.numberOfChildren>1||!i.children[G])return Uk(e.redirectTo);i=i.children[G]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Tl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new gr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},gg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bk(t,e,n,r,i){let s=Cg(t,e,n);return s.matched?(r=mk(e,r),Vk(r,e,n,i).pipe(H(o=>o===!0?s:O({},gg)))):j(s)}function Cg(t,e,n){if(e.path==="**")return $k(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},gg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VO)(n,t,e);if(!i)return O({},gg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $k(t){return{matched:!0,parameters:t.length>0?DC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function IC(t,e,n,r){return n.length>0&&Gk(t,n,r)?{segmentGroup:new de(e,Hk(r,new de(n,t.children))),slicedSegments:[]}:n.length===0&&zk(t,n,r)?{segmentGroup:new de(t.segments,qk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new de(t.segments,t.children),slicedSegments:n}}function qk(t,e,n,r){let i={};for(let s of n)if(Sl(t,e,s)&&!r[gn(s)]){let o=new de([],{});i[gn(s)]=o}return O(O({},r),i)}function Hk(t,e){let n={};n[G]=e;for(let r of t)if(r.path===""&&gn(r)!==G){let i=new de([],{});n[gn(r)]=i}return n}function Gk(t,e,n){return n.some(r=>Sl(t,e,r)&&gn(r)!==G)}function zk(t,e,n){return n.some(r=>Sl(t,e,r))}function Sl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Wk(t,e,n,r){return gn(t)!==r&&(r===G||!Sl(e,n,t))?!1:Cg(e,t,n).matched}function Kk(t,e,n){return e.length===0&&!t.children[n]}var mg=class{};function Qk(t,e,n,r,i,s,o="emptyOnly"){return new yg(t,e,n,r,i,o,s).recognize()}var Yk=31,yg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new pg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=IC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(n=>{let r=new ca([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,{},G,this.rootComponentType,null,{}),i=new Tt(r,n),s=new El("",i),o=rk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,G).pipe(rr(r=>{if(r instanceof Tl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof la?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=_g(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(H(s=>s instanceof Tt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return we(i).pipe(Nn(s=>{let o=r.children[s],a=yk(n,s);return this.processSegmentGroup(e,a,o,s)}),Fh((s,o)=>(s.push(...o),s)),ir(null),kh(),Re(s=>{if(s===null)return ws(r);let o=WC(s);return Jk(o),j(o)}))}processSegment(e,n,r,i,s,o){return we(n).pipe(Nn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(rr(u=>{if(u instanceof la)return j(null);throw u}))),Zt(a=>!!a),rr(a=>{if(GC(a))return Kk(r,i,s)?j(new mg):ws(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Wk(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ws(i):ws(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Cg(n,i,s);if(!a)return ws(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Yk&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Re(m=>this.processSegment(e,r,n,m.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Bk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(ht(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ht(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:m}=a,D=new ca(f,m,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Zk(r),gn(r),r.component??r._loadedComponent??null,r,e1(r)),{segmentGroup:A,slicedSegments:P}=IC(n,f,p,u);if(P.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(H(k=>k===null?null:new Tt(D,k)));if(u.length===0&&P.length===0)return j(new Tt(D,[]));let N=gn(r)===s;return this.processSegment(l,u,A,P,N?G:s,!0).pipe(H(k=>new Tt(D,k instanceof Tt?[k]:[])))}))):ws(n)))}getChildConfig(e,n,r){return n.children?j({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?j({routes:n._loadedRoutes,injector:n._loadedInjector}):Lk(e,n,r,this.urlSerializer).pipe(Re(i=>i?this.configLoader.loadChildren(e,n).pipe(Ne(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):jk(n))):j({routes:[],injector:e})}};function Jk(t){t.sort((e,n)=>e.value.outlet===G?-1:n.value.outlet===G?1:e.value.outlet.localeCompare(n.value.outlet))}function Xk(t){let e=t.value.routeConfig;return e&&e.path===""}function WC(t){let e=[],n=new Set;for(let r of t){if(!Xk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=WC(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!n.has(r))}function Zk(t){return t.data||{}}function e1(t){return t.resolve||{}}function t1(t,e,n,r,i,s){return Re(o=>Qk(t,e,n,r,o.extractedUrl,i,s).pipe(H(({state:a,tree:u})=>he(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function n1(t,e){return Re(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return j(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of KC(u))o.add(l);let a=0;return we(o).pipe(Nn(u=>s.has(u)?r1(u,r,t,e):(u.data=_g(u,u.parent,t).resolve,j(void 0))),Ne(()=>a++),Gi(1),Re(u=>a===o.size?j(n):It))})}function KC(t){let e=t.children.map(n=>KC(n)).flat();return[t,...e]}function r1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!jC(i)&&(s[ha]=i.title),i1(s,t,e,r).pipe(H(o=>(t._resolvedData=o,t.data=_g(t,t.parent,n).resolve,null)))}function i1(t,e,n,r){let i=Kp(t);if(i.length===0)return j({});let s={};return we(i).pipe(Re(o=>s1(t[o],e,n,r).pipe(Zt(),Ne(a=>{s[o]=a}))),Gi(1),Oh(s),rr(o=>GC(o)?It:$i(o)))}function s1(t,e,n,r){let i=ga(e)??r,s=As(t,i),o=s.resolve?s.resolve(e,n):zt(i,()=>s(e,n));return _r(o)}function zp(t){return ht(e=>{let n=t(e);return n?we(n).pipe(H(()=>e)):j(e)})}var QC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===G);return i}getResolvedTitleForRoute(r){return r.data[ha]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(o1),providedIn:"root"});let t=e;return t})(),o1=(()=>{let e=class e extends QC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(U(gC))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ya=new F("",{providedIn:"root",factory:()=>({})}),da=new F(""),Tg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(Xu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return j(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=_r(r.loadComponent()).pipe(H(YC),Ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Br(()=>{this.componentLoaders.delete(r)})),s=new Vi(i,()=>new Qe).pipe(Li());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return j({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=a1(i,this.compiler,r,this.onLoadEndListener).pipe(Br(()=>{this.childrenLoaders.delete(i)})),a=new Vi(o,()=>new Qe).pipe(Li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function a1(t,e,n,r){return _r(t.loadChildren()).pipe(H(YC),Re(i=>i instanceof Oo||Array.isArray(i)?j(i):we(e.compileModuleAsync(i))),H(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(da,[],{optional:!0,self:!0}).flat()),{routes:o.map(Eg),injector:s}}))}function c1(t){return t&&typeof t=="object"&&"default"in t}function YC(t){return c1(t)?t.default:t}var Dg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(u1),providedIn:"root"});let t=e;return t})(),u1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JC=new F(""),XC=new F("");function l1(t,e,n){let r=t.get(XC),i=t.get(tt);return t.get(ne).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),d1(t))),{onViewTransitionCreated:u}=r;return u&&zt(t,()=>u({transition:a,from:e,to:n})),o})}function d1(t){return new Promise(e=>{Hu(e,{injector:t})})}var bg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=R(Tg),this.environmentInjector=R(Xe),this.urlSerializer=R(fa),this.rootContexts=R(pa),this.location=R(ys),this.inputBindingEnabled=R(bl,{optional:!0})!==null,this.titleStrategy=R(QC),this.options=R(ya,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Dg),this.createViewTransition=R(JC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ng(s)),i=s=>this.events.next(new rg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ta,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dt(o=>o.id!==0),H(o=>he(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ht(o=>{let a=!1,u=!1;return j(o).pipe(ht(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?he(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let m="";return this.events.next(new yr(l.id,this.urlSerializer.serialize(l.rawUrl),m,yl.IgnoredSameUrlNavigation)),l.resolve(null),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return j(l).pipe(ht(m=>{let D=this.transitions?.getValue();return this.events.next(new bs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),D!==this.transitions?.getValue()?It:Promise.resolve(m)}),t1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=he(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let D=new vl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(D)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:D,source:A,restoredState:P,extras:N}=l,k=new bs(m,this.urlSerializer.serialize(D),A,P);this.events.next(k);let J=VC(this.rootComponentType).snapshot;return this.currentTransition=o=he(O({},l),{targetSnapshot:J,urlAfterRedirects:D,extras:he(O({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,j(o)}else{let m="";return this.events.next(new yr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,yl.IgnoredByUrlHandlingStrategy)),l.resolve(null),It}}),Ne(l=>{let f=new Xp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),H(l=>(this.currentTransition=o=he(O({},l),{guards:_k(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Rk(this.environmentInjector,l=>this.events.next(l)),Ne(l=>{if(o.guardsResult=l.guardsResult,Ds(l.guardsResult))throw $C(this.urlSerializer,l.guardsResult);let f=new Zp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),dt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Dt.GuardRejected),!1)),zp(l=>{if(l.guards.canActivateChecks.length)return j(l).pipe(Ne(f=>{let p=new eg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),ht(f=>{let p=!1;return j(f).pipe(n1(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Dt.NoDataFromResolver)}}))}),Ne(f=>{let p=new tg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),zp(l=>{let f=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ne(D=>{p.component=D}),H(()=>{})));for(let D of p.children)m.push(...f(D));return m};return To(f(l.targetSnapshot.root)).pipe(ir(null),Mn(1))}),zp(()=>this.afterPreactivation()),ht(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?we(p).pipe(H(()=>o)):j(o)}),H(l=>{let f=dk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=he(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Ne(()=>{this.events.next(new oa)}),vk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Mn(1),Ne({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Vh(this.transitionAbortSubject.pipe(Ne(l=>{throw l}))),Br(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),rr(l=>{if(u=!0,HC(l))this.events.next(new mr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),pk(l)?this.events.next(new aa(l.url)):o.resolve(!1);else{this.events.next(new sa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return It}))}))}cancelNavigationTransition(r,i,s){let o=new mr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h1(t){return t!==ta}var f1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(p1),providedIn:"root"});let t=e;return t})(),vg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},p1=(()=>{let e=class e extends vg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(g1),providedIn:"root"});let t=e;return t})(),g1=(()=>{let e=class e extends ZC{constructor(){super(...arguments),this.location=R(ys),this.urlSerializer=R(fa),this.options=R(ya,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Dg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof bs)this.stateMemento=this.createStateMemento();else if(r instanceof yr)this.rawUrlTree=i.initialUrl;else if(r instanceof vl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof oa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof mr&&(r.code===Dt.GuardRejected||r.code===Dt.NoDataFromResolver)?this.restoreHistory(i):r instanceof sa?this.restoreHistory(i,!0):r instanceof pn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zo||{});function eT(t,e){t.events.pipe(dt(n=>n instanceof pn||n instanceof mr||n instanceof sa||n instanceof yr),H(n=>n instanceof pn||n instanceof yr?Zo.COMPLETE:(n instanceof mr?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?Zo.REDIRECTING:Zo.FAILED),dt(n=>n!==Zo.REDIRECTING),Mn(1)).subscribe(()=>{e()})}function m1(t){throw t}var y1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(Yu),this.stateManager=R(ZC),this.options=R(ya,{optional:!0})||{},this.pendingTasks=R(hs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(bg),this.urlSerializer=R(fa),this.location=R(ys),this.urlHandlingStrategy=R(Dg),this._events=new Qe,this.errorHandler=this.options.errorHandler||m1,this.navigated=!1,this.routeReuseStrategy=R(f1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(da,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(bl,{optional:!0}),this.eventsSubscription=new Se,this.isNgZoneEnabled=R(ne)instanceof ne&&ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof mr&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof pn)this.navigated=!0;else if(i instanceof aa){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||h1(s.source)};this.scheduleNavigation(a,ta,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}w1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ta,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Eg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let D=s?s.snapshot:this.routerState.snapshot.root;m=OC(D)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return kC(m,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ds(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ta,null,i)}navigate(r,i={skipLocationChange:!1}){return _1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},y1):i===!1?s=O({},v1):s=i,Ds(r))return mC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return mC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,f;a?(u=a.resolve,l=a.reject,f=a.promise):f=new Promise((m,D)=>{u=m,l=D});let p=this.pendingTasks.add();return eT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}function w1(t){return!(t instanceof oa)&&!(t instanceof aa)}var tT=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof pn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:rE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(pe(bt),pe(vr),Jf("tabindex"),pe(Zr),pe(fr),pe(Un))},e.\u0275dir=ut({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Ct("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Wu("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Je.HasDecoratorInputTransform,"preserveFragment","preserveFragment",gs],skipLocationChange:[Je.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",gs],replaceUrl:[Je.HasDecoratorInputTransform,"replaceUrl","replaceUrl",gs],routerLink:"routerLink"},standalone:!0,features:[_p,dr]});let t=e;return t})();var Dl=class{};var I1=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(dt(r=>r instanceof pn),Nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Gu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return we(s).pipe(qi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=j(null);let o=s.pipe(Re(a=>a===null?j(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return we([o,a]).pipe(qi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(U(bt),U(Xu),U(Xe),U(Dl),U(Tg))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nT=new F(""),E1=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=R(Xe),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof pn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof yr&&r.code===yl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof _l&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>S(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Hu(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new _l(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){gE()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function rT(t,...e){return ft([{provide:da,multi:!0,useValue:t},[],{provide:vr,useFactory:iT,deps:[bt]},{provide:qo,multi:!0,useFactory:sT},e.map(n=>n.\u0275providers)])}function iT(t){return t.routerState.root}function va(t,e){return{\u0275kind:t,\u0275providers:e}}function sT(){let t=R($e);return e=>{let n=t.get(fs);if(e!==n.components[0])return;let r=t.get(bt),i=t.get(oT);t.get(Sg)===1&&r.initialNavigation(),t.get(aT,null,K.Optional)?.setUpPreloading(),t.get(nT,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oT=new F("",{factory:()=>new Qe}),Sg=new F("",{providedIn:"root",factory:()=>1});function C1(){return va(2,[{provide:Sg,useValue:0},{provide:Ju,multi:!0,deps:[$e],useFactory:e=>{let n=e.get(KE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(bt),s=e.get(oT);eT(i,()=>{r(!0)}),e.get(bg).afterPreactivation=()=>(r(!0),s.closed?j(void 0):s),i.initialNavigation()}))}}])}function T1(){return va(3,[{provide:Ju,multi:!0,useFactory:()=>{let e=R(bt);return()=>{e.setUpLocationChangeListener()}}},{provide:Sg,useValue:2}])}var aT=new F("");function D1(t){return va(0,[{provide:aT,useExisting:I1},{provide:Dl,useExisting:t}])}function b1(){return va(8,[wC,{provide:bl,useExisting:wC}])}function S1(t){let e=[{provide:JC,useValue:l1},{provide:XC,useValue:O({skipNextTransition:!!t?.skipInitialTransition},t)}];return va(9,e)}var EC=new F("ROUTER_FORROOT_GUARD"),A1=[ys,{provide:fa,useClass:ra},bt,pa,{provide:vr,useFactory:iT,deps:[bt]},Tg,[]],cT=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[A1,[],{provide:da,multi:!0,useValue:r},{provide:EC,useFactory:P1,deps:[[bt,new Me,new Xw]]},{provide:ya,useValue:i||{}},i?.useHash?N1():M1(),R1(),i?.preloadingStrategy?D1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?x1(i):[],i?.bindToComponentInputs?b1().\u0275providers:[],i?.enableViewTransitions?S1().\u0275providers:[],O1()]}}static forChild(r){return{ngModule:e,providers:[{provide:da,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(U(EC,8))},e.\u0275mod=dn({type:e}),e.\u0275inj=un({});let t=e;return t})();function R1(){return{provide:nT,useFactory:()=>{let t=R(JE),e=R(ne),n=R(ya),r=R(bg),i=R(fa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new E1(i,r,t,e,n)}}}function N1(){return{provide:Un,useClass:YE}}function M1(){return{provide:Un,useClass:Rp}}function P1(t){return"guarded"}function x1(t){return[t.initialNavigation==="disabled"?T1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?C1().\u0275providers:[]]}var CC=new F("");function O1(){return[{provide:CC,useFactory:sT},{provide:qo,multi:!0,useExisting:CC}]}var yT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(pe(Zr),pe(fr))},e.\u0275dir=ut({type:e});let t=e;return t})(),vT=(()=>{let e=class e extends yT{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275dir=ut({type:e,features:[Fn]});let t=e;return t})(),Mg=new F("");var F1={provide:Mg,useExisting:Jr(()=>Ps),multi:!0};function L1(){let t=Vn()?Vn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var V1=new F(""),Ps=(()=>{let e=class e extends yT{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!L1())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(pe(Zr),pe(fr),pe(V1,8))},e.\u0275dir=ut({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Ct("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[$o([F1]),Fn]});let t=e;return t})();function wr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function _T(t){return t!=null&&typeof t.length=="number"}var wT=new F(""),IT=new F(""),U1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,mn=class{static min(e){return j1(e)}static max(e){return B1(e)}static required(e){return $1(e)}static requiredTrue(e){return q1(e)}static email(e){return H1(e)}static minLength(e){return G1(e)}static maxLength(e){return z1(e)}static pattern(e){return W1(e)}static nullValidator(e){return ET(e)}static compose(e){return AT(e)}static composeAsync(e){return NT(e)}};function j1(t){return e=>{if(wr(e.value)||wr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function B1(t){return e=>{if(wr(e.value)||wr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function $1(t){return wr(t.value)?{required:!0}:null}function q1(t){return t.value===!0?null:{required:!0}}function H1(t){return wr(t.value)||U1.test(t.value)?null:{email:!0}}function G1(t){return e=>wr(e.value)||!_T(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function z1(t){return e=>_T(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function W1(t){if(!t)return ET;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ET(t){return null}function CT(t){return t!=null}function TT(t){return ei(t)?we(t):t}function DT(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function bT(t,e){return e.map(n=>n(t))}function K1(t){return!t.validate}function ST(t){return t.map(e=>K1(e)?e:n=>e.validate(n))}function AT(t){if(!t)return null;let e=t.filter(CT);return e.length==0?null:function(n){return DT(bT(n,e))}}function RT(t){return t!=null?AT(ST(t)):null}function NT(t){if(!t)return null;let e=t.filter(CT);return e.length==0?null:function(n){let r=bT(n,e).map(TT);return xh(r).pipe(H(DT))}}function MT(t){return t!=null?NT(ST(t)):null}function uT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function PT(t){return t._rawValidators}function xT(t){return t._rawAsyncValidators}function Ag(t){return t?Array.isArray(t)?t:[t]:[]}function Nl(t,e){return Array.isArray(t)?t.includes(e):t===e}function lT(t,e){let n=Ag(e);return Ag(t).forEach(i=>{Nl(n,i)||n.push(i)}),n}function dT(t,e){return Ag(e).filter(n=>!Nl(t,n))}var Ml=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=MT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ns=class extends Ml{get formDirective(){return null}get path(){return null}},Ia=class extends Ml{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Q1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},E9=he(O({},Q1),{"[class.ng-submitted]":"isSubmitted"}),Fl=(()=>{let e=class e extends Pl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(pe(Ia,2))},e.\u0275dir=ut({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ku("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Fn]});let t=e;return t})(),Ll=(()=>{let e=class e extends Pl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(pe(Ns,10))},e.\u0275dir=ut({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ku("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Fn]});let t=e;return t})();var _a="VALID",Al="INVALID",Rs="PENDING",wa="DISABLED";function Pg(t){return(Vl(t)?t.validators:t)||null}function Y1(t){return Array.isArray(t)?RT(t):t||null}function xg(t,e){return(Vl(e)?e.asyncValidators:t)||null}function J1(t){return Array.isArray(t)?MT(t):t||null}function Vl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function OT(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function kT(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Ms=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_a}get invalid(){return this.status===Al}get pending(){return this.status==Rs}get disabled(){return this.status===wa}get enabled(){return this.status!==wa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dT(e,this._rawAsyncValidators))}hasValidator(e){return Nl(this._rawValidators,e)}hasAsyncValidator(e){return Nl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wa,this.errors=null,this._forEachChild(r=>{r.disable(he(O({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable(he(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===Rs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wa:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rs,this._hasOwnPendingAsyncValidator=!0;let n=TT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?wa:this.errors?Al:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rs)?Rs:this._anyControlsHaveStatus(Al)?Al:_a}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Y1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=J1(this._rawAsyncValidators)}},xl=class extends Ms{constructor(e,n,r){super(Pg(n),xg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){kT(this,!0,e),Object.keys(e).forEach(r=>{OT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rg=class extends xl{};var Og=new F("CallSetDisabledState",{providedIn:"root",factory:()=>Ul}),Ul="always";function X1(t,e){return[...e.path,t]}function hT(t,e,n=Ul){kg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),eF(t,e),nF(t,e),tF(t,e),Z1(t,e)}function fT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ol(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Z1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function kg(t,e){let n=PT(t);e.validator!==null?t.setValidators(uT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=xT(t);e.asyncValidator!==null?t.setAsyncValidators(uT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ol(e._rawValidators,i),Ol(e._rawAsyncValidators,i)}function kl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=PT(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=xT(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Ol(e._rawValidators,r),Ol(e._rawAsyncValidators,r),n}function eF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&FT(t,e)})}function tF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&FT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function FT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rF(t,e){t==null,kg(t,e)}function iF(t,e){return kl(t,e)}function sF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oF(t){return Object.getPrototypeOf(t.constructor)===vT}function aF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function cF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ps?n=s:oF(s)?r=s:i=s}),i||r||n||null}function uF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rl=class extends Ms{constructor(e=null,n,r){super(Pg(n),xg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(gT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lF=t=>t instanceof Rl;var jl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ut({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),dF={provide:Mg,useExisting:Jr(()=>Fg),multi:!0},Fg=(()=>{let e=class e extends vT{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ls(e)))(s||e)}})(),e.\u0275dir=ut({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&Ct("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[$o([dF]),Fn]});let t=e;return t})();var LT=new F("");var hF={provide:Ns,useExisting:Jr(()=>Ea)},Ea=(()=>{let e=class e extends Ns{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return hT(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){fT(r.control||null,r,!1),uF(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,aF(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(fT(i||null,r),lF(s)&&(hT(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);rF(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&iF(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kg(this.form,this),this._oldForm&&kl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(pe(wT,10),pe(IT,10),pe(Og,8))},e.\u0275dir=ut({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Ct("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Je.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$o([hF]),Fn,dr]});let t=e;return t})();var fF={provide:Ia,useExisting:Jr(()=>Ca)},Ca=(()=>{let e=class e extends Ia{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=cF(this,o)}ngOnChanges(r){this._added||this._setUpControl(),sF(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return X1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(pe(Ns,13),pe(wT,10),pe(IT,10),pe(Mg,10),pe(LT,8))},e.\u0275dir=ut({type:e,selectors:[["","formControlName",""]],inputs:{name:[Je.None,"formControlName","name"],isDisabled:[Je.None,"disabled","isDisabled"],model:[Je.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$o([fF]),Fn,dr]});let t=e;return t})();var VT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=un({});let t=e;return t})(),Ng=class extends Ms{constructor(e,n,r){super(Pg(n),xg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){kT(this,!1,e),e.forEach((r,i)=>{OT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function mT(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Bl=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return mT(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new xl(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Rg(s,i)}control(r,i,s){let o={};return this.useNonNullable?(mT(i)?o=i:(o.validators=i,o.asyncValidators=s),new Rl(r,he(O({},o),{nonNullable:!0}))):new Rl(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Ng(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Rl)return r;if(r instanceof Ms)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var UT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Og,useValue:r.callSetDisabledState??Ul}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=un({imports:[VT]});let t=e;return t})(),$l=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:LT,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Og,useValue:r.callSetDisabledState??Ul}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=un({imports:[VT]});let t=e;return t})();var ql=function(t){return t[t.Administrator=1]="Administrator",t[t.User=2]="User",t}(ql||{});var BT=(()=>{let e=class e{constructor(){this.users=[{username:"adminUser",password:"Admin123!!",role:ql.Administrator},{username:"regularUser",password:"Regular123!!",role:ql.User}]}login(r,i){let s=this.users.find(o=>o.username===r&&o.password===i);return s?(localStorage.setItem("loggedUser",JSON.stringify(s)),!0):!1}logout(){localStorage.removeItem("loggedUser")}getLoggedUser(){return JSON.parse(localStorage.getItem("loggedUser")||JSON.stringify({}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pF(t,e){t&1&&(le(0,"div",10),be(1,"El nombre de usuario es requerido."),ce())}function gF(t,e){if(t&1&&(le(0,"div"),kt(1,pF,2,0,"div",9),ce()),t&2){let n=Bo();qe(),et("ngIf",n.userControl.errors==null?null:n.userControl.errors.required)}}function mF(t,e){t&1&&(le(0,"div",10),be(1,"La contrase\xF1a es requerida."),ce())}function yF(t,e){if(t&1&&(le(0,"div"),kt(1,mF,2,0,"div",9),ce()),t&2){let n=Bo();qe(),et("ngIf",n.passwordControl.errors==null?null:n.passwordControl.errors.required)}}var $T=(()=>{let e=class e{constructor(){this.authService=R(BT),this.formBuilder=R(Bl),this.router=R(bt)}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",mn.required],password:["",mn.required]})}login(){if(this.loginForm.valid){let r=this.formControls.username.value,i=this.formControls.password.value;this.authService.login(r,i)?this.router.navigateByUrl("create"):alert("Credenciales invalidas")}else this.loginForm.markAllAsTouched()}setAdminCredentials(){this.userControl.setValue("adminUser"),this.passwordControl.setValue("Admin123!!")}setRegularCredentials(){this.userControl.setValue("regularUser"),this.passwordControl.setValue("Regular123!!")}get userControl(){return this.loginForm.controls.username}get passwordControl(){return this.loginForm.controls.password}get formControls(){return this.loginForm.controls}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ln({type:e,selectors:[["app-login"]],standalone:!0,features:[hn],decls:20,vars:3,consts:[[1,"screen"],[3,"submit","formGroup"],[2,"display","flex","flex-direction","column"],["type","text","formControlName","username","placeholder","Usuario"],[4,"ngIf"],["type","password","formControlName","password","placeholder","Contrase\xF1a"],["type","submit"],[2,"display","flex","gap","8px"],[3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,s){i&1&&(le(0,"div",0)(1,"div")(2,"h1"),be(3,"Inicia sesion"),ce()(),le(4,"form",1),Ct("submit",function(){return s.login()}),le(5,"div",2),gt(6,"input",3),kt(7,gF,2,1,"div",4),ce(),le(8,"div",2),gt(9,"input",5),kt(10,yF,2,1,"div",4),ce(),le(11,"button",6),be(12,"Iniciar sesi\xF3n"),ce()(),le(13,"h3"),be(14,"Credenciales"),ce(),le(15,"div",7)(16,"button",8),Ct("click",function(){return s.setAdminCredentials()}),be(17,"Usuario admin"),ce(),le(18,"button",8),Ct("click",function(){return s.setRegularCredentials()}),be(19,"Usuario comun"),ce()()()),i&2&&(qe(4),et("formGroup",s.loginForm),qe(3),et("ngIf",s.userControl.touched&&s.userControl.invalid),qe(3),et("ngIf",s.passwordControl.touched&&s.passwordControl.invalid))},dependencies:[UT,jl,Ps,Fl,Ll,$l,Ea,Ca,ti,vs]});let t=e;return t})();function vF(t,e){if(t&1&&(wp(0),le(1,"h1"),be(2),ce(),gt(3,"img",3),le(4,"h3"),be(5),ce(),le(6,"button",4),be(7,"Iniciar sesion"),ce(),Ip()),t&2){let n=Bo();qe(2),Ep(n.aboutData.name),qe(),et("src",n.aboutData.avatar_url,ip),qe(2),Qu("Seguidores: ",n.aboutData.followers,"")}}function _F(t,e){t&1&&(le(0,"h1"),be(1,"Cargando..."),ce())}var qT=(()=>{let e=class e{constructor(){this.aboutData=null,this.httpClient=R(kp)}ngOnInit(){this.httpClient.get("https://api.github.com/users/julianschmidt1").subscribe({next:r=>{console.log(r),this.aboutData=r}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ln({type:e,selectors:[["app-welcome"]],standalone:!0,features:[hn],decls:4,vars:2,consts:[["loading",""],[1,"screen"],[4,"ngIf","ngIfElse"],["alt","",2,"height","250px","width","250px",3,"src"],["routerLink","/login"]],template:function(i,s){if(i&1&&(le(0,"div",1),kt(1,vF,8,3,"ng-container",2)(2,_F,2,0,"ng-template",null,0,kE),ce()),i&2){let o=xE(3);qe(),et("ngIf",s.aboutData)("ngIfElse",o)}},dependencies:[ti,vs,cT,tT]});let t=e;return t})();var HT=(()=>{let e=class e{constructor(){}create(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wF(t,e){t&1&&(le(0,"div",11),be(1," Nombre es requerido "),ce())}function IF(t,e){t&1&&(le(0,"div",11),be(1," Descripci\xF3n es requerida "),ce())}function EF(t,e){t&1&&(le(0,"div",11),be(1," Cantidad es requerido y debe ser mayor "),ce())}var GT=(()=>{let e=class e{constructor(){this.formBuilder=R(Bl),this.entityservice=R(HT)}ngOnInit(){this.entityForm=this.formBuilder.group({name:["",mn.required],description:["",mn.required],quantity:["",[mn.required,mn.min(0)]]})}get formControls(){return this.entityForm.controls}submit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ln({type:e,selectors:[["app-create"]],standalone:!0,features:[hn],decls:21,vars:5,consts:[[1,"screen"],[3,"submit","formGroup"],[1,"column"],["for","name"],["type","text","formControlName","name"],["class","error",4,"ngIf"],["for","description"],["type","text","formControlName","description"],["for","price"],["type","number","formControlName","quantity"],["type","submit",3,"disabled"],[1,"error"]],template:function(i,s){i&1&&(le(0,"div",0)(1,"h1"),be(2,"Agregar"),ce(),le(3,"form",1),Ct("submit",function(){return s.submit()}),le(4,"div",2)(5,"label",3),be(6,"Nombre:"),ce(),gt(7,"input",4),kt(8,wF,2,0,"div",5),ce(),le(9,"div",2)(10,"label",6),be(11,"Descripci\xF3n:"),ce(),gt(12,"input",7),kt(13,IF,2,0,"div",5),ce(),le(14,"div",2)(15,"label",8),be(16,"Precio:"),ce(),gt(17,"input",9),kt(18,EF,2,0,"div",5),ce(),le(19,"button",10),be(20,"Agregar"),ce()()()),i&2&&(qe(3),et("formGroup",s.entityForm),qe(5),et("ngIf",s.formControls.name.touched&&s.formControls.name.invalid),qe(5),et("ngIf",s.formControls.description.touched&&s.formControls.description.invalid),qe(5),et("ngIf",s.formControls.quantity.touched&&s.formControls.quantity.invalid),qe(),et("disabled",!s.entityForm.valid))},dependencies:[$l,jl,Ps,Fg,Fl,Ll,Ea,Ca,ti,vs]});let t=e;return t})();var zT=()=>{let t=R(bt),e=localStorage.getItem("loggedUser");return console.log(!!e),e||t.navigateByUrl(""),!!e};var WT=[{path:"",component:qT},{path:"login",component:$T},{path:"create",component:GT,canActivate:[zT]}];var Vg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var x=function(t,e){if(!t)throw oi(e)},oi=function(t){return new Error("Firebase Database ("+Vg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var QT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Gl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,D=l&63;u||(D=64,o||(m=64)),r.push(n[f],n[p],n[m],n[D])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Ug;let m=s<<2|a>>4;if(r.push(m),l!==64){let D=a<<4&240|l>>2;if(r.push(D),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ug=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Bg=function(t){let e=QT(t);return Gl.encodeByteArray(e,!0)},Ta=function(t){return Bg(t).replace(/\./g,"")},Da=function(t){try{return Gl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YT(t){return JT(void 0,t)}function JT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!TF(n)||(t[n]=JT(t[n],e[n]));return t}function TF(t){return t!=="__proto__"}function DF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bF=()=>DF().__FIREBASE_DEFAULTS__,SF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Da(t[1]);return e&&JSON.parse(e)},$g=()=>{try{return bF()||SF()||AF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qg=t=>{var e,n;return(n=(e=$g())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zl=t=>{let e=qg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hg=()=>{var t;return(t=$g())===null||t===void 0?void 0:t.config},Gg=t=>{var e;return(e=$g())===null||e===void 0?void 0:e[`_${t}`]};var si=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Wl(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ta(JSON.stringify(n)),Ta(JSON.stringify(o)),""].join(".")}function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ba(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function XT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZT(){let t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yn(){return Vg.NODE_CLIENT===!0||Vg.NODE_ADMIN===!0}function zg(){try{return typeof indexedDB=="object"}catch{return!1}}function eD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var RF="FirebaseError",St=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}},jn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new St(i,a,r)}};function NF(t,e){return t.replace(MF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var MF=/\{\$([^}]+)}/g;function xs(t){return JSON.parse(t)}function Le(t){return JSON.stringify(t)}var tD=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=xs(Da(s[0])||""),n=xs(Da(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var nD=function(t){let e=tD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rD=function(t){let e=tD(t).claims;return typeof e=="object"&&e.admin===!0};function vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ai(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sa(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ci(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(KT(s)&&KT(o)){if(!ci(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function KT(t){return t!==null&&typeof t=="object"}function ui(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Hl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let m=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],l,f;for(let p=0;p<80;p++){p<40?p<20?(l=a^s&(o^a),f=1518500249):(l=s^o^a,f=1859775393):p<60?(l=s&o|a&(s|o),f=2400959708):(l=s^o^a,f=3395469782);let m=(i<<5|i>>>27)+l+u+f+r[p]&4294967295;u=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function iD(t,e){let n=new jg(t,e);return n.subscribe.bind(n)}var jg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lg),i.error===void 0&&(i.error=Lg),i.complete===void 0&&(i.complete=Lg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lg(){}function sD(t,e){return`${t} failed: ${e} argument `}var oD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ra=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var t6=4*60*60*1e3;function Kt(t){return t&&t._delegate?t._delegate:t}var mt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var li="[DEFAULT]";var Ql=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new si;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OF(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xF(t){return t===li?void 0:t}function OF(t){return t.instantiationMode==="EAGER"}var Na=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ql(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kF=[],oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(oe||{}),FF={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},LF=oe.INFO,VF={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},UF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=VF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_n=class{constructor(e){this.name=e,this._logLevel=LF,this._logHandler=UF,this._userLogHandler=null,kF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var jF=(t,e)=>e.some(n=>t instanceof n),aD,cD;function BF(){return aD||(aD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return cD||(cD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uD=new WeakMap,Kg=new WeakMap,lD=new WeakMap,Wg=new WeakMap,Yg=new WeakMap;function qF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uD.set(n,t)}).catch(()=>{}),Yg.set(e,t),e}function HF(t){if(Kg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kg.set(t,e)}var Qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dD(t){Qg=t(Qg)}function GF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Yl(this),e,...n);return lD.set(r,e.sort?e.sort():[e]),wn(r)}:$F().includes(t)?function(...e){return t.apply(Yl(this),e),wn(uD.get(this))}:function(...e){return wn(t.apply(Yl(this),e))}}function zF(t){return typeof t=="function"?GF(t):(t instanceof IDBTransaction&&HF(t),jF(t,BF())?new Proxy(t,Qg):t)}function wn(t){if(t instanceof IDBRequest)return qF(t);if(Wg.has(t))return Wg.get(t);let e=zF(t);return e!==t&&(Wg.set(t,e),Yg.set(e,t)),e}var Yl=t=>Yg.get(t);function fD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=wn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(wn(o.result),u.oldVersion,u.newVersion,wn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var WF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],Jg=new Map;function hD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(n)))return;let s=function(o,...a){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Jg.set(e,s),s}dD(t=>he(O({},t),{get:(e,n,r)=>hD(e,n)||t.get(e,n,r),has:(e,n)=>!!hD(e,n)||t.has(e,n)}));var Zg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QF(t){let e=t.getComponent();return e?.type==="VERSION"}var em="@firebase/app",pD="0.10.5";var di=new _n("@firebase/app"),YF="@firebase/app-compat",JF="@firebase/analytics-compat",XF="@firebase/analytics",ZF="@firebase/app-check-compat",eL="@firebase/app-check",tL="@firebase/auth",nL="@firebase/auth-compat",rL="@firebase/database",iL="@firebase/database-compat",sL="@firebase/functions",oL="@firebase/functions-compat",aL="@firebase/installations",cL="@firebase/installations-compat",uL="@firebase/messaging",lL="@firebase/messaging-compat",dL="@firebase/performance",hL="@firebase/performance-compat",fL="@firebase/remote-config",pL="@firebase/remote-config-compat",gL="@firebase/storage",mL="@firebase/storage-compat",yL="@firebase/firestore",vL="@firebase/vertexai-preview",_L="@firebase/firestore-compat",wL="firebase",IL="10.12.2";var tm="[DEFAULT]",EL={[em]:"fire-core",[YF]:"fire-core-compat",[XF]:"fire-analytics",[JF]:"fire-analytics-compat",[eL]:"fire-app-check",[ZF]:"fire-app-check-compat",[tL]:"fire-auth",[nL]:"fire-auth-compat",[rL]:"fire-rtdb",[iL]:"fire-rtdb-compat",[sL]:"fire-fn",[oL]:"fire-fn-compat",[aL]:"fire-iid",[cL]:"fire-iid-compat",[uL]:"fire-fcm",[lL]:"fire-fcm-compat",[dL]:"fire-perf",[hL]:"fire-perf-compat",[fL]:"fire-rc",[pL]:"fire-rc-compat",[gL]:"fire-gcs",[mL]:"fire-gcs-compat",[yL]:"fire-fst",[_L]:"fire-fst-compat",[vL]:"fire-vertex","fire-js":"fire-js",[wL]:"fire-js-all"};var Ma=new Map,CL=new Map,nm=new Map;function gD(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){let e=t.name;if(nm.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,t);for(let n of Ma.values())gD(n,t);for(let n of CL.values())gD(n,t);return!0}function hi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t.settings!==void 0}var TL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new jn("app","Firebase",TL);var rm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var En=IL;function om(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:tm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=Hg()),!n)throw Ir.create("no-options");let s=Ma.get(i);if(s){if(ci(n,s.options)&&ci(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}let o=new Na(i);for(let u of nm.values())o.addComponent(u);let a=new rm(n,r,o);return Ma.set(i,a),a}function Er(t=tm){let e=Ma.get(t);if(!e&&t===tm&&Hg())return om();if(!e)throw Ir.create("no-app",{appName:t});return e}function Jl(){return Array.from(Ma.values())}function Ee(t,e,n){var r;let i=(r=EL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(a.join(" "));return}In(new mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DL="firebase-heartbeat-database",bL=1,Pa="firebase-heartbeat-store",Xg=null;function _D(){return Xg||(Xg=fD(DL,bL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),Xg}function SL(t){return S(this,null,function*(){try{let n=(yield _D()).transaction(Pa),r=yield n.objectStore(Pa).get(wD(t));return yield n.done,r}catch(e){if(e instanceof St)di.warn(e.message);else{let n=Ir.create("idb-get",{originalErrorMessage:e?.message});di.warn(n.message)}}})}function mD(t,e){return S(this,null,function*(){try{let r=(yield _D()).transaction(Pa,"readwrite");yield r.objectStore(Pa).put(e,wD(t)),yield r.done}catch(n){if(n instanceof St)di.warn(n.message);else{let r=Ir.create("idb-set",{originalErrorMessage:n?.message});di.warn(r.message)}}})}function wD(t){return`${t.name}!${t.options.appId}`}var AL=1024,RL=30*24*60*60*1e3,im=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new sm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=RL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return S(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=yD(),{heartbeatsToSend:r,unsentEntries:i}=NL(this._heartbeatsCache.heartbeats),s=Ta(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function yD(){return new Date().toISOString().substring(0,10)}function NL(t,e=AL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var sm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return zg()?eD().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield SL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vD(t){return Ta(JSON.stringify({version:2,heartbeats:t})).length}function ML(t){In(new mt("platform-logger",e=>new Zg(e),"PRIVATE")),In(new mt("heartbeat",e=>new im(e),"PRIVATE")),Ee(em,pD,t),Ee(em,pD,"esm2017"),Ee("fire-js","")}ML("");var PL="firebase",xL="10.12.2";Ee(PL,xL,"app");var $n=new xn("ANGULARFIRE2_VERSION");function ks(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var pi=(t,e)=>{let n=e?[e]:Jl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Cr=class{constructor(){return pi(OL)}},OL="app-check";function Os(){}var Xl=class{zone;delegate;constructor(e,n=Nh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},am=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),n.pipe(Ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Tr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Xl(Zone.current)),this.insideAngular=n.run(()=>new Xl(Zone.current,Rh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(U(ne))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function kL(t){return Zl().ngZone.runOutsideAngular(()=>t())}function fi(t){return Zl().ngZone.run(()=>t())}function FL(t){return LL(Zl())(t)}function LL(t){return function(n){return n=n.lift(new am(t.ngZone)),n.pipe(nr(t.outsideAngular),tr(t.insideAngular))}}var VL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),fi(()=>t.apply(void 0,r))},Dr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os))),r[s]=VL(r[s],n));let i=kL(()=>t.apply(this,r));if(!e)if(i instanceof Q){let s=Zl();return i.pipe(nr(s.outsideAngular),tr(s.insideAngular))}else return fi(()=>i);return i instanceof Q?i.pipe(FL):i instanceof Promise?fi(()=>new Promise((s,o)=>i.then(a=>fi(()=>s(a)),a=>fi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:fi(()=>i)};var Qt=class{constructor(e){return e}},qn=class{constructor(){return Jl()}};function UL(t){return t&&t.length===1?t[0]:new Qt(Er())}var cm=new F("angularfire2._apps"),jL={provide:Qt,useFactory:UL,deps:[[new Me,cm]]},BL={provide:qn,deps:[[new Me,cm]]};function $L(t){return(e,n)=>{let r=n.get(Ot);Ee("angularfire",$n.full,"core"),Ee("angularfire",$n.full,"app"),Ee("angular",FE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Qt(i)}}function ID(t,...e){return ft([jL,BL,{provide:cm,useFactory:$L(t),multi:!0,deps:[ne,$e,Tr,...e]}])}var ED=Dr(om,!0);function LD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VD=LD,UD=new jn("auth","Firebase",LD());var sd=new _n("@firebase/auth");function qL(t,...e){sd.logLevel<=oe.WARN&&sd.warn(`Auth (${En}): ${t}`,...e)}function td(t,...e){sd.logLevel<=oe.ERROR&&sd.error(`Auth (${En}): ${t}`,...e)}function Sr(t,...e){throw Am(t,...e)}function mi(t,...e){return Am(t,...e)}function jD(t,e,n){let r=Object.assign(Object.assign({},VD()),{[e]:n});return new jn("auth","Firebase",r).create(e,{appName:t.name})}function gi(t){return jD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UD.create(t,...e)}function $(t,e,...n){if(!t)throw Am(e,...n)}function Hn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw td(e),new Error(e)}function Ar(t,e){t||Hn(e)}function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HL(){return CD()==="http:"||CD()==="https:"}function CD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function GL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HL()||XT()||"connection"in navigator)?navigator.onLine:!0}function zL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=ba()||Kl()}get(){return GL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Rm(t,e){Ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var od=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var KL=new yi(3e4,6e4);function Nm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ls(s,o,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return BD(t,i,()=>S(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=ui(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),od.fetch()($D(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function BD(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},WL),e);try{let i=new fm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ed(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ed(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw jD(t,f,l);Sr(t,f)}}catch(i){if(i instanceof St)throw i;Sr(t,"network-request-failed",{message:String(i)})}})}function QL(s,o,a,u){return S(this,arguments,function*(t,e,n,r,i={}){let l=yield Ls(t,e,n,r,i);return"mfaPendingCredential"in l&&Sr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function $D(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Rm(t.config,i):`${t.config.apiScheme}://${i}`}var fm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),KL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mi(t,e,r);return i.customData._tokenResponse=n,i}function YL(t,e){return S(this,null,function*(){return Ls(t,"POST","/v1/accounts:delete",e)})}function qD(t,e){return S(this,null,function*(){return Ls(t,"POST","/v1/accounts:lookup",e)})}function xa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Mm(t,e=!1){return S(this,null,function*(){let n=Kt(t),r=yield n.getIdToken(e),i=Pm(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:xa(um(i.auth_time)),issuedAtTime:xa(um(i.iat)),expirationTime:xa(um(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function um(t){return Number(t)*1e3}function Pm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{let i=Da(n);return i?JSON.parse(i):(td("Failed to decode base64 JWT payload"),null)}catch(i){return td("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TD(t){let e=Pm(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ka(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof St&&JL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function JL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var pm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ad(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ka(t,qD(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?HD(s.providerUserInfo):[],a=XL(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function xm(t){return S(this,null,function*(){let e=Kt(t);yield ad(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HD(t){return t.map(e=>{var{providerId:n}=e,r=Mh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ZL(t,e){return S(this,null,function*(){let n=yield BD(t,{},()=>S(this,null,function*(){let r=ui({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$D(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",od.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function eV(t,e){return S(this,null,function*(){return Ls(t,"POST","/v2/accounts:revokeToken",Nm(t,e))})}var Oa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");let n=TD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield ZL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Hn("not implemented")}};function br(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield ka(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Mm(this,e)}reload(){return xm(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ad(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Bn(this.auth.app))return Promise.reject(gi(this.auth));let e=yield this.getIdToken();return yield ka(this,YL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,D=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,J=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:W,isAnonymous:xe,providerData:fe,stsTokenManager:I}=n;$(z&&I,e,"internal-error");let y=Oa.fromJSON(this.name,I);$(typeof z=="string",e,"internal-error"),br(p,e.name),br(m,e.name),$(typeof W=="boolean",e,"internal-error"),$(typeof xe=="boolean",e,"internal-error"),br(D,e.name),br(A,e.name),br(P,e.name),br(N,e.name),br(k,e.name),br(J,e.name);let _=new t({uid:z,auth:e,email:m,emailVerified:W,displayName:p,isAnonymous:xe,photoURL:A,phoneNumber:D,tenantId:P,stsTokenManager:y,createdAt:k,lastLoginAt:J});return fe&&Array.isArray(fe)&&(_.providerData=fe.map(w=>Object.assign({},w))),N&&(_._redirectEventId=N),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Oa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ad(s),s})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?HD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Oa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var DD=new Map;function Gn(t){Ar(t instanceof Function,"Expected a class definition");let e=DD.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DD.set(t,e),e)}var tV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),gm=tV;function nd(t,e,n){return`firebase:${t}:${e}:${n}`}var cd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=nd(this.userKey,i.apiKey,s),this.fullPersistenceKey=nd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Gn(gm),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Gn(gm),o=nd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=Fs._fromJSON(e,f);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function bD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QD(e))return"Blackberry";if(YD(e))return"Webos";if(Om(e))return"Safari";if((e.includes("chrome/")||zD(e))&&!e.includes("edge/"))return"Chrome";if(KD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GD(t=Fe()){return/firefox\//i.test(t)}function Om(t=Fe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zD(t=Fe()){return/crios\//i.test(t)}function WD(t=Fe()){return/iemobile/i.test(t)}function KD(t=Fe()){return/android/i.test(t)}function QD(t=Fe()){return/blackberry/i.test(t)}function YD(t=Fe()){return/webos/i.test(t)}function md(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nV(t=Fe()){var e;return md(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rV(){return ZT()&&document.documentMode===10}function JD(t=Fe()){return md(t)||KD(t)||YD(t)||QD(t)||/windows phone/i.test(t)||WD(t)}function iV(){try{return!!(window&&window!==window.top)}catch{return!1}}function XD(t,e=[]){let n;switch(t){case"Browser":n=bD(Fe());break;case"Worker":n=`${bD(Fe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${En}/${r}`}var mm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sV(n){return S(this,arguments,function*(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",Nm(t,e))})}var oV=6,ym=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var vm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ud(this),this.idTokenSubscription=new ud(this),this.beforeStateQueue=new mm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield cd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield qD(this,{idToken:e}),r=yield Fs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(Bn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zL()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Bn(this.app))return Promise.reject(gi(this));let n=e?Kt(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Bn(this.app)?Promise.reject(gi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Bn(this.app)?Promise.reject(gi(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield sV(this),n=new ym(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield eV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield cd.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&qL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function km(t){return Kt(t)}var ud=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iD(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fm={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aV(t){Fm=t}function cV(t){return Fm.loadJS(t)}function uV(){return Fm.gapiScript}function ZD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Lm(t,e){let n=hi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ci(s,e??{}))return i;Sr(i,"already-initialized")}return n.initialize({options:e})}function lV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Vm(t,e,n){let r=km(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=eb(e),{host:o,port:a}=dV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||hV()}function eb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dV(t){let e=eb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:SD(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:SD(o)}}}function SD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function hV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ld=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}};function lm(t,e){return S(this,null,function*(){return QL(t,"POST","/v1/accounts:signInWithIdp",Nm(t,e))})}var dd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _m=class extends dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var La=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return S(this,null,function*(){let s=yield Fs._fromIdTokenResponse(e,r,i),o=AD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return S(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=AD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function AD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var wm=class t extends St{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function tb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wm._fromErrorAndOperation(t,s,e,r):s})}function fV(t,e,n=!1){return S(this,null,function*(){let r=yield ka(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return La._forOperation(t,"link",r)})}function pV(t,e,n=!1){return S(this,null,function*(){let{auth:r}=t;if(Bn(r.app))return Promise.reject(gi(r));let i="reauthenticate";try{let s=yield ka(t,tb(r,i,e,t),n);$(s.idToken,r,"internal-error");let o=Pm(s.idToken);$(o,r,"internal-error");let{sub:a}=o;return $(t.uid===a,r,"user-mismatch"),La._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Sr(r,"user-mismatch"),s}})}function gV(t,e,n=!1){return S(this,null,function*(){if(Bn(t.app))return Promise.reject(gi(t));let r="signIn",i=yield tb(t,r,e),s=yield La._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Um(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function jm(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}var hd="__sak";var fd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function mV(){let t=Fe();return Om(t)||md(t)}var yV=1e3,vV=10,_V=(()=>{class t extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=mV()&&iV(),this.fallbackToPolling=JD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);rV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,vV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},yV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return S(this,null,function*(){yield Zn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return S(this,null,function*(){let r=yield Zn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return S(this,null,function*(){yield Zn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),nb=_V;var wV=(()=>{class t extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Bm=wV;function IV(t){return Promise.all(t.map(e=>S(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var EV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return S(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(f=>S(this,null,function*(){return f(r.origin,o)})),l=yield IV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function rb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Im=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return S(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=rb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Cn(){return window}function CV(t){Cn().location.href=t}function ib(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}function TV(){return S(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function DV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bV(){return ib()?self:null}var sb="firebaseLocalStorageDb",SV=1,pd="firebaseLocalStorage",ob="fbase_key",vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function yd(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function AV(){let t=indexedDB.deleteDatabase(sb);return new vi(t).toPromise()}function Em(){let t=indexedDB.open(sb,SV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(pd,{keyPath:ob})}catch(i){n(i)}}),t.addEventListener("success",()=>S(this,null,function*(){let r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),yield AV(),e(yield Em()))}))})}function RD(t,e,n){return S(this,null,function*(){let r=yd(t,!0).put({[ob]:e,value:n});return new vi(r).toPromise()})}function RV(t,e){return S(this,null,function*(){let n=yd(t,!1).get(e),r=yield new vi(n).toPromise();return r===void 0?null:r.value})}function ND(t,e){let n=yd(t,!0).delete(e);return new vi(n).toPromise()}var NV=800,MV=3,PV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return S(this,null,function*(){return this.db?this.db:(this.db=yield Em(),this.db)})}_withRetries(n){return S(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>MV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return S(this,null,function*(){return ib()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return S(this,null,function*(){this.receiver=EV._getInstance(bV()),this.receiver._subscribe("keyChanged",(n,r)=>S(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>S(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return S(this,null,function*(){var n,r;if(this.activeServiceWorker=yield TV(),!this.activeServiceWorker)return;this.sender=new Im(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return S(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||DV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return S(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Em();return yield RD(n,hd,"1"),yield ND(n,hd),!0}catch{}return!1})}_withPendingWrite(n){return S(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(i=>RD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return S(this,null,function*(){let r=yield this._withRetries(i=>RV(i,n));return this.localCache[n]=r,r})}_remove(n){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(r=>ND(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return S(this,null,function*(){let n=yield this._withRetries(s=>{let o=yd(s,!1).getAll();return new vi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>S(this,null,function*(){return this._poll()}),NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ab=PV;var Q6=ZD("rcb"),Y6=new yi(3e4,6e4);function xV(t,e){return e?Gn(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Va=class extends ld{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function OV(t){return gV(t.auth,new Va(t),t.bypassAuthState)}function kV(t){let{auth:e,user:n}=t;return $(n,e,"internal-error"),pV(n,new Va(t),t.bypassAuthState)}function FV(t){return S(this,null,function*(){let{auth:e,user:n}=t;return $(n,e,"internal-error"),fV(n,new Va(t),t.bypassAuthState)})}var Cm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>S(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return S(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OV;case"linkViaPopup":case"linkViaRedirect":return FV;case"reauthViaPopup":case"reauthViaRedirect":return kV;default:Sr(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var J6=new yi(2e3,1e4);var LV="pendingRedirect",rd=new Map,Tm=class t extends Cm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return S(this,null,function*(){let e=rd.get(this.auth._key());if(!e){try{let r=(yield VV(this.resolver,this.auth))?yield Zn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return S(this,null,function*(){if(e.type==="signInViaRedirect")return Zn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Zn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return S(this,null,function*(){})}cleanUp(){}};function VV(t,e){return S(this,null,function*(){let n=BV(e),r=jV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function UV(t,e){rd.set(t._key(),e)}function jV(t){return Gn(t._redirectPersistence)}function BV(t){return nd(LV,t.config.apiKey,t.name)}function $V(t,e,n=!1){return S(this,null,function*(){if(Bn(t.app))return Promise.reject(gi(t));let r=km(t),i=xV(r,e),o=yield new Tm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var qV=10*60*1e3,Dm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qV&&this.cachedEventUids.clear(),this.cachedEventUids.has(MD(e))}saveEventToCache(e){this.cachedEventUids.add(MD(e)),this.lastProcessedEventTime=Date.now()}};function MD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cb(t);default:return!1}}function GV(n){return S(this,arguments,function*(t,e={}){return Ls(t,"GET","/v1/projects",e)})}var zV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;function KV(t){return S(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield GV(t);for(let n of e)try{if(QV(n))return}catch{}Sr(t,"unauthorized-domain")})}function QV(t){let e=hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WV.test(n))return!1;if(zV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var YV=new yi(3e4,6e4);function PD(){let t=Cn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JV(t){return new Promise((e,n)=>{var r,i,s;function o(){PD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PD(),n(mi(t,"network-request-failed"))},timeout:YV.get()})}if(!((i=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cn().gapi)===null||s===void 0)&&s.load)o();else{let a=ZD("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(mi(t,"network-request-failed"))},cV(`${uV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw id=null,e})}var id=null;function XV(t){return id=id||JV(t),id}var ZV=new yi(5e3,15e3),eU="__/auth/iframe",tU="emulator/auth/iframe",nU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iU(t){let e=t.config;$(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Rm(e,tU):`https://${t.config.authDomain}/${eU}`,r={apiKey:e.apiKey,appName:t.name,v:En},i=rU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ui(r).slice(1)}`}function sU(t){return S(this,null,function*(){let e=yield XV(t),n=Cn().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:iU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nU,dontclear:!0},r=>new Promise((i,s)=>S(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=mi(t,"network-request-failed"),a=Cn().setTimeout(()=>{s(o)},ZV.get());function u(){Cn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var oU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aU=500,cU=600,uU="_blank",lU="http://localhost",gd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function dU(t,e,n,r=aU,i=cU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},oU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Fe().toLowerCase();n&&(a=zD(l)?uU:n),GD(l)&&(e=e||lU,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[D,A])=>`${m}${D}=${A},`,"");if(nV(l)&&a!=="_self")return hU(e||"",a),new gd(null);let p=window.open(e||"",a,f);$(p,t,"popup-blocked");try{p.focus()}catch{}return new gd(p)}function hU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var fU="__/auth/handler",pU="emulator/auth/handler",gU=encodeURIComponent("fac");function xD(t,e,n,r,i,s){return S(this,null,function*(){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:En,eventId:i};if(e instanceof dd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Sa(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof _m){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${gU}=${encodeURIComponent(u)}`:"";return`${mU(t)}?${ui(a).slice(1)}${l}`})}function mU({config:t}){return t.emulator?Rm(t,pU):`https://${t.authDomain}/${fU}`}var dm="webStorageSupport",bm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bm,this._completeRedirectFn=$V,this._overrideRedirectResult=UV}_openPopup(e,n,r,i){return S(this,null,function*(){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield xD(e,n,r,hm(),i);return dU(e,o,rb())})}_openRedirect(e,n,r,i){return S(this,null,function*(){yield this._originValidation(e);let s=yield xD(e,n,r,hm(),i);return CV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return S(this,null,function*(){let n=yield sU(e),r=new Dm(e);return n.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[dm];o!==void 0&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JD()||Om()||md()}},ub=bm;var OD="@firebase/auth",kD="1.7.4";var Sm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function yU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vU(t){In(new mt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XD(t)},l=new vm(r,i,s,u);return lV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),In(new mt("auth-internal",e=>{let n=km(e.getProvider("auth").getImmediate());return(r=>new Sm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee(OD,kD,yU(t)),Ee(OD,kD,"esm2017")}var _U=5*60,wU=Gg("authIdTokenMaxAge")||_U,FD=null,IU=t=>e=>S(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wU)return;let i=n?.token;FD!==i&&(FD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function $m(t=Er()){let e=hi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Lm(t,{popupRedirectResolver:ub,persistence:[ab,nb,Bm]}),r=Gg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=IU(s.toString());jm(n,o,()=>o(n.currentUser)),Um(n,a=>o(a))}}let i=qg("auth");return i&&Vm(n,`http://${i}`),n}function EU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vU("Browser");var lb="auth",Ua=class{constructor(e){return e}},_i=class{constructor(){return pi(lb)}};var qm=new F("angularfire2.auth-instances");function mj(t,e){let n=ks(lb,t,e);return n&&new Ua(n)}function yj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ua(r)}}var vj={provide:_i,deps:[[new Me,qm]]},_j={provide:Ua,useFactory:mj,deps:[[new Me,qm],Qt]};function db(t,...e){return Ee("angularfire",$n.full,"auth"),ft([_j,vj,{provide:qm,useFactory:yj(t),multi:!0,deps:[ne,$e,Tr,qn,[new Me,Cr],...e]}])}var hb=Dr($m,!0);var fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pb={};var Hm,gb;(function(){var t;function e(I,y){function _(){}_.prototype=y.prototype,I.D=y.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(w,E,T){for(var v=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)v[bn-2]=arguments[bn];return y.prototype[E].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,_){_||(_=0);var w=Array(16);if(typeof y=="string")for(var E=0;16>E;++E)w[E]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(E=0;16>E;++E)w[E]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=I.g[0],_=I.g[1],E=I.g[2];var T=I.g[3],v=y+(T^_&(E^T))+w[0]+3614090360&4294967295;y=_+(v<<7&4294967295|v>>>25),v=T+(E^y&(_^E))+w[1]+3905402710&4294967295,T=y+(v<<12&4294967295|v>>>20),v=E+(_^T&(y^_))+w[2]+606105819&4294967295,E=T+(v<<17&4294967295|v>>>15),v=_+(y^E&(T^y))+w[3]+3250441966&4294967295,_=E+(v<<22&4294967295|v>>>10),v=y+(T^_&(E^T))+w[4]+4118548399&4294967295,y=_+(v<<7&4294967295|v>>>25),v=T+(E^y&(_^E))+w[5]+1200080426&4294967295,T=y+(v<<12&4294967295|v>>>20),v=E+(_^T&(y^_))+w[6]+2821735955&4294967295,E=T+(v<<17&4294967295|v>>>15),v=_+(y^E&(T^y))+w[7]+4249261313&4294967295,_=E+(v<<22&4294967295|v>>>10),v=y+(T^_&(E^T))+w[8]+1770035416&4294967295,y=_+(v<<7&4294967295|v>>>25),v=T+(E^y&(_^E))+w[9]+2336552879&4294967295,T=y+(v<<12&4294967295|v>>>20),v=E+(_^T&(y^_))+w[10]+4294925233&4294967295,E=T+(v<<17&4294967295|v>>>15),v=_+(y^E&(T^y))+w[11]+2304563134&4294967295,_=E+(v<<22&4294967295|v>>>10),v=y+(T^_&(E^T))+w[12]+1804603682&4294967295,y=_+(v<<7&4294967295|v>>>25),v=T+(E^y&(_^E))+w[13]+4254626195&4294967295,T=y+(v<<12&4294967295|v>>>20),v=E+(_^T&(y^_))+w[14]+2792965006&4294967295,E=T+(v<<17&4294967295|v>>>15),v=_+(y^E&(T^y))+w[15]+1236535329&4294967295,_=E+(v<<22&4294967295|v>>>10),v=y+(E^T&(_^E))+w[1]+4129170786&4294967295,y=_+(v<<5&4294967295|v>>>27),v=T+(_^E&(y^_))+w[6]+3225465664&4294967295,T=y+(v<<9&4294967295|v>>>23),v=E+(y^_&(T^y))+w[11]+643717713&4294967295,E=T+(v<<14&4294967295|v>>>18),v=_+(T^y&(E^T))+w[0]+3921069994&4294967295,_=E+(v<<20&4294967295|v>>>12),v=y+(E^T&(_^E))+w[5]+3593408605&4294967295,y=_+(v<<5&4294967295|v>>>27),v=T+(_^E&(y^_))+w[10]+38016083&4294967295,T=y+(v<<9&4294967295|v>>>23),v=E+(y^_&(T^y))+w[15]+3634488961&4294967295,E=T+(v<<14&4294967295|v>>>18),v=_+(T^y&(E^T))+w[4]+3889429448&4294967295,_=E+(v<<20&4294967295|v>>>12),v=y+(E^T&(_^E))+w[9]+568446438&4294967295,y=_+(v<<5&4294967295|v>>>27),v=T+(_^E&(y^_))+w[14]+3275163606&4294967295,T=y+(v<<9&4294967295|v>>>23),v=E+(y^_&(T^y))+w[3]+4107603335&4294967295,E=T+(v<<14&4294967295|v>>>18),v=_+(T^y&(E^T))+w[8]+1163531501&4294967295,_=E+(v<<20&4294967295|v>>>12),v=y+(E^T&(_^E))+w[13]+2850285829&4294967295,y=_+(v<<5&4294967295|v>>>27),v=T+(_^E&(y^_))+w[2]+4243563512&4294967295,T=y+(v<<9&4294967295|v>>>23),v=E+(y^_&(T^y))+w[7]+1735328473&4294967295,E=T+(v<<14&4294967295|v>>>18),v=_+(T^y&(E^T))+w[12]+2368359562&4294967295,_=E+(v<<20&4294967295|v>>>12),v=y+(_^E^T)+w[5]+4294588738&4294967295,y=_+(v<<4&4294967295|v>>>28),v=T+(y^_^E)+w[8]+2272392833&4294967295,T=y+(v<<11&4294967295|v>>>21),v=E+(T^y^_)+w[11]+1839030562&4294967295,E=T+(v<<16&4294967295|v>>>16),v=_+(E^T^y)+w[14]+4259657740&4294967295,_=E+(v<<23&4294967295|v>>>9),v=y+(_^E^T)+w[1]+2763975236&4294967295,y=_+(v<<4&4294967295|v>>>28),v=T+(y^_^E)+w[4]+1272893353&4294967295,T=y+(v<<11&4294967295|v>>>21),v=E+(T^y^_)+w[7]+4139469664&4294967295,E=T+(v<<16&4294967295|v>>>16),v=_+(E^T^y)+w[10]+3200236656&4294967295,_=E+(v<<23&4294967295|v>>>9),v=y+(_^E^T)+w[13]+681279174&4294967295,y=_+(v<<4&4294967295|v>>>28),v=T+(y^_^E)+w[0]+3936430074&4294967295,T=y+(v<<11&4294967295|v>>>21),v=E+(T^y^_)+w[3]+3572445317&4294967295,E=T+(v<<16&4294967295|v>>>16),v=_+(E^T^y)+w[6]+76029189&4294967295,_=E+(v<<23&4294967295|v>>>9),v=y+(_^E^T)+w[9]+3654602809&4294967295,y=_+(v<<4&4294967295|v>>>28),v=T+(y^_^E)+w[12]+3873151461&4294967295,T=y+(v<<11&4294967295|v>>>21),v=E+(T^y^_)+w[15]+530742520&4294967295,E=T+(v<<16&4294967295|v>>>16),v=_+(E^T^y)+w[2]+3299628645&4294967295,_=E+(v<<23&4294967295|v>>>9),v=y+(E^(_|~T))+w[0]+4096336452&4294967295,y=_+(v<<6&4294967295|v>>>26),v=T+(_^(y|~E))+w[7]+1126891415&4294967295,T=y+(v<<10&4294967295|v>>>22),v=E+(y^(T|~_))+w[14]+2878612391&4294967295,E=T+(v<<15&4294967295|v>>>17),v=_+(T^(E|~y))+w[5]+4237533241&4294967295,_=E+(v<<21&4294967295|v>>>11),v=y+(E^(_|~T))+w[12]+1700485571&4294967295,y=_+(v<<6&4294967295|v>>>26),v=T+(_^(y|~E))+w[3]+2399980690&4294967295,T=y+(v<<10&4294967295|v>>>22),v=E+(y^(T|~_))+w[10]+4293915773&4294967295,E=T+(v<<15&4294967295|v>>>17),v=_+(T^(E|~y))+w[1]+2240044497&4294967295,_=E+(v<<21&4294967295|v>>>11),v=y+(E^(_|~T))+w[8]+1873313359&4294967295,y=_+(v<<6&4294967295|v>>>26),v=T+(_^(y|~E))+w[15]+4264355552&4294967295,T=y+(v<<10&4294967295|v>>>22),v=E+(y^(T|~_))+w[6]+2734768916&4294967295,E=T+(v<<15&4294967295|v>>>17),v=_+(T^(E|~y))+w[13]+1309151649&4294967295,_=E+(v<<21&4294967295|v>>>11),v=y+(E^(_|~T))+w[4]+4149444226&4294967295,y=_+(v<<6&4294967295|v>>>26),v=T+(_^(y|~E))+w[11]+3174756917&4294967295,T=y+(v<<10&4294967295|v>>>22),v=E+(y^(T|~_))+w[2]+718787259&4294967295,E=T+(v<<15&4294967295|v>>>17),v=_+(T^(E|~y))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(E+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var _=y-this.blockSize,w=this.B,E=this.h,T=0;T<y;){if(E==0)for(;T<=_;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<y;)if(w[E++]=I.charCodeAt(T++),E==this.blockSize){i(this,w),E=0;break}}else for(;T<y;)if(w[E++]=I[T++],E==this.blockSize){i(this,w),E=0;break}}this.h=E,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var _=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=_&255,_/=256;for(this.u(I),I=Array(16),y=_=0;4>y;++y)for(var w=0;32>w;w+=8)I[_++]=this.g[y]>>>w&255;return I};function s(I,y){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=y(I)}function o(I,y){this.h=y;for(var _=[],w=!0,E=I.length-1;0<=E;E--){var T=I[E]|0;w&&T==y||(_[E]=T,w=!1)}this.g=_}var a={};function u(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return N(l(-I));for(var y=[],_=1,w=0;I>=_;w++)y[w]=I/_|0,_*=4294967296;return new o(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return N(f(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),w=p,E=0;E<I.length;E+=8){var T=Math.min(8,I.length-E),v=parseInt(I.substring(E,E+T),y);8>T?(T=l(Math.pow(y,T)),w=w.j(T).add(l(v))):(w=w.j(_),w=w.add(l(v)))}return w}var p=u(0),m=u(1),D=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-N(this).m();for(var I=0,y=1,_=0;_<this.g.length;_++){var w=this.i(_);I+=(0<=w?w:4294967296+w)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(P(this))return"-"+N(this).toString(I);for(var y=l(Math.pow(I,6)),_=this,w="";;){var E=W(_,y).g;_=k(_,E.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=E,A(_))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function P(I){return I.h==-1}t.l=function(I){return I=k(this,I),P(I)?-1:A(I)?0:1};function N(I){for(var y=I.g.length,_=[],w=0;w<y;w++)_[w]=~I.g[w];return new o(_,~I.h).add(m)}t.abs=function(){return P(this)?N(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),_=[],w=0,E=0;E<=y;E++){var T=w+(this.i(E)&65535)+(I.i(E)&65535),v=(T>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=v>>>16,T&=65535,v&=65535,_[E]=v<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function k(I,y){return I.add(N(y))}t.j=function(I){if(A(this)||A(I))return p;if(P(this))return P(I)?N(this).j(N(I)):N(N(this).j(I));if(P(I))return N(this.j(N(I)));if(0>this.l(D)&&0>I.l(D))return l(this.m()*I.m());for(var y=this.g.length+I.g.length,_=[],w=0;w<2*y;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var T=this.i(w)>>>16,v=this.i(w)&65535,bn=I.i(E)>>>16,no=I.i(E)&65535;_[2*w+2*E]+=v*no,J(_,2*w+2*E),_[2*w+2*E+1]+=T*no,J(_,2*w+2*E+1),_[2*w+2*E+1]+=v*bn,J(_,2*w+2*E+1),_[2*w+2*E+2]+=T*bn,J(_,2*w+2*E+2)}for(w=0;w<y;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=y;w<2*y;w++)_[w]=0;return new o(_,0)};function J(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function z(I,y){this.g=I,this.h=y}function W(I,y){if(A(y))throw Error("division by zero");if(A(I))return new z(p,p);if(P(I))return y=W(N(I),y),new z(N(y.g),N(y.h));if(P(y))return y=W(I,N(y)),new z(N(y.g),y.h);if(30<I.g.length){if(P(I)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,w=y;0>=w.l(I);)_=xe(_),w=xe(w);var E=fe(_,1),T=fe(w,1);for(w=fe(w,2),_=fe(_,2);!A(w);){var v=T.add(w);0>=v.l(I)&&(E=E.add(_),T=v),w=fe(w,1),_=fe(_,1)}return y=k(I,E.j(y)),new z(E,y)}for(E=p;0<=I.l(y);){for(_=Math.max(1,Math.floor(I.m()/y.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=l(_),v=T.j(y);P(v)||0<v.l(I);)_-=w,T=l(_),v=T.j(y);A(T)&&(T=m),E=E.add(T),I=k(I,v)}return new z(E,I)}t.A=function(I){return W(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)&I.i(w);return new o(_,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)|I.i(w);return new o(_,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)^I.i(w);return new o(_,this.h^I.h)};function xe(I){for(var y=I.g.length+1,_=[],w=0;w<y;w++)_[w]=I.i(w)<<1|I.i(w-1)>>>31;return new o(_,I.h)}function fe(I,y){var _=y>>5;y%=32;for(var w=I.g.length-_,E=[],T=0;T<w;T++)E[T]=0<y?I.i(T+_)>>>y|I.i(T+_+1)<<32-y:I.i(T+_);return new o(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gb=pb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Hm=pb.Integer=o}).apply(typeof fb<"u"?fb:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zn={};var mb,yb,vb,_b,wb,Ib,Eb,Cb,Tb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in h))break e;h=h[C]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,g=!1,C={next:function(){if(!g&&h<c.length){var b=h++;return{value:d(b,c[b]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function D(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(g,C,b){for(var M=Array(arguments.length-2),me=2;me<arguments.length;me++)M[me-2]=arguments[me];return d.prototype[C].apply(g,M)}}function P(c){let d=c.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function N(c,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let C=c.length||0,b=g.length||0;c.length=C+b;for(let M=0;M<b;M++)c[C+M]=g[M]}else c.push(g)}}class k{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var xe=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function fe(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function I(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function y(c){let d={};for(let h in c)d[h]=c[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)c[h]=g[h];for(let b=0;b<_.length;b++)h=_[b],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function E(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function T(c){a.setTimeout(()=>{throw c},0)}function v(){var c=Hd;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class bn{constructor(){this.h=this.g=null}add(d,h){let g=no.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var no=new k(()=>new MS,c=>c.reset());class MS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ro,io=!1,Hd=new bn,bv=()=>{let c=a.Promise.resolve(void 0);ro=()=>{c.then(PS)}};var PS=()=>{for(var c;c=v();){try{c.h.call(c.g)}catch(h){T(h)}var d=no;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}io=!1};function Qn(){this.s=this.s,this.C=this.C}Qn.prototype.s=!1,Qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var xS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function so(c,d){if(Ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xe){e:{try{W(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:OS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&so.aa.h.call(this)}}A(so,Ge);var OS={2:"touch",3:"pen",4:"mouse"};so.prototype.h=function(){so.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oo="closure_listenable_"+(1e6*Math.random()|0),kS=0;function FS(c,d,h,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++kS,this.da=this.fa=!1}function ac(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cc(c){this.src=c,this.g={},this.h=0}cc.prototype.add=function(c,d,h,g,C){var b=c.toString();c=this.g[b],c||(c=this.g[b]=[],this.h++);var M=zd(c,d,g,C);return-1<M?(d=c[M],h||(d.fa=!1)):(d=new FS(d,this.src,b,!!g,C),d.fa=h,c.push(d)),d};function Gd(c,d){var h=d.type;if(h in c.g){var g=c.g[h],C=Array.prototype.indexOf.call(g,d,void 0),b;(b=0<=C)&&Array.prototype.splice.call(g,C,1),b&&(ac(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function zd(c,d,h,g){for(var C=0;C<c.length;++C){var b=c[C];if(!b.da&&b.listener==d&&b.capture==!!h&&b.ha==g)return C}return-1}var Wd="closure_lm_"+(1e6*Math.random()|0),Kd={};function Sv(c,d,h,g,C){if(g&&g.once)return Rv(c,d,h,g,C);if(Array.isArray(d)){for(var b=0;b<d.length;b++)Sv(c,d[b],h,g,C);return null}return h=Xd(h),c&&c[oo]?c.K(d,h,l(g)?!!g.capture:!!g,C):Av(c,d,h,!1,g,C)}function Av(c,d,h,g,C,b){if(!d)throw Error("Invalid event type");var M=l(C)?!!C.capture:!!C,me=Yd(c);if(me||(c[Wd]=me=new cc(c)),h=me.add(d,h,g,M,b),h.proxy)return h;if(g=LS(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)xS||(C=M),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(Mv(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function LS(){function c(h){return d.call(c.src,c.listener,h)}let d=VS;return c}function Rv(c,d,h,g,C){if(Array.isArray(d)){for(var b=0;b<d.length;b++)Rv(c,d[b],h,g,C);return null}return h=Xd(h),c&&c[oo]?c.L(d,h,l(g)?!!g.capture:!!g,C):Av(c,d,h,!0,g,C)}function Nv(c,d,h,g,C){if(Array.isArray(d))for(var b=0;b<d.length;b++)Nv(c,d[b],h,g,C);else g=l(g)?!!g.capture:!!g,h=Xd(h),c&&c[oo]?(c=c.i,d=String(d).toString(),d in c.g&&(b=c.g[d],h=zd(b,h,g,C),-1<h&&(ac(b[h]),Array.prototype.splice.call(b,h,1),b.length==0&&(delete c.g[d],c.h--)))):c&&(c=Yd(c))&&(d=c.g[d.toString()],c=-1,d&&(c=zd(d,h,g,C)),(h=-1<c?d[c]:null)&&Qd(h))}function Qd(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[oo])Gd(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(Mv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Yd(d))?(Gd(h,c),h.h==0&&(h.src=null,d[Wd]=null)):ac(c)}}}function Mv(c){return c in Kd?Kd[c]:Kd[c]="on"+c}function VS(c,d){if(c.da)c=!0;else{d=new so(d,this);var h=c.listener,g=c.ha||c.src;c.fa&&Qd(c),c=h.call(g,d)}return c}function Yd(c){return c=c[Wd],c instanceof cc?c:null}var Jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xd(c){return typeof c=="function"?c:(c[Jd]||(c[Jd]=function(d){return c.handleEvent(d)}),c[Jd])}function ze(){Qn.call(this),this.i=new cc(this),this.M=this,this.F=null}A(ze,Qn),ze.prototype[oo]=!0,ze.prototype.removeEventListener=function(c,d,h,g){Nv(this,c,d,h,g)};function st(c,d){var h,g=c.F;if(g)for(h=[];g;g=g.F)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Ge(d,c);else if(d instanceof Ge)d.target=d.target||c;else{var C=d;d=new Ge(g,c),w(d,C)}if(C=!0,h)for(var b=h.length-1;0<=b;b--){var M=d.g=h[b];C=uc(M,g,!0,d)&&C}if(M=d.g=c,C=uc(M,g,!0,d)&&C,C=uc(M,g,!1,d)&&C,h)for(b=0;b<h.length;b++)M=d.g=h[b],C=uc(M,g,!1,d)&&C}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],g=0;g<h.length;g++)ac(h[g]);delete c.g[d],c.h--}}this.F=null},ze.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},ze.prototype.L=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function uc(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,b=0;b<d.length;++b){var M=d[b];if(M&&!M.da&&M.capture==h){var me=M.listener,je=M.ha||M.src;M.fa&&Gd(c.i,M),C=me.call(je,g)!==!1&&C}}return C&&!g.defaultPrevented}function Pv(c,d,h){if(typeof c=="function")h&&(c=m(c,h));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function xv(c){c.g=Pv(()=>{c.g=null,c.i&&(c.i=!1,xv(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class US extends Qn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(c){Qn.call(this),this.h=c,this.g={}}A(ao,Qn);var Ov=[];function kv(c){fe(c.g,function(d,h){this.g.hasOwnProperty(h)&&Qd(d)},c),c.g={}}ao.prototype.N=function(){ao.aa.N.call(this),kv(this)},ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zd=a.JSON.stringify,jS=a.JSON.parse,BS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function eh(){}eh.prototype.h=null;function Fv(c){return c.h||(c.h=c.i())}function Lv(){}var co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function th(){Ge.call(this,"d")}A(th,Ge);function nh(){Ge.call(this,"c")}A(nh,Ge);var xr={},Vv=null;function lc(){return Vv=Vv||new ze}xr.La="serverreachability";function Uv(c){Ge.call(this,xr.La,c)}A(Uv,Ge);function uo(c){let d=lc();st(d,new Uv(d))}xr.STAT_EVENT="statevent";function jv(c,d){Ge.call(this,xr.STAT_EVENT,c),this.stat=d}A(jv,Ge);function ot(c){let d=lc();st(d,new jv(d,c))}xr.Ma="timingevent";function Bv(c,d){Ge.call(this,xr.Ma,c),this.size=d}A(Bv,Ge);function lo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ho(){this.g=!0}ho.prototype.xa=function(){this.g=!1};function $S(c,d,h,g,C,b){c.info(function(){if(c.g)if(b)for(var M="",me=b.split("&"),je=0;je<me.length;je++){var ae=me[je].split("=");if(1<ae.length){var We=ae[0];ae=ae[1];var Ke=We.split("_");M=2<=Ke.length&&Ke[1]=="type"?M+(We+"="+ae+"&"):M+(We+"=redacted&")}}else M=null;else M=b;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+M})}function qS(c,d,h,g,C,b,M){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+b+" "+M})}function Ai(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+GS(c,h)+(g?" "+g:"")})}function HS(c,d){c.info(function(){return"TIMEOUT: "+d})}ho.prototype.info=function(){};function GS(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var g=h[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var b=C[0];if(b!="noop"&&b!="stop"&&b!="close")for(var M=1;M<C.length;M++)C[M]=""}}}}return Zd(h)}catch{return d}}var dc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$v={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rh;function hc(){}A(hc,eh),hc.prototype.g=function(){return new XMLHttpRequest},hc.prototype.i=function(){return{}},rh=new hc;function Yn(c,d,h,g){this.j=c,this.i=d,this.l=h,this.R=g||1,this.U=new ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qv}function qv(){this.i=null,this.g="",this.h=!1}var Hv={},ih={};function sh(c,d,h){c.L=1,c.v=mc(Sn(d)),c.m=h,c.P=!0,Gv(c,null)}function Gv(c,d){c.F=Date.now(),fc(c),c.A=Sn(c.v);var h=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),s_(h.i,"t",g),c.C=0,h=c.j.J,c.h=new qv,c.g=C_(c.j,h?d:null,!c.m),0<c.O&&(c.M=new US(m(c.Y,c,c.g),c.O)),d=c.U,h=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Ov[0]=C.toString()),C=Ov);for(var b=0;b<C.length;b++){var M=Sv(h,C[b],g||d.handleEvent,!1,d.h||d);if(!M)break;d.g[M.key]=M}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),uo(),$S(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;let d=this.M;d&&An(c)==3?d.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{let Ke=An(this.g);var d=this.g.Ba();let Mi=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||h_(this.g)))){this.J||Ke!=4||d==7||(d==8||0>=Mi?uo(3):uo(2)),oh(this);var h=this.g.Z();this.X=h;t:if(zv(this)){var g=h_(this.g);c="";var C=g.length,b=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),fo(this);var M="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(b&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=h==200,qS(this.i,this.u,this.A,this.l,this.R,Ke,h),this.o){if(this.T&&!this.K){t:{if(this.g){var me,je=this.g;if((me=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(me)){var ae=me;break t}}ae=null}if(h=ae)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ah(this,h);else{this.o=!1,this.s=3,ot(12),Or(this),fo(this);break e}}if(this.P){h=!0;let Bt;for(;!this.J&&this.C<M.length;)if(Bt=zS(this,M),Bt==ih){Ke==4&&(this.s=4,ot(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Hv){this.s=4,ot(15),Ai(this.i,this.l,M,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,Bt,null),ah(this,Bt);if(zv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||M.length!=0||this.h.h||(this.s=1,ot(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,M,"[Invalid Chunked Response]"),Or(this),fo(this);else if(0<M.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),fh(We),We.M=!0,ot(11))}}else Ai(this.i,this.l,M,null),ah(this,M);Ke==4&&Or(this),this.o&&!this.J&&(Ke==4?__(this.j,this):(this.o=!1,fc(this)))}else uA(this.g),h==400&&0<M.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Or(this),fo(this)}}}catch{}finally{}};function zv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zS(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?ih:(h=Number(d.substring(h,g)),isNaN(h)?Hv:(g+=1,g+h>d.length?ih:(d=d.slice(g,g+h),c.C=g+h,d)))}Yn.prototype.cancel=function(){this.J=!0,Or(this)};function fc(c){c.S=Date.now()+c.I,Wv(c,c.I)}function Wv(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=lo(m(c.ba,c),d)}function oh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(HS(this.i,this.A),this.L!=2&&(uo(),ot(17)),Or(this),this.s=2,fo(this)):Wv(this,this.S-c)};function fo(c){c.j.G==0||c.J||__(c.j,c)}function Or(c){oh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,kv(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function ah(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||ch(h.h,c))){if(!c.K&&ch(h.h,c)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Ic(h),_c(h);else break e;hh(h),ot(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=lo(m(h.Za,h),6e3));if(1>=Yv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Fr(h,11)}else if((c.K||h.g==c)&&Ic(h),!J(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let ae=C[d];if(h.T=ae[0],ae=ae[1],h.G==2)if(ae[0]=="c"){h.K=ae[1],h.ia=ae[2];let We=ae[3];We!=null&&(h.la=We,h.j.info("VER="+h.la));let Ke=ae[4];Ke!=null&&(h.Aa=Ke,h.j.info("SVER="+h.Aa));let Mi=ae[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(g=1.5*Mi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Bt=c.g;if(Bt){let Cc=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cc){var b=g.h;b.g||Cc.indexOf("spdy")==-1&&Cc.indexOf("quic")==-1&&Cc.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(uh(b,b.h),b.h=null))}if(g.D){let ph=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;ph&&(g.ya=ph,_e(g.I,g.D,ph))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var M=c;if(g.qa=E_(g,g.J?g.ia:null,g.W),M.K){Jv(g.h,M);var me=M,je=g.L;je&&(me.I=je),me.B&&(oh(me),fc(me)),g.g=M}else y_(g);0<h.i.length&&wc(h)}else ae[0]!="stop"&&ae[0]!="close"||Fr(h,7);else h.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Fr(h,7):dh(h):ae[0]!="noop"&&h.l&&h.l.ta(ae),h.v=0)}}uo(4)}catch{}}var WS=class{constructor(c,d){this.g=c,this.map=d}};function Kv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yv(c){return c.h?1:c.g?c.g.size:0}function ch(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function uh(c,d){c.g?c.g.add(d):c.h=d}function Jv(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Kv.prototype.cancel=function(){if(this.i=Xv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Xv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return P(c.i)}function KS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,g=0;g<h;g++)d.push(c[g]);return d}d=[],h=0;for(g in c)d[h++]=c[g];return d}function QS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let g in c)d[h++]=g;return d}}}function Zv(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=QS(c),g=KS(c),C=g.length,b=0;b<C;b++)d.call(void 0,g[b],h&&h[b],c)}var e_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YS(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var g=c[h].indexOf("="),C=null;if(0<=g){var b=c[h].substring(0,g);C=c[h].substring(g+1)}else b=c[h];d(b,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function kr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof kr){this.h=c.h,pc(this,c.j),this.o=c.o,this.g=c.g,gc(this,c.s),this.l=c.l;var d=c.i,h=new mo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),t_(this,h),this.m=c.m}else c&&(d=String(c).match(e_))?(this.h=!1,pc(this,d[1]||"",!0),this.o=po(d[2]||""),this.g=po(d[3]||"",!0),gc(this,d[4]),this.l=po(d[5]||"",!0),t_(this,d[6]||"",!0),this.m=po(d[7]||"")):(this.h=!1,this.i=new mo(null,this.h))}kr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(go(d,n_,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(go(d,n_,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(go(h,h.charAt(0)=="/"?ZS:XS,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",go(h,tA)),c.join("")};function Sn(c){return new kr(c)}function pc(c,d,h){c.j=h?po(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function gc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function t_(c,d,h){d instanceof mo?(c.i=d,nA(c.i,c.h)):(h||(d=go(d,eA)),c.i=new mo(d,c.h))}function _e(c,d,h){c.i.set(d,h)}function mc(c){return _e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function po(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function go(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,JS),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function JS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var n_=/[#\/\?@]/g,XS=/[#\?:]/g,ZS=/[#\?]/g,eA=/[#\?@]/g,tA=/#/g;function mo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&YS(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=mo.prototype,t.add=function(c,d){Jn(this),this.i=null,c=Ri(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function r_(c,d){Jn(c),d=Ri(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function i_(c,d){return Jn(c),d=Ri(c,d),c.g.has(d)}t.forEach=function(c,d){Jn(this),this.g.forEach(function(h,g){h.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){Jn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=c[g];for(let b=0;b<C.length;b++)h.push(d[g])}return h},t.V=function(c){Jn(this);let d=[];if(typeof c=="string")i_(this,c)&&(d=d.concat(this.g.get(Ri(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Jn(this),this.i=null,c=Ri(this,c),i_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function s_(c,d,h){r_(c,d),0<h.length&&(c.i=null,c.g.set(Ri(c,d),P(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let b=encodeURIComponent(String(g)),M=this.V(g);for(g=0;g<M.length;g++){var C=b;M[g]!==""&&(C+="="+encodeURIComponent(String(M[g]))),c.push(C)}}return this.i=c.join("&")};function Ri(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function nA(c,d){d&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(r_(this,g),s_(this,C,h))},c)),c.j=d}function rA(c,d){let h=new ho;if(a.Image){let g=new Image;g.onload=D(Xn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=D(Xn,h,"TestLoadImage: error",!1,d,g),g.onabort=D(Xn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=D(Xn,h,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function iA(c,d){let h=new ho,g=new AbortController,C=setTimeout(()=>{g.abort(),Xn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(b=>{clearTimeout(C),b.ok?Xn(h,"TestPingServer: ok",!0,d):Xn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Xn(h,"TestPingServer: error",!1,d)})}function Xn(c,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function sA(){this.g=new BS}function oA(c,d,h){let g=h||"";try{Zv(c,function(C,b){let M=C;l(C)&&(M=Zd(C)),d.push(g+b+"="+encodeURIComponent(M))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function yo(c){this.l=c.Ub||null,this.j=c.eb||!1}A(yo,eh),yo.prototype.g=function(){return new yc(this.l,this.j)},yo.prototype.i=function(c){return function(){return c}}({});function yc(c,d){ze.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(yc,ze),t=yc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,_o(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function o_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?vo(this):_o(this),this.readyState==3&&o_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,vo(this))},t.Qa=function(c){this.g&&(this.response=c,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_o(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function _o(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function a_(c){let d="";return fe(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function lh(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=a_(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):_e(c,d,h))}function De(c){ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(De,ze);var aA=/^https?$/i,cA=["POST","PUT"];t=De.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rh.g(),this.v=this.o?Fv(this.o):Fv(rh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(b){c_(this,b);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let b of g.keys())h.set(b,g.get(b));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(b=>b.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cA,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,M]of h)this.g.setRequestHeader(b,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{d_(this),this.u=!0,this.g.send(c),this.u=!1}catch(b){c_(this,b)}};function c_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,u_(c),vc(c)}function u_(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),vc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vc(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?l_(this):this.bb())},t.bb=function(){l_(this)};function l_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Pv(c.Ea,0,c);else if(st(c,"readystatechange"),An(c)==4){c.h=!1;try{let M=c.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=M===0){var C=String(c.D).match(e_)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!aA.test(C?C.toLowerCase():"")}h=g}if(h)st(c,"complete"),st(c,"success");else{c.m=6;try{var b=2<An(c)?c.g.statusText:""}catch{b=""}c.l=b+" ["+c.Z()+"]",u_(c)}}finally{vc(c)}}}}function vc(c,d){if(c.g){d_(c);let h=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||st(c,"ready");try{h.onreadystatechange=g}catch{}}}function d_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),jS(d)}};function h_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uA(c){let d={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(J(c[g]))continue;var h=E(c[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let b=d[C]||[];d[C]=b,b.push(h)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function f_(c){this.Aa=0,this.i=[],this.j=new ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wo("baseRetryDelayMs",5e3,c),this.cb=wo("retryDelaySeedMs",1e4,c),this.Wa=wo("forwardChannelMaxRetries",2,c),this.wa=wo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Kv(c&&c.concurrentRequestLimit),this.Da=new sA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=f_.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,g){ot(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=E_(this,null,this.W),wc(this)};function dh(c){if(p_(c),c.G==3){var d=c.U++,h=Sn(c.I);if(_e(h,"SID",c.K),_e(h,"RID",d),_e(h,"TYPE","terminate"),Io(c,h),d=new Yn(c,c.j,d),d.L=2,d.v=mc(Sn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=C_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),fc(d)}I_(c)}function _c(c){c.g&&(fh(c),c.g.cancel(),c.g=null)}function p_(c){_c(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ic(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function wc(c){if(!Qv(c.h)&&!c.s){c.s=!0;var d=c.Ga;ro||bv(),io||(ro(),io=!0),Hd.add(d,c),c.B=0}}function lA(c,d){return Yv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=lo(m(c.Ga,c,d),w_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Yn(this,this.j,c),b=this.o;if(this.S&&(b?(b=y(b),w(b,this.S)):b=this.S),this.m!==null||this.O||(C.H=b,b=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=m_(this,C,d),h=Sn(this.I),_e(h,"RID",c),_e(h,"CVER",22),this.D&&_e(h,"X-HTTP-Session-Id",this.D),Io(this,h),b&&(this.O?d="headers="+encodeURIComponent(String(a_(b)))+"&"+d:this.m&&lh(h,this.m,b)),uh(this.h,C),this.Ua&&_e(h,"TYPE","init"),this.P?(_e(h,"$req",d),_e(h,"SID","null"),C.T=!0,sh(C,h,null)):sh(C,h,d),this.G=2}}else this.G==3&&(c?g_(this,c):this.i.length==0||Qv(this.h)||g_(this))};function g_(c,d){var h;d?h=d.l:h=c.U++;let g=Sn(c.I);_e(g,"SID",c.K),_e(g,"RID",h),_e(g,"AID",c.T),Io(c,g),c.m&&c.o&&lh(g,c.m,c.o),h=new Yn(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=m_(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),uh(c.h,h),sh(h,g,d)}function Io(c,d){c.H&&fe(c.H,function(h,g){_e(d,g,h)}),c.l&&Zv({},function(h,g){_e(d,g,h)})}function m_(c,d,h){h=Math.min(c.i.length,h);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let b=-1;for(;;){let M=["count="+h];b==-1?0<h?(b=C[0].g,M.push("ofs="+b)):b=0:M.push("ofs="+b);let me=!0;for(let je=0;je<h;je++){let ae=C[je].g,We=C[je].map;if(ae-=b,0>ae)b=Math.max(0,C[je].g-100),me=!1;else try{oA(We,M,"req"+ae+"_")}catch{g&&g(We)}}if(me){g=M.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,g}function y_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ro||bv(),io||(ro(),io=!0),Hd.add(d,c),c.v=0}}function hh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=lo(m(c.Fa,c),w_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,v_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=lo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),_c(this),v_(this))};function fh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function v_(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Sn(c.qa);_e(d,"RID","rpc"),_e(d,"SID",c.K),_e(d,"AID",c.T),_e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&_e(d,"TO",c.ja),_e(d,"TYPE","xmlhttp"),Io(c,d),c.m&&c.o&&lh(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=mc(Sn(d)),h.m=null,h.P=!0,Gv(h,c)}t.Za=function(){this.C!=null&&(this.C=null,_c(this),hh(this),ot(19))};function Ic(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function __(c,d){var h=null;if(c.g==d){Ic(c),fh(c),c.g=null;var g=2}else if(ch(c.h,d))h=d.D,Jv(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=lc(),st(g,new Bv(g,h)),wc(c)}else y_(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&lA(c,d)||g==2&&hh(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),C){case 1:Fr(c,5);break;case 4:Fr(c,10);break;case 3:Fr(c,6);break;default:Fr(c,2)}}}function w_(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Fr(c,d){if(c.j.info("Error code "+d),d==2){var h=m(c.fb,c),g=c.Xa;let C=!g;g=new kr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pc(g,"https"),mc(g),C?rA(g.toString(),h):iA(g.toString(),h)}else ot(2);c.G=0,c.l&&c.l.sa(d),I_(c),p_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function I_(c){if(c.G=0,c.ka=[],c.l){let d=Xv(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function E_(c,d,h){var g=h instanceof kr?Sn(h):new kr(h);if(g.g!="")d&&(g.g=d+"."+g.g),gc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var b=new kr(null);g&&pc(b,g),d&&(b.g=d),C&&gc(b,C),h&&(b.l=h),g=b}return h=c.D,d=c.ya,h&&d&&_e(g,h,d),_e(g,"VER",c.la),Io(c,g),g}function C_(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new De(new yo({eb:h})):new De(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T_(){}t=T_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ec(){}Ec.prototype.g=function(c,d){return new _t(c,d)};function _t(c,d){ze.call(this),this.g=new f_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ni(this)}A(_t,ze),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){dh(this.g)},_t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=Zd(c),c=h);d.i.push(new WS(d.Ya++,c)),d.G==3&&wc(d)},_t.prototype.N=function(){this.g.l=null,delete this.j,dh(this.g),delete this.g,_t.aa.N.call(this)};function D_(c){th.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(D_,th);function b_(){nh.call(this),this.status=1}A(b_,nh);function Ni(c){this.g=c}A(Ni,T_),Ni.prototype.ua=function(){st(this.g,"a")},Ni.prototype.ta=function(c){st(this.g,new D_(c))},Ni.prototype.sa=function(c){st(this.g,new b_)},Ni.prototype.ra=function(){st(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,Tb=zn.createWebChannelTransport=function(){return new Ec},Cb=zn.getStatEventTarget=function(){return lc()},Eb=zn.Event=xr,Ib=zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dc.NO_ERROR=0,dc.TIMEOUT=8,dc.HTTP_ERROR=6,wb=zn.ErrorCode=dc,$v.COMPLETE="complete",_b=zn.EventType=$v,Lv.EventType=co,co.OPEN="a",co.CLOSE="b",co.ERROR="c",co.MESSAGE="d",ze.prototype.listen=ze.prototype.K,vb=zn.WebChannel=Lv,yb=zn.FetchXmlHttpFactory=yo,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,mb=zn.XhrIo=De}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});var Db="@firebase/firestore";var Ve=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");var Ba="10.12.1";var Us=new _n("@firebase/firestore");function At(t,...e){if(Us.logLevel<=oe.DEBUG){let n=e.map(dy);Us.debug(`Firestore (${Ba}): ${t}`,...n)}}function ly(t,...e){if(Us.logLevel<=oe.ERROR){let n=e.map(dy);Us.error(`Firestore (${Ba}): ${t}`,...n)}}function wj(t,...e){if(Us.logLevel<=oe.WARN){let n=e.map(dy);Us.warn(`Firestore (${Ba}): ${t}`,...n)}}function dy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function yt(t="Unexpected state"){let e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+t;throw ly(e),new Error(e)}function ja(t,e){t||yt()}var He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pe=class extends St{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var _d=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ve.UNAUTHENTICATED))}shutdown(){}},Wm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Km=class{constructor(e){this.t=e,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ja(typeof r.accessToken=="string"),new _d(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ja(e===null||typeof e=="string"),new Ve(e)}},Qm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ym=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,At("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ja(typeof n.token=="string"),this.R=n.token,new Jm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Ij(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Ij(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Nb(t,e){return t<e?-1:t>e?1:0}var ey=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&yt(),r===void 0?r=e.length-n:r>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Rr=class t extends ey{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Pe(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var wi=class t{constructor(e){this.path=e}static fromPath(e){return new t(Rr.fromString(e))}static fromName(e){return new t(Rr.fromString(e).popFirst(5))}static empty(){return new t(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Rr(e.slice()))}};var ty=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ty.UNKNOWN_ID=-1;function Mb(t){return t.name==="IndexedDbTransactionError"}function Ej(t){return t===0&&1/t==-1/0}var Cj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J5=[...Cj,"documentOverlays"],Tj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dj=Tj,X5=[...Dj,"indexConfiguration","indexState","indexEntries"];var js=class t{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();let e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wd=class t{constructor(e){this.comparator=e,this.data=new js(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Id(this.data.getIterator())}getIteratorFrom(e){return new Id(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Id=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ny=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Bs=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ny("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nb(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bs.EMPTY_BYTE_STRING=new Bs("");var bj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sj(t){if(ja(!!t),typeof t=="string"){let e=0,n=bj.exec(t);if(ja(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ed(t.seconds),nanos:Ed(t.nanos)}}function Ed(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Aj(t){return typeof t=="string"?Bs.fromBase64String(t):Bs.fromUint8Array(t)}var ry=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},iy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function Rj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var e8=new js(wi.comparator);var t8=new js(wi.comparator);var n8=new js(wi.comparator),r8=new wd(wi.comparator);var i8=new wd(Nb);var bb,re;(re=bb||(bb={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";var s8=new Hm([4294967295,4294967295],0);var Cd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ed(e.integerValue));else if("doubleValue"in e){let r=Ed(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ej(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Sj(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Aj(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Rj(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):yt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),wi.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Cd.bt=new Cd;var o8=new Uint8Array(0);var Tn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(41943040,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);function Gm(){return typeof document<"u"?document:null}var sy=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var oy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Nj(t,e){if(ly("AsyncQueue",`${e}: ${t}`),Mb(t))return new Pe(He.UNAVAILABLE,`${e}: ${t}`);throw t}var Sb,Ab;(Ab=Sb||(Sb={})).J_="default",Ab.Cache="cache";var ay=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ve.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>S(this,null,function*(){At("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(At("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(He.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Nj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Pb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Rb=new Map;function Mj(t,e,n,r){if(e===!0&&r===!0)throw new Pe(He.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yt()}function xj(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Pj(t);throw new Pe(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Td=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(He.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Dd=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Td({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pe(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Td(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zm;switch(r.type){case"firstParty":return new Ym(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Rb.get(n);r&&(At("ComponentProvider","Removing Datastore"),Rb.delete(n),r.terminate())}(this),Promise.resolve()}};function xb(t,e,n,r={}){var i;let s=(t=xj(t,Dd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&wj("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ve.MOCK_USER;else{a=Wl(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Pe(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ve(l)}t._authCredentials=new Wm(new _d(a,u))}}var cy=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new sy(this,"async_queue_retry"),this.hu=()=>{let n=Gm();n&&At("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Gm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Nr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return S(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Mb(e))throw e;At("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ly("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=oy.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&yt()}verifyOperationInProgress(){}du(){return S(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var uy=class extends Dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new cy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Oj(this),this._firestoreClient.terminate()}};function Ob(t,e){let n=typeof t=="object"?t:Er(),r=typeof t=="string"?t:e||"(default)",i=hi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=zl("firestore");s&&xb(i,...s)}return i}function Oj(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new ry(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Pb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ay(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var a8=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){Ba=i})(En),In(new mt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new uy(new Km(r.getProvider("auth-internal")),new Xm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Pe(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iy(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ee(Db,"4.6.3",e),Ee(Db,"4.6.3","esm2017")})();var $a=class{constructor(e){return e}},kb="firestore",hy=class{constructor(){return pi(kb)}};var fy=new F("angularfire2.firestore-instances");function kj(t,e){let n=ks(kb,t,e);return n&&new $a(n)}function Fj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $a(r)}}var Lj={provide:hy,deps:[[new Me,fy]]},Vj={provide:$a,useFactory:kj,deps:[[new Me,fy],Qt]};function Fb(t,...e){return Ee("angularfire",$n.full,"fst"),ft([Vj,Lj,{provide:fy,useFactory:Fj(t),multi:!0,deps:[ne,$e,Tr,qn,[new Me,_i],[new Me,Cr],...e]}])}var Lb=Dr(Ob,!0);var Vb="@firebase/database",Ub="1.0.5";var dv="";function Uj(t){dv=t}var Iy=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Le(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Ey=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var y0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Iy(e)}}catch{}return new Ey},Ei=y0("localStorage"),Cy=y0("sessionStorage");var Gs=new _n("@firebase/database"),jj=function(){let t=1;return function(){return t++}}(),v0=function(t){let e=oD(t),n=new Hl;n.update(e);let r=n.digest();return Gl.encodeByteArray(r)},tc=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=tc.apply(null,r):typeof r=="object"?e+=Le(r):e+=r,e+=" "}return e},Ci=null,jb=!0,Bj=function(t,e){x(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Gs.logLevel=oe.VERBOSE,Ci=Gs.log.bind(Gs),e&&Cy.set("logging_enabled",!0)):typeof t=="function"?Ci=t:(Ci=null,Cy.remove("logging_enabled"))},nt=function(...t){if(jb===!0&&(jb=!1,Ci===null&&Cy.get("logging_enabled")===!0&&Bj(!0)),Ci){let e=tc.apply(null,t);Ci(e)}},nc=function(t){return function(...e){nt(t,...e)}},Ty=function(...t){let e="FIREBASE INTERNAL ERROR: "+tc(...t);Gs.error(e)},Kn=function(...t){let e=`FIREBASE FATAL ERROR: ${tc(...t)}`;throw Gs.error(e),new Error(e)},Rt=function(...t){let e="FIREBASE WARNING: "+tc(...t);Gs.warn(e)},$j=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},qj=function(t){if(yn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ws="[MIN_NAME]",Ti="[MAX_NAME]",eo=function(t,e){if(t===e)return 0;if(t===Ws||e===Ti)return-1;if(e===Ws||t===Ti)return 1;{let n=Bb(t),r=Bb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Hj=function(t,e){return t===e?0:t<e?-1:1},qa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Le(e))},hv=function(t){if(typeof t!="object"||t===null)return Le(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Le(e[r]),n+=":",n+=hv(t[e[r]]);return n+="}",n},w0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function jt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var I0=function(t){x(!_0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(u=n;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let f=l.join(""),p="";for(u=0;u<64;u+=8){let m=parseInt(f.substr(u,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},Gj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var Wj=new RegExp("^-?(0*)\\d{1,10}$"),Kj=-2147483648,Qj=2147483647,Bb=function(t){if(Wj.test(t)){let e=Number(t);if(e>=Kj&&e<=Qj)return e}return null},rc=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Rt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Yj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ka=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Dy=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var by=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}},Qa=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Sd="5",E0="v",C0="s",T0="r",D0="f",b0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,S0="ls",A0="p",Sy="ac",R0="websocket",N0="long_polling";var Ad=class{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ei.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ei.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Jj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function M0(t,e,n){x(typeof e=="string","typeof type must == string"),x(typeof n=="object","typeof params must == object");let r;if(e===R0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===N0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jj(t)&&(n.ns=t.namespace);let i=[];return jt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Ay=class{constructor(){this.counters_={}}incrementCounter(e,n=1){vn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YT(this.counters_)}};var py={},gy={};function fv(t){let e=t.toString();return py[e]||(py[e]=new Ay),py[e]}function Xj(t,e){let n=t.toString();return gy[n]||(gy[n]=e()),gy[n]}var Ry=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&rc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var $b="start",Zj="close",e2="pLPCommand",t2="pRTLPCB",P0="id",x0="pw",O0="ser",n2="cb",r2="seg",i2="ts",s2="d",o2="dframe",k0=1870,F0=30,a2=k0-F0,c2=25e3,u2=3e4,Ny=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nc(e),this.stats_=fv(n),this.urlFn=u=>(this.appCheckToken&&(u[Sy]=this.appCheckToken),M0(n,N0,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ry(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(u2)),qj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new My((...s)=>{let[o,a,u,l,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$b)this.id=a,this.password=u;else if(o===Zj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[$b]="t",r[O0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[n2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[E0]=Sd,this.transportSessionId&&(r[C0]=this.transportSessionId),this.lastSessionId&&(r[S0]=this.lastSessionId),this.applicationId&&(r[A0]=this.applicationId),this.appCheckToken&&(r[Sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&b0.test(location.hostname)&&(r[T0]=D0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return yn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Gj()&&!zj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Bg(n),i=w0(r,a2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(yn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[o2]="t",r[P0]=e,r[x0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},My=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,yn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=jj(),window[e2+this.uniqueCallbackIdentifier]=e,window[t2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nt("frame writing exception"),a.stack&&nt(a.stack),nt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[P0]=this.myID,e[x0]=this.myPW,e[O0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+F0+r.length<=k0;){let o=this.pendingSegs.shift();r=r+"&"+r2+i+"="+o.seg+"&"+i2+i+"="+o.ts+"&"+s2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(c2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){yn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var l2=16384,d2=45e3,Rd=null;typeof MozWebSocket<"u"?Rd=MozWebSocket:typeof WebSocket<"u"&&(Rd=WebSocket);var Ha=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nc(this.connId),this.stats_=fv(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[E0]=Sd,!yn()&&typeof location<"u"&&location.hostname&&b0.test(location.hostname)&&(a[T0]=D0),r&&(a[C0]=r),i&&(a[S0]=i),s&&(a[Sy]=s),o&&(a[A0]=o),M0(n,R0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ei.set("previous_websocket_failure",!0);try{let i;if(yn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Sd}/${dv}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Rd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Rd!==null&&!t.forceDisallow_}static previouslyFailed(){return Ei.isInMemoryStorage||Ei.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ei.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=xs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(x(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Le(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=w0(r,l2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(d2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),h2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ny,Ha]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ha&&Ha.isAvailable(),i=r&&!Ha.previouslyFailed();if(n.webSocketOnly&&(r||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ha];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),f2=6e4,p2=5e3,g2=10*1024,m2=100*1024,my="t",qb="d",y2="s",Hb="r",v2="e",Gb="o",zb="a",Wb="n",Kb="p",_2="h",Py=class{constructor(e,n,r,i,s,o,a,u,l,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nc("c:"+this.id+":"),this.transportManager_=new h2(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ka(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>m2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>g2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(my in e){let n=e[my];n===zb?this.upgradeIfSecondaryHealthy_():n===Hb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Gb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=qa("t",e),r=qa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=qa("t",e),r=qa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=qa(my,e);if(qb in e){let r=e[qb];if(n===_2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Wb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===y2?this.onConnectionShutdown_(r):n===Hb?this.onReset_(r):n===v2?Ty("Server Error: "+r):n===Gb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ty("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sd!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ka(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(f2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ka(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(p2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kb,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Nd=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Md=class{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Pd=class t extends Md{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ba()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return x(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Qb=32,Yb=768,ve=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ge(){return new ve("")}function ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pr(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ve(t.pieces_,e)}function L0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function w2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function V0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function U0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ve(e,0)}function Ue(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ve)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ve(n,0)}function ee(t){return t.pieceNum_>=t.pieces_.length}function Vt(t,e){let n=ie(t),r=ie(e);if(n===null)return e;if(n===r)return Vt(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function j0(t,e){if(Pr(t)!==Pr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Jt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pr(t)>Pr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var xy=class{constructor(e,n){this.errorPrefix_=n,this.parts_=V0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ra(this.parts_[r]);B0(this)}};function I2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ra(e),B0(t)}function E2(t){let e=t.parts_.pop();t.byteLength_-=Ra(e),t.parts_.length>0&&(t.byteLength_-=1)}function B0(t){if(t.byteLength_>Yb)throw new Error(t.errorPrefix_+"has a key path longer than "+Yb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Qb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qb+") or object contains a cycle "+Ii(t))}function Ii(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Oy=class t extends Md{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return x(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ga=1e3,C2=60*5*1e3,Jb=30*1e3,T2=1.3,D2=3e4,b2="server_kill",Xb=3,pv=(()=>{class t extends Nd{constructor(n,r,i,s,o,a,u,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=nc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ga,this.maxReconnectDelay_=C2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!yn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Oy.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Pd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Le(o)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new si,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let u=a.d;a.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,u=>{let l=u.d,f=u.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&vn(n,"w")){let i=ai(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||rD(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=nD(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Le(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Ty("Unrecognized action received from server: "+Le(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D2&&(this.reconnectDelay_=Ga),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*T2)}this.onConnectStatus_(!1)}establishConnection_(){return S(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,u=null,l=function(){u?u.close():(a=!0,i())},f=function(m){x(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(m)};this.realtime_={close:l,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,D]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=D&&D.token,u=new Py(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,A=>{Rt(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(b2)},o))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Rt(m),l())}}})}interrupt(n){nt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){nt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Sa(this.interruptReasons_)&&(this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>hv(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new ve(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){nt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xb&&(this.reconnectDelay_=Jb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){nt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";yn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+dv.replace(/\./g,"-")]=1,ba()?n["framework.cordova"]=1:Kl()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Pd.getInstance().currentlyOnline();return Sa(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),se=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ks=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new se(Ws,e),i=new se(Ws,n);return this.compare(r,i)!==0}minPost(){return se.MIN}};var bd,xd=class extends Ks{static get __EMPTY_NODE(){return bd}static set __EMPTY_NODE(e){bd=e}compare(e,n){return eo(e.name,n.name)}isDefinedOn(e){throw oi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(Ti,bd)}makePost(e,n){return x(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,bd)}toString(){return".key"}},zs=new xd;var qs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Yt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ut.EMPTY_NODE,this.right=o??Ut.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),ky=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Yt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ut=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qs(this.root_,null,this.comparator_,!0,e)}};Ut.EMPTY_NODE=new ky;function S2(t,e){return eo(t.name,e.name)}function gv(t,e){return eo(t,e)}var Fy;function A2(t){Fy=t}var $0=function(t){return typeof t=="number"?"number:"+I0(t):"string:"+t},q0=function(t){if(t.isLeafNode()){let e=t.val();x(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vn(e,".sv"),"Priority must be a string or number.")}else x(t===Fy||t.isEmpty(),"priority of unexpected type.");x(t===Fy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Zb,Qs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,x(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),q0(this.priorityNode_)}static set __childrenNodeConstructor(n){Zb=n}static get __childrenNodeConstructor(){return Zb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ee(n)?this:ie(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ie(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(x(i!==".priority"||Pr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+$0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=I0(this.value_):n+=this.value_,this.lazyHash_=v0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(x(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return x(s>=0,"Unknown leaf type: "+r),x(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),H0,G0;function R2(t){H0=t}function N2(t){G0=t}var Ly=class extends Ks{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?eo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Ti,new Qs("[PRIORITY-POST]",G0))}makePost(e,n){let r=H0(e);return new se(n,new Qs("[PRIORITY-POST]",r))}toString(){return".priority"}},it=new Ly;var M2=Math.log(2),Vy=class{constructor(e){let n=s=>parseInt(Math.log(s)/M2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Od=function(t,e,n,r){t.sort(e);let i=function(u,l){let f=l-u,p,m;if(f===0)return null;if(f===1)return p=t[u],m=n?n(p):p,new Yt(m,p.node,Yt.BLACK,null,null);{let D=parseInt(f/2,10)+u,A=i(u,D),P=i(D+1,l);return p=t[D],m=n?n(p):p,new Yt(m,p.node,Yt.BLACK,A,P)}},s=function(u){let l=null,f=null,p=t.length,m=function(A,P){let N=p-A,k=p;p-=A;let J=i(N+1,k),z=t[N],W=n?n(z):z;D(new Yt(W,z.node,P,null,J))},D=function(A){l?(l.left=A,l=A):(f=A,l=A)};for(let A=0;A<u.count;++A){let P=u.nextBitIsOne(),N=Math.pow(2,u.count-(A+1));P?m(N,Yt.BLACK):(m(N,Yt.BLACK),m(N,Yt.RED))}return f},o=new Vy(t.length),a=s(o);return new Ut(r||e,a)};var yy,$s={},Ys=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x($s&&it,"ChildrenNode.ts has not been loaded"),yy=yy||new t({".priority":$s},{".priority":it}),yy}get(e){let n=ai(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return vn(this.indexSet_,e.toString())}addIndex(e,n){x(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(se.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Od(r,e.getCompare()):a=$s;let u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;let f=Object.assign({},this.indexes_);return f[u]=a,new t(f,l)}addToIndexes(e,n){let r=Aa(this.indexes_,(i,s)=>{let o=ai(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===$s)if(o.isDefinedOn(e.node)){let a=[],u=n.getIterator(se.Wrap),l=u.getNext();for(;l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),Od(a,o.getCompare())}else return $s;else{let a=n.get(e.name),u=i;return a&&(u=u.remove(new se(e.name,a))),u.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Aa(this.indexes_,i=>{if(i===$s)return i;{let s=n.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new t(r,this.indexSet_)}};var za,Te=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&q0(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return za||(za=new t(new Ut(gv),null,Ys.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||za}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?za:r}}getChild(n){let r=ie(n);return r===null?this:this.getImmediateChild(r).getChild(Ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(x(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new se(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?za:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=ie(n);if(i===null)return r;{x(ie(n)!==".priority"||Pr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Ie(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(it,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let u in r)a[u]=r[u];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+$0(this.getPriority().val())+":"),this.forEachChild(it,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":v0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new se(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new se(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new se(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,se.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,se.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ic?-1:0}withIndex(n){if(n===zs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===zs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(it),s=r.getIterator(it),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===zs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Uy=class extends Te{constructor(){super(new Ut(gv),Te.EMPTY_NODE,Ys.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Te.EMPTY_NODE}isEmpty(){return!1}},ic=new Uy;Object.defineProperties(se,{MIN:{value:new se(Ws,Te.EMPTY_NODE)},MAX:{value:new se(Ti,ic)}});xd.__EMPTY_NODE=Te.EMPTY_NODE;Qs.__childrenNodeConstructor=Te;A2(ic);N2(ic);var P2=!0;function rt(t,e=null){if(t===null)return Te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),x(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Qs(n,rt(e))}if(!(t instanceof Array)&&P2){let n=[],r=!1;if(jt(t,(o,a)=>{if(o.substring(0,1)!=="."){let u=rt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new se(o,u)))}}),n.length===0)return Te.EMPTY_NODE;let s=Od(n,S2,o=>o.name,gv);if(r){let o=Od(n,it.getCompare());return new Te(s,rt(e),new Ys({".priority":o},{".priority":it}))}else return new Te(s,rt(e),Ys.Default)}else{let n=Te.EMPTY_NODE;return jt(t,(r,i)=>{if(vn(t,r)&&r.substring(0,1)!=="."){let s=rt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(rt(e))}}R2(rt);var jy=class extends Ks{constructor(e){super(),this.indexPath_=e,x(!ee(e)&&ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?eo(e.name,n.name):s}makePost(e,n){let r=rt(e),i=Te.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){let e=Te.EMPTY_NODE.updateChild(this.indexPath_,ic);return new se(Ti,e)}toString(){return V0(this.indexPath_,0).join("/")}};var By=class extends Ks{compare(e,n){let r=e.node.compareTo(n.node);return r===0?eo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){let r=rt(e);return new se(n,r)}toString(){return".value"}},x2=new By;function O2(t){return{type:"value",snapshotNode:t}}function k2(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function F2(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function e0(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function L2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var $y=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ti}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===it}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function t0(t){let e={};if(t.isDefault())return e;let n;if(t.index_===it?n="$priority":t.index_===x2?n="$value":t.index_===zs?n="$key":(x(t.index_ instanceof jy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Le(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Le(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function n0(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==it&&(e.i=t.index_.toString()),e}var qy=class t extends Nd{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=nc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let u=t0(e._queryParams);this.restRequest_(s+".json",u,(l,f)=>{let p=f;if(l===404&&(p=null,l=null),l===null&&this.onDataUpdate_(s,p,!1,r),ai(this.listens_,o)===a){let m;l?l===401?m="permission_denied":m="rest_error:"+l:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=t0(e._queryParams),r=e._path.toString(),i=new si;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ui(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=xs(a.responseText)}catch{Rt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else a.status!==401&&a.status!==404&&Rt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Hy=class{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function kd(){return{value:null,children:new Map}}function z0(t,e,n){if(ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ie(e);t.children.has(r)||t.children.set(r,kd());let i=t.children.get(r);e=Ie(e),z0(i,e,n)}}function Gy(t,e,n){t.value!==null?n(e,t.value):V2(t,(r,i)=>{let s=new ve(e.toString()+"/"+r);Gy(i,s,n)})}function V2(t,e){t.children.forEach((n,r)=>{e(r,n)})}var zy=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&jt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var r0=10*1e3,U2=30*1e3,j2=5*60*1e3,Wy=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zy(e);let r=r0+(U2-r0)*Math.random();Ka(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;jt(e,(i,s)=>{s>0&&vn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ka(this.reportStats_.bind(this),Math.floor(Math.random()*2*j2))}};var Wn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Wn||{});function W0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function K0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Q0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Ky=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Wn.ACK_USER_WRITE,this.source=W0()}operationForChild(e){if(ee(this.path)){if(this.affectedTree.value!=null)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ve(e));return new t(ge(),n,this.revert)}}else return x(ie(this.path)===e,"operationForChild called for unrelated child."),new t(Ie(this.path),this.affectedTree,this.revert)}};var Js=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Wn.OVERWRITE}operationForChild(e){return ee(this.path)?new t(this.source,ge(),this.snap.getImmediateChild(e)):new t(this.source,Ie(this.path),this.snap)}};var Fd=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Wn.MERGE}operationForChild(e){if(ee(this.path)){let n=this.children.subtree(new ve(e));return n.isEmpty()?null:n.value?new Js(this.source,ge(),n.value):new t(this.source,ge(),n)}else return x(ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Xa=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ee(e))return this.isFullyInitialized()&&!this.filtered_;let n=ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function B2(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(L2(o.childName,o.snapshotNode))}),Wa(t,i,"child_removed",e,r,n),Wa(t,i,"child_added",e,r,n),Wa(t,i,"child_moved",s,r,n),Wa(t,i,"child_changed",e,r,n),Wa(t,i,"value",e,r,n),i}function Wa(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,u)=>q2(t,a,u)),o.forEach(a=>{let u=$2(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(u,t.query_))})})}function $2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function q2(t,e,n){if(e.childName==null||n.childName==null)throw oi("Should only compare child_ events.");let r=new se(e.childName,e.snapshotNode),i=new se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Y0(t,e){return{eventCache:t,serverCache:e}}function Ya(t,e,n,r){return Y0(new Xa(e,n,r),t.serverCache)}function J0(t,e,n,r){return Y0(t.eventCache,new Xa(e,n,r))}function Qy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Di(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var vy,H2=()=>(vy||(vy=new Ut(Hj)),vy),vt=class t{constructor(e,n=H2()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return jt(e,(r,i)=>{n=n.set(new ve(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ee(e))return null;{let r=ie(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Ie(e),n);return s!=null?{path:Ue(new ve(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ee(e))return this;{let n=ie(e),r=this.children.get(n);return r!==null?r.subtree(Ie(e)):new t(null)}}set(e,n){if(ee(e))return new t(n,this.children);{let r=ie(e),s=(this.children.get(r)||new t(null)).set(Ie(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(ee(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ie(e),r=this.children.get(n);if(r){let i=r.remove(Ie(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(ee(e))return this.value;{let n=ie(e),r=this.children.get(n);return r?r.get(Ie(e)):null}}setTree(e,n){if(ee(e))return n;{let r=ie(e),s=(this.children.get(r)||new t(null)).setTree(Ie(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ue(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ee(e))return null;{let s=ie(e),o=this.children.get(s);return o?o.findOnPath_(Ie(e),Ue(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,r){if(ee(e))return this;{this.value&&r(n,this.value);let i=ie(e),s=this.children.get(i);return s?s.foreachOnPath_(Ie(e),Ue(n,i),r):new t(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ue(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Xt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new vt(null))}};function Ja(t,e,n){if(ee(e))return new Xt(new vt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Vt(i,e);return s=s.updateChild(o,n),new Xt(t.writeTree_.set(i,s))}else{let i=new vt(n),s=t.writeTree_.setTree(e,i);return new Xt(s)}}}function i0(t,e,n){let r=t;return jt(n,(i,s)=>{r=Ja(r,Ue(e,i),s)}),r}function s0(t,e){if(ee(e))return Xt.empty();{let n=t.writeTree_.setTree(e,new vt(null));return new Xt(n)}}function Yy(t,e){return bi(t,e)!=null}function bi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vt(n.path,e)):null}function o0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(it,(r,i)=>{e.push(new se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new se(r,i.value))}),e}function Mr(t,e){if(ee(e))return t;{let n=bi(t,e);return n!=null?new Xt(new vt(n)):new Xt(t.writeTree_.subtree(e))}}function Jy(t){return t.writeTree_.isEmpty()}function Xs(t,e){return X0(ge(),t.writeTree_,e)}function X0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(x(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=X0(Ue(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ue(t,".priority"),r)),n}}function Z0(t,e){return iS(e,t)}function G2(t,e,n,r,i){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ja(t.visibleWrites,e,n)),t.lastWriteId=r}function z2(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function W2(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&K2(a,r.path)?i=!1:Jt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Q2(t),!0;if(r.snap)t.visibleWrites=s0(t.visibleWrites,r.path);else{let a=r.children;jt(a,u=>{t.visibleWrites=s0(t.visibleWrites,Ue(r.path,u))})}return!0}else return!1}function K2(t,e){if(t.snap)return Jt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Jt(Ue(t.path,n),e))return!0;return!1}function Q2(t){t.visibleWrites=eS(t.allWrites,Y2,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Y2(t){return t.visible}function eS(t,e,n){let r=Xt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Jt(n,o)?(a=Vt(n,o),r=Ja(r,a,s.snap)):Jt(o,n)&&(a=Vt(o,n),r=Ja(r,ge(),s.snap.getChild(a)));else if(s.children){if(Jt(n,o))a=Vt(n,o),r=i0(r,a,s.children);else if(Jt(o,n))if(a=Vt(o,n),ee(a))r=i0(r,ge(),s.children);else{let u=ai(s.children,ie(a));if(u){let l=u.getChild(Ie(a));r=Ja(r,ge(),l)}}}else throw oi("WriteRecord should have .snap or .children")}}return r}function tS(t,e,n,r,i){if(!r&&!i){let s=bi(t.visibleWrites,e);if(s!=null)return s;{let o=Mr(t.visibleWrites,e);if(Jy(o))return n;if(n==null&&!Yy(o,ge()))return null;{let a=n||Te.EMPTY_NODE;return Xs(o,a)}}}else{let s=Mr(t.visibleWrites,e);if(!i&&Jy(s))return n;if(!i&&n==null&&!Yy(s,ge()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Jt(l.path,e)||Jt(e,l.path))},a=eS(t.allWrites,o,e),u=n||Te.EMPTY_NODE;return Xs(a,u)}}}function J2(t,e,n){let r=Te.EMPTY_NODE,i=bi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(it,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Mr(t.visibleWrites,e);return n.forEachChild(it,(o,a)=>{let u=Xs(Mr(s,new ve(o)),a);r=r.updateImmediateChild(o,u)}),o0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Mr(t.visibleWrites,e);return o0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function X2(t,e,n,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Ue(e,n);if(Yy(t.visibleWrites,s))return null;{let o=Mr(t.visibleWrites,s);return Jy(o)?i.getChild(n):Xs(o,i.getChild(n))}}function Z2(t,e,n,r){let i=Ue(e,n),s=bi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Mr(t.visibleWrites,i);return Xs(o,r.getNode().getImmediateChild(n))}else return null}function eB(t,e){return bi(t.visibleWrites,e)}function tB(t,e,n,r,i,s,o){let a,u=Mr(t.visibleWrites,e),l=bi(u,ge());if(l!=null)a=l;else if(n!=null)a=Xs(u,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let f=[],p=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),D=m.getNext();for(;D&&f.length<i;)p(D,r)!==0&&f.push(D),D=m.getNext();return f}else return[]}function nB(){return{visibleWrites:Xt.empty(),allWrites:[],lastWriteId:-1}}function Xy(t,e,n,r){return tS(t.writeTree,t.treePath,e,n,r)}function nS(t,e){return J2(t.writeTree,t.treePath,e)}function a0(t,e,n,r){return X2(t.writeTree,t.treePath,e,n,r)}function Ld(t,e){return eB(t.writeTree,Ue(t.treePath,e))}function rB(t,e,n,r,i,s){return tB(t.writeTree,t.treePath,e,n,r,i,s)}function mv(t,e,n){return Z2(t.writeTree,t.treePath,e,n)}function rS(t,e){return iS(Ue(t.treePath,e),t.writeTree)}function iS(t,e){return{treePath:t,writeTree:e}}var Zy=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;x(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),x(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,e0(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,F2(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,k2(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,e0(r,e.snapshotNode,i.oldSnap));else throw oi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var ev=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},sS=new ev,Za=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Xa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Di(this.viewCache_),s=rB(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function iB(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sB(t,e,n,r,i){let s=new Zy,o,a;if(n.type===Wn.OVERWRITE){let l=n;l.source.fromUser?o=tv(t,e,l.path,l.snap,r,i,s):(x(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ee(l.path),o=Vd(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Wn.MERGE){let l=n;l.source.fromUser?o=aB(t,e,l.path,l.children,r,i,s):(x(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=nv(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Wn.ACK_USER_WRITE){let l=n;l.revert?o=lB(t,e,l.path,r,i,s):o=cB(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===Wn.LISTEN_COMPLETE)o=uB(t,e,n.path,r,s);else throw oi("Unknown operation type: "+n.type);let u=s.getChanges();return oB(e,o,u),{viewCache:o,changes:u}}function oB(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(O2(Qy(e)))}}function oS(t,e,n,r,i,s){let o=e.eventCache;if(Ld(r,n)!=null)return e;{let a,u;if(ee(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Di(e),f=l instanceof Te?l:Te.EMPTY_NODE,p=nS(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let l=Xy(r,Di(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=ie(n);if(l===".priority"){x(Pr(n)===1,"Can't have a priority with additional path components");let f=o.getNode();u=e.serverCache.getNode();let p=a0(r,n,f,u);p!=null?a=t.filter.updatePriority(f,p):a=o.getNode()}else{let f=Ie(n),p;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();let m=a0(r,n,o.getNode(),u);m!=null?p=o.getNode().getImmediateChild(l).updateChild(f,m):p=o.getNode().getImmediateChild(l)}else p=mv(r,l,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),l,p,f,i,s):a=o.getNode()}}return Ya(e,a,o.isFullyInitialized()||ee(n),t.filter.filtersNodes())}}function Vd(t,e,n,r,i,s,o,a){let u=e.serverCache,l,f=o?t.filter:t.filter.getIndexedFilter();if(ee(n))l=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){let D=u.getNode().updateChild(n,r);l=f.updateFullNode(u.getNode(),D,null)}else{let D=ie(n);if(!u.isCompleteForPath(n)&&Pr(n)>1)return e;let A=Ie(n),N=u.getNode().getImmediateChild(D).updateChild(A,r);D===".priority"?l=f.updatePriority(u.getNode(),N):l=f.updateChild(u.getNode(),D,N,A,sS,null)}let p=J0(e,l,u.isFullyInitialized()||ee(n),f.filtersNodes()),m=new Za(i,p,s);return oS(t,p,n,i,m,a)}function tv(t,e,n,r,i,s,o){let a=e.eventCache,u,l,f=new Za(i,e,s);if(ee(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Ya(e,l,!0,t.filter.filtersNodes());else{let p=ie(n);if(p===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),u=Ya(e,l,a.isFullyInitialized(),a.isFiltered());else{let m=Ie(n),D=a.getNode().getImmediateChild(p),A;if(ee(m))A=r;else{let P=f.getCompleteChild(p);P!=null?L0(m)===".priority"&&P.getChild(U0(m)).isEmpty()?A=P:A=P.updateChild(m,r):A=Te.EMPTY_NODE}if(D.equals(A))u=e;else{let P=t.filter.updateChild(a.getNode(),p,A,m,f,o);u=Ya(e,P,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function c0(t,e){return t.eventCache.isCompleteForChild(e)}function aB(t,e,n,r,i,s,o){let a=e;return r.foreach((u,l)=>{let f=Ue(n,u);c0(e,ie(f))&&(a=tv(t,a,f,l,i,s,o))}),r.foreach((u,l)=>{let f=Ue(n,u);c0(e,ie(f))||(a=tv(t,a,f,l,i,s,o))}),a}function u0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function nv(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,l;ee(n)?l=r:l=new vt(null).setTree(n,r);let f=e.serverCache.getNode();return l.children.inorderTraversal((p,m)=>{if(f.hasChild(p)){let D=e.serverCache.getNode().getImmediateChild(p),A=u0(t,D,m);u=Vd(t,u,new ve(p),A,i,s,o,a)}}),l.children.inorderTraversal((p,m)=>{let D=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!f.hasChild(p)&&!D){let A=e.serverCache.getNode().getImmediateChild(p),P=u0(t,A,m);u=Vd(t,u,new ve(p),P,i,s,o,a)}}),u}function cB(t,e,n,r,i,s,o){if(Ld(i,n)!=null)return e;let a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Vd(t,e,n,u.getNode().getChild(n),i,s,a,o);if(ee(n)){let l=new vt(null);return u.getNode().forEachChild(zs,(f,p)=>{l=l.set(new ve(f),p)}),nv(t,e,n,l,i,s,a,o)}else return e}else{let l=new vt(null);return r.foreach((f,p)=>{let m=Ue(n,f);u.isCompleteForPath(m)&&(l=l.set(f,u.getNode().getChild(m)))}),nv(t,e,n,l,i,s,a,o)}}function uB(t,e,n,r,i){let s=e.serverCache,o=J0(e,s.getNode(),s.isFullyInitialized()||ee(n),s.isFiltered());return oS(t,o,n,r,sS,i)}function lB(t,e,n,r,i,s){let o;if(Ld(r,n)!=null)return e;{let a=new Za(r,e,i),u=e.eventCache.getNode(),l;if(ee(n)||ie(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Xy(r,Di(e));else{let p=e.serverCache.getNode();x(p instanceof Te,"serverChildren would be complete if leaf node"),f=nS(r,p)}f=f,l=t.filter.updateFullNode(u,f,s)}else{let f=ie(n),p=mv(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?l=t.filter.updateChild(u,f,p,Ie(n),a,s):e.eventCache.getNode().hasChild(f)?l=t.filter.updateChild(u,f,Te.EMPTY_NODE,Ie(n),a,s):l=u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Xy(r,Di(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Ld(r,ge())!=null,Ya(e,l,o,t.filter.filtersNodes())}}function dB(t,e){let n=Di(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ee(e)&&!n.getImmediateChild(ie(e)).isEmpty())?n.getChild(e):null}function l0(t,e,n,r){e.type===Wn.MERGE&&e.source.queryId!==null&&(x(Di(t.viewCache_),"We should always have a full cache before handling merges"),x(Qy(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=sB(t.processor_,i,e,n,r);return iB(t.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,hB(t,s.changes,s.viewCache.eventCache.getNode(),null)}function hB(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return B2(t.eventGenerator_,e,n,i)}var d0;function fB(t){x(!d0,"__referenceConstructor has already been defined"),d0=t}function yv(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return x(s!=null,"SyncTree gave us an op for an invalid query."),l0(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(l0(o,e,n,r));return s}}function vv(t,e){let n=null;for(let r of t.views.values())n=n||dB(r,e);return n}var h0;function pB(t){x(!h0,"__referenceConstructor has already been defined"),h0=t}var Ud=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vt(null),this.pendingWriteTree_=nB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function gB(t,e,n,r,i){return G2(t.pendingWriteTree_,e,n,r,i),i?Bd(t,new Js(W0(),e,n)):[]}function Hs(t,e,n=!1){let r=z2(t.pendingWriteTree_,e);if(W2(t.pendingWriteTree_,e)){let s=new vt(null);return r.snap!=null?s=s.set(ge(),!0):jt(r.children,o=>{s=s.set(new ve(o),!0)}),Bd(t,new Ky(r.path,s,n))}else return[]}function jd(t,e,n){return Bd(t,new Js(K0(),e,n))}function mB(t,e,n){let r=vt.fromObject(n);return Bd(t,new Fd(K0(),e,r))}function yB(t,e,n,r){let i=lS(t,r);if(i!=null){let s=dS(i),o=s.path,a=s.queryId,u=Vt(o,e),l=new Js(Q0(a),u,n);return hS(t,o,l)}else return[]}function vB(t,e,n,r){let i=lS(t,r);if(i){let s=dS(i),o=s.path,a=s.queryId,u=Vt(o,e),l=vt.fromObject(n),f=new Fd(Q0(a),u,l);return hS(t,o,f)}else return[]}function aS(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let u=Vt(o,e),l=vv(a,u);if(l)return l});return tS(i,e,s,n,!0)}function Bd(t,e){return cS(e,t.syncPointTree_,null,Z0(t.pendingWriteTree_,ge()))}function cS(t,e,n,r){if(ee(t.path))return uS(t,e,n,r);{let i=e.get(ge());n==null&&i!=null&&(n=vv(i,ge()));let s=[],o=ie(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){let l=n?n.getImmediateChild(o):null,f=rS(r,o);s=s.concat(cS(a,u,l,f))}return i&&(s=s.concat(yv(i,t,r,n))),s}}function uS(t,e,n,r){let i=e.get(ge());n==null&&i!=null&&(n=vv(i,ge()));let s=[];return e.children.inorderTraversal((o,a)=>{let u=n?n.getImmediateChild(o):null,l=rS(r,o),f=t.operationForChild(o);f&&(s=s.concat(uS(f,a,u,l)))}),i&&(s=s.concat(yv(i,t,r,n))),s}function lS(t,e){return t.tagToQueryMap.get(e)}function dS(t){let e=t.indexOf("$");return x(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ve(t.substr(0,e))}}function hS(t,e,n){let r=t.syncPointTree_.get(e);x(r,"Missing sync point for query tag that we're tracking");let i=Z0(t.pendingWriteTree_,e);return yv(r,n,i,null)}var rv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},iv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ue(this.path_,e);return new t(this.syncTree_,n)}node(){return aS(this.syncTree_,this.path_)}},_B=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},f0=function(t,e,n){if(!t||typeof t!="object")return t;if(x(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return wB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return IB(t[".sv"],e);x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},wB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:x(!1,"Unexpected server value: "+t)}},IB=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&x(!1,"Unexpected increment value: "+r);let i=e.node();if(x(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},EB=function(t,e,n,r){return _v(e,new iv(n,t),r)},CB=function(t,e,n){return _v(t,new rv(e),n)};function _v(t,e,n){let r=t.getPriority().val(),i=f0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=f0(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Qs(a,rt(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Qs(i))),o.forEachChild(it,(a,u)=>{let l=_v(u,e.getImmediateChild(a),n);l!==u&&(s=s.updateImmediateChild(a,l))}),s}}var ec=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function wv(t,e){let n=e instanceof ve?e:new ve(e),r=t,i=ie(n);for(;i!==null;){let s=ai(r.node.children,i)||{children:{},childCount:0};r=new ec(i,r,s),n=Ie(n),i=ie(n)}return r}function to(t){return t.node.value}function fS(t,e){t.node.value=e,sv(t)}function pS(t){return t.node.childCount>0}function TB(t){return to(t)===void 0&&!pS(t)}function $d(t,e){jt(t.node.children,(n,r)=>{e(new ec(n,t,r))})}function gS(t,e,n,r){n&&!r&&e(t),$d(t,i=>{gS(i,e,!0,r)}),n&&r&&e(t)}function DB(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sc(t){return new ve(t.parent===null?t.name:sc(t.parent)+"/"+t.name)}function sv(t){t.parent!==null&&bB(t.parent,t.name,t)}function bB(t,e,n){let r=TB(n),i=vn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,sv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,sv(t))}var SB=/[\[\].#$\/\u0000-\u001F\u007F]/,AB=/[\[\].#$\u0000-\u001F\u007F]/,_y=10*1024*1024,mS=function(t){return typeof t=="string"&&t.length!==0&&!SB.test(t)},RB=function(t){return typeof t=="string"&&t.length!==0&&!AB.test(t)},NB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),RB(t)};var yS=function(t,e,n){let r=n instanceof ve?new xy(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ii(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ii(r)+" with contents = "+e.toString());if(_0(e))throw new Error(t+"contains "+e.toString()+" "+Ii(r));if(typeof e=="string"&&e.length>_y/3&&Ra(e)>_y)throw new Error(t+"contains a string greater than "+_y+" utf8 bytes "+Ii(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(jt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!mS(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ii(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);I2(r,o),yS(t,a,r),E2(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ii(r)+" in addition to actual children.")}};var MB=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!mS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NB(n))throw new Error(sD(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var ov=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function PB(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!j0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Si(t,e,n){PB(t,n),xB(t,r=>Jt(r,e)||Jt(e,r))}function xB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(OB(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function OB(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Ci&&nt("event: "+n.toString()),rc(r)}}}var kB="repo_interrupt",FB=25,av=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ov,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kd(),this.transactionQueueTree_=new ec,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function LB(t,e,n){if(t.stats_=fv(t.repoInfo_),t.forceRestClient_||Yj())t.server_=new qy(t.repoInfo_,(r,i,s,o)=>{p0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>g0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pv(t.repoInfo_,e,(r,i,s,o)=>{p0(t,r,i,s,o)},r=>{g0(t,r)},r=>{UB(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Xj(t.repoInfo_,()=>new Wy(t.stats_,t.server_)),t.infoData_=new Hy,t.infoSyncTree_=new Ud({startListening:(r,i,s,o)=>{let a=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=jd(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Iv(t,"connected",!1),t.serverSyncTree_=new Ud({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{let l=o(a,u);Si(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function VB(t){let n=t.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vS(t){return _B({timestamp:VB(t)})}function p0(t,e,n,r,i){t.dataUpdateCount++;let s=new ve(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let u=Aa(n,l=>rt(l));o=vB(t.serverSyncTree_,s,u,i)}else{let u=rt(n);o=yB(t.serverSyncTree_,s,u,i)}else if(r){let u=Aa(n,l=>rt(l));o=mB(t.serverSyncTree_,s,u)}else{let u=rt(n);o=jd(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=Cv(t,s)),Si(t.eventQueue_,a,o)}function g0(t,e){Iv(t,"connected",e),e===!1&&BB(t)}function UB(t,e){jt(e,(n,r)=>{Iv(t,n,r)})}function Iv(t,e,n){let r=new ve("/.info/"+e),i=rt(n);t.infoData_.updateSnapshot(r,i);let s=jd(t.infoSyncTree_,r,i);Si(t.eventQueue_,r,s)}function jB(t){return t.nextWriteId_++}function BB(t){_S(t,"onDisconnectEvents");let e=vS(t),n=kd();Gy(t.onDisconnect_,ge(),(i,s)=>{let o=EB(i,s,t.serverSyncTree_,e);z0(n,i,o)});let r=[];Gy(n,ge(),(i,s)=>{r=r.concat(jd(t.serverSyncTree_,i,s));let o=GB(t,i);Cv(t,o)}),t.onDisconnect_=kd(),Si(t.eventQueue_,ge(),r)}function $B(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kB)}function _S(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function wS(t,e,n){return aS(t.serverSyncTree_,e,n)||Te.EMPTY_NODE}function Ev(t,e=t.transactionQueueTree_){if(e||qd(t,e),to(e)){let n=ES(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&qB(t,sc(e),n)}else pS(e)&&$d(e,n=>{Ev(t,n)})}function qB(t,e,n){let r=n.map(l=>l.currentWriteId),i=wS(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let f=n[l];x(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=Vt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let a=s.val(!0),u=e;t.server_.put(u.toString(),a,l=>{_S(t,"transaction put response",{path:u.toString(),status:l});let f=[];if(l==="ok"){let p=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(Hs(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();qd(t,wv(t.transactionQueueTree_,e)),Ev(t,t.transactionQueueTree_),Si(t.eventQueue_,e,f);for(let m=0;m<p.length;m++)rc(p[m])}else{if(l==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Rt("transaction at "+u.toString()+" failed: "+l);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=l}Cv(t,e)}},o)}function Cv(t,e){let n=IS(t,e),r=sc(n),i=ES(t,n);return HB(t,i,r),r}function HB(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let u=e[a],l=Vt(n,u.path),f=!1,p;if(x(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,i=i.concat(Hs(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=FB)f=!0,p="maxretry",i=i.concat(Hs(t.serverSyncTree_,u.currentWriteId,!0));else{let m=wS(t,u.path,o);u.currentInputSnapshot=m;let D=e[a].update(m.val());if(D!==void 0){yS("transaction failed: Data returned ",D,u.path);let A=rt(D);typeof D=="object"&&D!=null&&vn(D,".priority")||(A=A.updatePriority(m.getPriority()));let N=u.currentWriteId,k=vS(t),J=CB(A,m,k);u.currentOutputSnapshotRaw=A,u.currentOutputSnapshotResolved=J,u.currentWriteId=jB(t),o.splice(o.indexOf(N),1),i=i.concat(gB(t.serverSyncTree_,u.path,J,u.currentWriteId,u.applyLocally)),i=i.concat(Hs(t.serverSyncTree_,N,!0))}else f=!0,p="nodata",i=i.concat(Hs(t.serverSyncTree_,u.currentWriteId,!0))}Si(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}qd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)rc(r[a]);Ev(t,t.transactionQueueTree_)}function IS(t,e){let n,r=t.transactionQueueTree_;for(n=ie(e);n!==null&&to(r)===void 0;)r=wv(r,n),e=Ie(e),n=ie(e);return r}function ES(t,e){let n=[];return CS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function CS(t,e,n){let r=to(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$d(e,i=>{CS(t,i,n)})}function qd(t,e){let n=to(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fS(e,n.length>0?n:void 0)}$d(e,r=>{qd(t,r)})}function GB(t,e){let n=sc(IS(t,e)),r=wv(t.transactionQueueTree_,e);return DB(r,i=>{wy(t,i)}),wy(t,r),gS(r,i=>{wy(t,i)}),n}function wy(t,e){let n=to(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(x(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Hs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?fS(e,void 0):n.length=s+1,Si(t.eventQueue_,sc(e),i);for(let o=0;o<r.length;o++)rc(r[o])}}function zB(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function WB(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${n}' in query '${t}'`)}return e}var m0=function(t,e){let n=KB(t),r=n.namespace;n.domain==="firebase.com"&&Kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$j();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ad(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ve(n.pathString)}},KB=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=zB(t.substring(f,p)));let m=WB(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",u=parseInt(e.substring(l+1),10)):l=e.length;let D=e.slice(0,l);if(D.toLowerCase()==="localhost")n="localhost";else if(D.split(".").length<=2)n=D;else{let A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),n=e.substring(A+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var cv=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ee(this._path)?null:L0(this._path)}get ref(){return new Zs(this._repo,this._path)}get _queryIdentifier(){let e=n0(this._queryParams),n=hv(e);return n==="{}"?"default":n}get _queryObject(){return n0(this._queryParams)}isEqual(e){if(e=Kt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=j0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+w2(this._path)}};var Zs=class t extends cv{constructor(e,n){super(e,n,new $y,!1)}get parent(){let e=U0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};fB(Zs);pB(Zs);var QB="FIREBASE_DATABASE_EMULATOR_HOST",uv={},YB=!1;function JB(t,e,n,r){t.repoInfo_=new Ad(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function XB(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=m0(s,i),a=o.repoInfo,u,l;typeof process<"u"&&process.env&&(l=process.env[QB]),l?(u=!0,s=`http://${l}?ns=${a.namespace}`,o=m0(s,i),a=o.repoInfo):u=!o.repoInfo.secure;let f=i&&u?new Qa(Qa.OWNER):new by(t.name,t.options,e);MB("Invalid Firebase Database URL",o),ee(o.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");let p=e$(a,t,f,new Dy(t.name,n));return new lv(p,t)}function ZB(t,e){let n=uv[e];(!n||n[t.key]!==t)&&Kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$B(t),delete n[t.key]}function e$(t,e,n,r){let i=uv[e.name];i||(i={},uv[e.name]=i);let s=i[t.toURLString()];return s&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new av(t,YB,n,r),i[t.toURLString()]=s,s}var lv=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zs(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kn("Cannot call "+e+" on a deleted database.")}};function TS(t=Er(),e){let n=hi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=zl("database");r&&DS(n,...r)}return n}function DS(t,e,n,r={}){t=Kt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Kn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Qa(Qa.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Wl(r.mockUserToken,t.app.options.projectId);s=new Qa(o)}JB(i,e,n,s)}function t$(t){Uj(En),In(new mt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return XB(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ee(Vb,Ub,t),Ee(Vb,Ub,"esm2017")}pv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};t$();var oc=class{constructor(e){return e}},bS="database",Tv=class{constructor(){return pi(bS)}};var Dv=new F("angularfire2.database-instances");function n$(t,e){let n=ks(bS,t,e);return n&&new oc(n)}function r$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new oc(r)}}var i$={provide:Tv,deps:[[new Me,Dv]]},s$={provide:oc,useFactory:n$,deps:[[new Me,Dv],Qt]};function SS(t,...e){return Ee("angularfire",$n.full,"rtdb"),ft([s$,i$,{provide:Dv,useFactory:r$(t),multi:!0,deps:[ne,$e,Tr,qn,[new Me,_i],[new Me,Cr],...e]}])}var AS=Dr(TS,!0);var RS={providers:[rT(WT),ID(()=>ED({projectId:"parcialjs",appId:"1:15189415614:web:1331423ebfb0722777b0ef",storageBucket:"parcialjs.appspot.com",apiKey:"AIzaSyCVB_2gFQIG6UGoZL5OLTBvlU_sJ-hhMfk",authDomain:"parcialjs.firebaseapp.com",messagingSenderId:"15189415614"})),db(()=>hb()),Fb(()=>Lb()),SS(()=>AS()),oC()]};var NS=(()=>{let e=class e{constructor(){this.title="parcial-julian-schmidt"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ln({type:e,selectors:[["app-root"]],standalone:!0,features:[hn],decls:1,vars:0,template:function(i,s){i&1&&gt(0,"router-outlet")},dependencies:[Ig]});let t=e;return t})();pC(NS,RS).catch(t=>console.error(t));
